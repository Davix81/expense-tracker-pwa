import{A as gf,B as Na,C as La,D as si,E as li,a as Zm,b as Ss,c as hf,d as Os,e as uf,f as He,g as Bd,h as As,i as Ts,j as jd,k as Rs,l as pf,m as Is,n as aa,o as Fs,p as Ns,q as Ls,r as vn,s as Vs,t as mf,u as zs,v as ff,w as Hd,x as Bs,y as Cn,z as oi}from"./chunk-J7BOGGN7.js";import{$ as Ht,$a as fn,$b as Aa,$c as af,A as yt,Aa as ps,Ab as de,Ad as xf,B as mm,Ba as st,Bb as Ct,Bc as bn,Bd as Ba,C as At,Ca as ti,Cb as v,Cc as Gm,Cd as $d,D as Ur,Da as Mm,Db as K,Dc as Km,Dd as wf,E as vt,Ea as ki,Eb as he,Ec as Qm,Ed as ja,F as fm,Fa as Be,Fb as Td,Fc as Xm,Fd as Us,G as gm,Ga as ms,Gb as _s,Gc as ht,Gd as Ws,H as pn,Ha as ii,Hb as bs,Hc as Qi,Hd as Mf,I as Ed,Ia as Sm,Ib as ys,Ic as Yt,Id as $s,Ja as fs,Jb as We,Jc as qe,Jd as Sf,Ka as j,Kb as Rd,Kc as Nd,Kd as Ha,La as Se,Lb as _i,Lc as Jm,Ld as Yd,M as jt,Ma as Y,Mb as je,Md as qd,N as Oe,Na as Re,Nb as gn,Nc as Ld,Nd as ra,O as Ce,Oa as H,Ob as na,Oc as ef,Od as Df,P as ct,Pa as Dm,Pb as bi,Pd as Ef,Q as U,Qa as Em,Qb as Am,Qc as Fa,Qd as Ys,R as cs,Ra as km,Rb as Tm,Rc as tf,Rd as kf,S as ds,Sa as $r,Sb as vs,Sc as ai,Sd as Pf,T as ae,Ta as Od,Tb as Id,Tc as yn,Td as Of,U as Me,Ua as Yr,Ub as _n,Ud as qs,V as _m,Va as pe,Vb as Rm,W as $,Wa as te,Wb as Im,Wc as nf,X as it,Xa as Ad,Xc as Ds,Y as b,Ya as ie,Yc as Es,Z as hs,Za as gs,Zb as Fm,Zc as ri,_ as Gi,_a as mn,_b as ye,_c as Dt,a as O,aa as V,ab as E,ac as ce,ad as rf,b as be,ba as z,bb as g,bc as Ai,bd as of,c as sm,ca as Ut,cb as m,cd as Vd,d as Zt,da as Wr,db as q,dc as Nm,dd as ks,e as lm,ea as Ue,eb as Wt,ed as zd,f as qi,fa as Tt,fb as $t,fc as Lm,fd as sf,g as G,ga as kd,gb as Pm,gc as qr,gd as lf,h as Ve,ha as bm,hb as Qe,hc as Vm,hd as cf,i as cm,ia as W,ib as Xe,ic as Ta,id as Ps,j as dm,ja as dt,jb as lt,jc as zm,jd as df,k as hm,kb as ke,kc as Cs,kd as Xi,l as Jt,la as us,lb as Oa,lc as Ra,ld as Et,m as ot,ma as ym,mb as I,mc as Ia,md as _f,n as B,na as J,nb as Om,nc as Bm,nd as js,o as ei,ob as A,oc as xs,od as kt,p as Hr,pa as Ki,pb as et,pc as ws,pd as Ud,q as um,qa as ze,qb as De,qc as Ms,qd as Gr,r as ee,ra as nt,rb as ni,rc as Rt,rd as Va,s as gi,sa as vm,sb as Ye,sc as jm,sd as bf,t as Ei,ta as ge,tb as X,tc as Fd,td as yf,u as Dd,ua as Cm,ub as Z,uc as Hm,ud as Hs,v as pm,va as Pd,vc as Um,vd as vf,w as Pa,wa as xm,wc as Wm,wd as za,xc as $m,xd as Cf,y as bt,ya as wm,yb as Pi,yc as Ym,yd as xn,z as un,za as C,zb as Oi,zc as qm,zd as Wd}from"./chunk-ULYIJNJZ.js";var le="primary",ao=Symbol("RouteTitle"),Zd=class{params;constructor(i){this.params=i||{}}has(i){return Object.prototype.hasOwnProperty.call(this.params,i)}get(i){if(this.has(i)){let e=this.params[i];return Array.isArray(e)?e[0]:e}return null}getAll(i){if(this.has(i)){let e=this.params[i];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}};function la(n){return new Zd(n)}function Gd(n,i,e){for(let t=0;t<n.length;t++){let a=n[t],r=i[t];if(a[0]===":")e[a.substring(1)]=r;else if(a!==r.path)return!1}return!0}function Bf(n,i,e){let t=e.path.split("/"),a=t.indexOf("**");if(a===-1){if(t.length>n.length||e.pathMatch==="full"&&(i.hasChildren()||t.length<n.length))return null;let l={},c=n.slice(0,t.length);return Gd(t,c,l)?{consumed:c,posParams:l}:null}if(a!==t.lastIndexOf("**"))return null;let r=t.slice(0,a),o=t.slice(a+1);if(r.length+o.length>n.length||e.pathMatch==="full"&&i.hasChildren()&&e.path!=="**")return null;let s={};return!Gd(r,n.slice(0,r.length),s)||!Gd(o,n.slice(n.length-o.length),s)?null:{consumed:n,posParams:s}}function Js(n){return new Promise((i,e)=>{n.pipe(pn()).subscribe({next:t=>i(t),error:t=>e(t)})})}function SC(n,i){if(n.length!==i.length)return!1;for(let e=0;e<n.length;++e)if(!Ti(n[e],i[e]))return!1;return!0}function Ti(n,i){let e=n?Jd(n):void 0,t=i?Jd(i):void 0;if(!e||!t||e.length!=t.length)return!1;let a;for(let r=0;r<e.length;r++)if(a=e[r],!jf(n[a],i[a]))return!1;return!0}function Jd(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function jf(n,i){if(Array.isArray(n)&&Array.isArray(i)){if(n.length!==i.length)return!1;let e=[...n].sort(),t=[...i].sort();return e.every((a,r)=>t[r]===a)}else return n===i}function DC(n){return n.length>0?n[n.length-1]:null}function da(n){return Hr(n)?n:km(n)?ot(Promise.resolve(n)):B(n)}function Hf(n){return Hr(n)?Js(n):Promise.resolve(n)}var EC={exact:Wf,subset:$f},Uf={exact:kC,subset:PC,ignored:()=>!0};function Af(n,i,e){return EC[e.paths](n.root,i.root,e.matrixParams)&&Uf[e.queryParams](n.queryParams,i.queryParams)&&!(e.fragment==="exact"&&n.fragment!==i.fragment)}function kC(n,i){return Ti(n,i)}function Wf(n,i,e){if(!oa(n.segments,i.segments)||!Qs(n.segments,i.segments,e)||n.numberOfChildren!==i.numberOfChildren)return!1;for(let t in i.children)if(!n.children[t]||!Wf(n.children[t],i.children[t],e))return!1;return!0}function PC(n,i){return Object.keys(i).length<=Object.keys(n).length&&Object.keys(i).every(e=>jf(n[e],i[e]))}function $f(n,i,e){return Yf(n,i,i.segments,e)}function Yf(n,i,e,t){if(n.segments.length>e.length){let a=n.segments.slice(0,e.length);return!(!oa(a,e)||i.hasChildren()||!Qs(a,e,t))}else if(n.segments.length===e.length){if(!oa(n.segments,e)||!Qs(n.segments,e,t))return!1;for(let a in i.children)if(!n.children[a]||!$f(n.children[a],i.children[a],t))return!1;return!0}else{let a=e.slice(0,n.segments.length),r=e.slice(n.segments.length);return!oa(n.segments,a)||!Qs(n.segments,a,t)||!n.children[le]?!1:Yf(n.children[le],i,r,t)}}function Qs(n,i,e){return i.every((t,a)=>Uf[e](n[a].parameters,t.parameters))}var vi=class{root;queryParams;fragment;_queryParamMap;constructor(i=new Ee([],{}),e={},t=null){this.root=i,this.queryParams=e,this.fragment=t}get queryParamMap(){return this._queryParamMap??=la(this.queryParams),this._queryParamMap}toString(){return TC.serialize(this)}},Ee=class{segments;children;parent=null;constructor(i,e){this.segments=i,this.children=e,Object.values(e).forEach(t=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Xs(this)}},wn=class{path;parameters;_parameterMap;constructor(i,e){this.path=i,this.parameters=e}get parameterMap(){return this._parameterMap??=la(this.parameters),this._parameterMap}toString(){return Gf(this)}};function OC(n,i){return oa(n,i)&&n.every((e,t)=>Ti(e.parameters,i[t].parameters))}function oa(n,i){return n.length!==i.length?!1:n.every((e,t)=>e.path===i[t].path)}function AC(n,i){let e=[];return Object.entries(n.children).forEach(([t,a])=>{t===le&&(e=e.concat(i(a,t)))}),Object.entries(n.children).forEach(([t,a])=>{t!==le&&(e=e.concat(i(a,t)))}),e}var ha=(()=>{class n{static \u0275fac=function(t){return new(t||n)};static \u0275prov=ae({token:n,factory:()=>new Ji,providedIn:"root"})}return n})(),Ji=class{parse(i){let e=new th(i);return new vi(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(i){let e=`/${Kr(i.root,!0)}`,t=FC(i.queryParams),a=typeof i.fragment=="string"?`#${RC(i.fragment)}`:"";return`${e}${t}${a}`}},TC=new Ji;function Xs(n){return n.segments.map(i=>Gf(i)).join("/")}function Kr(n,i){if(!n.hasChildren())return Xs(n);if(i){let e=n.children[le]?Kr(n.children[le],!1):"",t=[];return Object.entries(n.children).forEach(([a,r])=>{a!==le&&t.push(`${a}:${Kr(r,!1)}`)}),t.length>0?`${e}(${t.join("//")})`:e}else{let e=AC(n,(t,a)=>a===le?[Kr(n.children[le],!1)]:[`${a}:${Kr(t,!1)}`]);return Object.keys(n.children).length===1&&n.children[le]!=null?`${Xs(n)}/${e[0]}`:`${Xs(n)}/(${e.join("//")})`}}function qf(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Gs(n){return qf(n).replace(/%3B/gi,";")}function RC(n){return encodeURI(n)}function eh(n){return qf(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Zs(n){return decodeURIComponent(n)}function Tf(n){return Zs(n.replace(/\+/g,"%20"))}function Gf(n){return`${eh(n.path)}${IC(n.parameters)}`}function IC(n){return Object.entries(n).map(([i,e])=>`;${eh(i)}=${eh(e)}`).join("")}function FC(n){let i=Object.entries(n).map(([e,t])=>Array.isArray(t)?t.map(a=>`${Gs(e)}=${Gs(a)}`).join("&"):`${Gs(e)}=${Gs(t)}`).filter(e=>e);return i.length?`?${i.join("&")}`:""}var NC=/^[^\/()?;#]+/;function Kd(n){let i=n.match(NC);return i?i[0]:""}var LC=/^[^\/()?;=#]+/;function VC(n){let i=n.match(LC);return i?i[0]:""}var zC=/^[^=?&#]+/;function BC(n){let i=n.match(zC);return i?i[0]:""}var jC=/^[^&#]+/;function HC(n){let i=n.match(jC);return i?i[0]:""}var th=class{url;remaining;constructor(i){this.url=i,this.remaining=i}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ee([],{}):new Ee([],this.parseChildren())}parseQueryParams(){let i={};if(this.consumeOptional("?"))do this.parseQueryParam(i);while(this.consumeOptional("&"));return i}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(i=0){if(i>50)throw new U(4010,!1);if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0,i));let a={};return this.peekStartsWith("(")&&(a=this.parseParens(!1,i)),(e.length>0||Object.keys(t).length>0)&&(a[le]=new Ee(e,t)),a}parseSegment(){let i=Kd(this.remaining);if(i===""&&this.peekStartsWith(";"))throw new U(4009,!1);return this.capture(i),new wn(Zs(i),this.parseMatrixParams())}parseMatrixParams(){let i={};for(;this.consumeOptional(";");)this.parseParam(i);return i}parseParam(i){let e=VC(this.remaining);if(!e)return;this.capture(e);let t="";if(this.consumeOptional("=")){let a=Kd(this.remaining);a&&(t=a,this.capture(t))}i[Zs(e)]=Zs(t)}parseQueryParam(i){let e=BC(this.remaining);if(!e)return;this.capture(e);let t="";if(this.consumeOptional("=")){let o=HC(this.remaining);o&&(t=o,this.capture(t))}let a=Tf(e),r=Tf(t);if(i.hasOwnProperty(a)){let o=i[a];Array.isArray(o)||(o=[o],i[a]=o),o.push(r)}else i[a]=r}parseParens(i,e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let a=Kd(this.remaining),r=this.remaining[a.length];if(r!=="/"&&r!==")"&&r!==";")throw new U(4010,!1);let o;a.indexOf(":")>-1?(o=a.slice(0,a.indexOf(":")),this.capture(o),this.capture(":")):i&&(o=le);let s=this.parseChildren(e+1);t[o??le]=Object.keys(s).length===1&&s[le]?s[le]:new Ee([],s),this.consumeOptional("//")}return t}peekStartsWith(i){return this.remaining.startsWith(i)}consumeOptional(i){return this.peekStartsWith(i)?(this.remaining=this.remaining.substring(i.length),!0):!1}capture(i){if(!this.consumeOptional(i))throw new U(4011,!1)}};function Kf(n){return n.segments.length>0?new Ee([],{[le]:n}):n}function Qf(n){let i={};for(let[t,a]of Object.entries(n.children)){let r=Qf(a);if(t===le&&r.segments.length===0&&r.hasChildren())for(let[o,s]of Object.entries(r.children))i[o]=s;else(r.segments.length>0||r.hasChildren())&&(i[t]=r)}let e=new Ee(n.segments,i);return UC(e)}function UC(n){if(n.numberOfChildren===1&&n.children[le]){let i=n.children[le];return new Ee(n.segments.concat(i.segments),i.children)}return n}function Mn(n){return n instanceof vi}function Xf(n,i,e=null,t=null,a=new Ji){let r=Zf(n);return Jf(r,i,e,t,a)}function Zf(n){let i;function e(r){let o={};for(let l of r.children){let c=e(l);o[l.outlet]=c}let s=new Ee(r.url,o);return r===n&&(i=s),s}let t=e(n.root),a=Kf(t);return i??a}function Jf(n,i,e,t,a){let r=n;for(;r.parent;)r=r.parent;if(i.length===0)return Qd(r,r,r,e,t,a);let o=WC(i);if(o.toRoot())return Qd(r,r,new Ee([],{}),e,t,a);let s=$C(o,r,n),l=s.processChildren?Xr(s.segmentGroup,s.index,o.commands):tg(s.segmentGroup,s.index,o.commands);return Qd(r,s.segmentGroup,l,e,t,a)}function el(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function Jr(n){return typeof n=="object"&&n!=null&&n.outlets}function Rf(n,i,e){n||="\u0275";let t=new vi;return t.queryParams={[n]:i},e.parse(e.serialize(t)).queryParams[n]}function Qd(n,i,e,t,a,r){let o={};for(let[c,d]of Object.entries(t??{}))o[c]=Array.isArray(d)?d.map(h=>Rf(c,h,r)):Rf(c,d,r);let s;n===i?s=e:s=eg(n,i,e);let l=Kf(Qf(s));return new vi(l,o,a)}function eg(n,i,e){let t={};return Object.entries(n.children).forEach(([a,r])=>{r===i?t[a]=e:t[a]=eg(r,i,e)}),new Ee(n.segments,t)}var tl=class{isAbsolute;numberOfDoubleDots;commands;constructor(i,e,t){if(this.isAbsolute=i,this.numberOfDoubleDots=e,this.commands=t,i&&t.length>0&&el(t[0]))throw new U(4003,!1);let a=t.find(Jr);if(a&&a!==DC(t))throw new U(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function WC(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new tl(!0,0,n);let i=0,e=!1,t=n.reduce((a,r,o)=>{if(typeof r=="object"&&r!=null){if(r.outlets){let s={};return Object.entries(r.outlets).forEach(([l,c])=>{s[l]=typeof c=="string"?c.split("/"):c}),[...a,{outlets:s}]}if(r.segmentPath)return[...a,r.segmentPath]}return typeof r!="string"?[...a,r]:o===0?(r.split("/").forEach((s,l)=>{l==0&&s==="."||(l==0&&s===""?e=!0:s===".."?i++:s!=""&&a.push(s))}),a):[...a,r]},[]);return new tl(e,i,t)}var Wa=class{segmentGroup;processChildren;index;constructor(i,e,t){this.segmentGroup=i,this.processChildren=e,this.index=t}};function $C(n,i,e){if(n.isAbsolute)return new Wa(i,!0,0);if(!e)return new Wa(i,!1,NaN);if(e.parent===null)return new Wa(e,!0,0);let t=el(n.commands[0])?0:1,a=e.segments.length-1+t;return YC(e,a,n.numberOfDoubleDots)}function YC(n,i,e){let t=n,a=i,r=e;for(;r>a;){if(r-=a,t=t.parent,!t)throw new U(4005,!1);a=t.segments.length}return new Wa(t,!1,a-r)}function qC(n){return Jr(n[0])?n[0].outlets:{[le]:n}}function tg(n,i,e){if(n??=new Ee([],{}),n.segments.length===0&&n.hasChildren())return Xr(n,i,e);let t=GC(n,i,e),a=e.slice(t.commandIndex);if(t.match&&t.pathIndex<n.segments.length){let r=new Ee(n.segments.slice(0,t.pathIndex),{});return r.children[le]=new Ee(n.segments.slice(t.pathIndex),n.children),Xr(r,0,a)}else return t.match&&a.length===0?new Ee(n.segments,{}):t.match&&!n.hasChildren()?ih(n,i,e):t.match?Xr(n,0,a):ih(n,i,e)}function Xr(n,i,e){if(e.length===0)return new Ee(n.segments,{});{let t=qC(e),a={};if(Object.keys(t).some(r=>r!==le)&&n.children[le]&&n.numberOfChildren===1&&n.children[le].segments.length===0){let r=Xr(n.children[le],i,e);return new Ee(n.segments,r.children)}return Object.entries(t).forEach(([r,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(a[r]=tg(n.children[r],i,o))}),Object.entries(n.children).forEach(([r,o])=>{t[r]===void 0&&(a[r]=o)}),new Ee(n.segments,a)}}function GC(n,i,e){let t=0,a=i,r={match:!1,pathIndex:0,commandIndex:0};for(;a<n.segments.length;){if(t>=e.length)return r;let o=n.segments[a],s=e[t];if(Jr(s))break;let l=`${s}`,c=t<e.length-1?e[t+1]:null;if(a>0&&l===void 0)break;if(l&&c&&typeof c=="object"&&c.outlets===void 0){if(!Ff(l,c,o))return r;t+=2}else{if(!Ff(l,{},o))return r;t++}a++}return{match:!0,pathIndex:a,commandIndex:t}}function ih(n,i,e){let t=n.segments.slice(0,i),a=0;for(;a<e.length;){let r=e[a];if(Jr(r)){let l=KC(r.outlets);return new Ee(t,l)}if(a===0&&el(e[0])){let l=n.segments[i];t.push(new wn(l.path,If(e[0]))),a++;continue}let o=Jr(r)?r.outlets[le]:`${r}`,s=a<e.length-1?e[a+1]:null;o&&s&&el(s)?(t.push(new wn(o,If(s))),a+=2):(t.push(new wn(o,{})),a++)}return new Ee(t,{})}function KC(n){let i={};return Object.entries(n).forEach(([e,t])=>{typeof t=="string"&&(t=[t]),t!==null&&(i[e]=ih(new Ee([],{}),0,t))}),i}function If(n){let i={};return Object.entries(n).forEach(([e,t])=>i[e]=`${t}`),i}function Ff(n,i,e){return n==e.path&&Ti(i,e.parameters)}var $a="imperative",at=(function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n})(at||{}),Gt=class{id;url;constructor(i,e){this.id=i,this.url=e}},Sn=class extends Gt{type=at.NavigationStart;navigationTrigger;restoredState;constructor(i,e,t="imperative",a=null){super(i,e),this.navigationTrigger=t,this.restoredState=a}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},di=class extends Gt{urlAfterRedirects;type=at.NavigationEnd;constructor(i,e,t){super(i,e),this.urlAfterRedirects=t}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},xt=(function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n[n.Aborted=4]="Aborted",n})(xt||{}),qa=(function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n})(qa||{}),ci=class extends Gt{reason;code;type=at.NavigationCancel;constructor(i,e,t,a){super(i,e),this.reason=t,this.code=a}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}};function ig(n){return n instanceof ci&&(n.code===xt.Redirect||n.code===xt.SupersededByNewNavigation)}var Ri=class extends Gt{reason;code;type=at.NavigationSkipped;constructor(i,e,t,a){super(i,e),this.reason=t,this.code=a}},ca=class extends Gt{error;target;type=at.NavigationError;constructor(i,e,t,a){super(i,e),this.error=t,this.target=a}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Ga=class extends Gt{urlAfterRedirects;state;type=at.RoutesRecognized;constructor(i,e,t,a){super(i,e),this.urlAfterRedirects=t,this.state=a}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},il=class extends Gt{urlAfterRedirects;state;type=at.GuardsCheckStart;constructor(i,e,t,a){super(i,e),this.urlAfterRedirects=t,this.state=a}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},nl=class extends Gt{urlAfterRedirects;state;shouldActivate;type=at.GuardsCheckEnd;constructor(i,e,t,a,r){super(i,e),this.urlAfterRedirects=t,this.state=a,this.shouldActivate=r}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},al=class extends Gt{urlAfterRedirects;state;type=at.ResolveStart;constructor(i,e,t,a){super(i,e),this.urlAfterRedirects=t,this.state=a}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},rl=class extends Gt{urlAfterRedirects;state;type=at.ResolveEnd;constructor(i,e,t,a){super(i,e),this.urlAfterRedirects=t,this.state=a}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ol=class{route;type=at.RouteConfigLoadStart;constructor(i){this.route=i}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},sl=class{route;type=at.RouteConfigLoadEnd;constructor(i){this.route=i}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},ll=class{snapshot;type=at.ChildActivationStart;constructor(i){this.snapshot=i}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},cl=class{snapshot;type=at.ChildActivationEnd;constructor(i){this.snapshot=i}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},dl=class{snapshot;type=at.ActivationStart;constructor(i){this.snapshot=i}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},hl=class{snapshot;type=at.ActivationEnd;constructor(i){this.snapshot=i}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ka=class{routerEvent;position;anchor;scrollBehavior;type=at.Scroll;constructor(i,e,t,a){this.routerEvent=i,this.position=e,this.anchor=t,this.scrollBehavior=a}toString(){let i=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${i}')`}},Qa=class{},Xa=class{url;navigationBehaviorOptions;constructor(i,e){this.url=i,this.navigationBehaviorOptions=e}};function QC(n){return!(n instanceof Qa)&&!(n instanceof Xa)}var ul=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return this.route?.snapshot._environmentInjector??this.rootInjector}constructor(i){this.rootInjector=i,this.children=new ua(this.rootInjector)}},ua=(()=>{class n{rootInjector;contexts=new Map;constructor(e){this.rootInjector=e}onChildOutletCreated(e,t){let a=this.getOrCreateContext(e);a.outlet=t,this.contexts.set(e,a)}onChildOutletDestroyed(e){let t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){let e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new ul(this.rootInjector),this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}static \u0275fac=function(t){return new(t||n)(it(Gi))};static \u0275prov=ae({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),pl=class{_root;constructor(i){this._root=i}get root(){return this._root.value}parent(i){let e=this.pathFromRoot(i);return e.length>1?e[e.length-2]:null}children(i){let e=nh(i,this._root);return e?e.children.map(t=>t.value):[]}firstChild(i){let e=nh(i,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(i){let e=ah(i,this._root);return e.length<2?[]:e[e.length-2].children.map(a=>a.value).filter(a=>a!==i)}pathFromRoot(i){return ah(i,this._root).map(e=>e.value)}};function nh(n,i){if(n===i.value)return i;for(let e of i.children){let t=nh(n,e);if(t)return t}return null}function ah(n,i){if(n===i.value)return[i];for(let e of i.children){let t=ah(n,e);if(t.length)return t.unshift(i),t}return[]}var qt=class{value;children;constructor(i,e){this.value=i,this.children=e}toString(){return`TreeNode(${this.value})`}};function Ua(n){let i={};return n&&n.children.forEach(e=>i[e.value.outlet]=e),i}var eo=class extends pl{snapshot;constructor(i,e){super(i),this.snapshot=e,uh(this,i)}toString(){return this.snapshot.toString()}};function ng(n,i){let e=XC(n,i),t=new Ve([new wn("",{})]),a=new Ve({}),r=new Ve({}),o=new Ve({}),s=new Ve(""),l=new Ii(t,a,o,s,r,le,n,e.root);return l.snapshot=e.root,new eo(new qt(l,[]),e)}function XC(n,i){let e={},t={},a={},o=new sa([],e,a,"",t,le,n,null,{},i);return new to("",new qt(o,[]))}var Ii=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(i,e,t,a,r,o,s,l){this.urlSubject=i,this.paramsSubject=e,this.queryParamsSubject=t,this.fragmentSubject=a,this.dataSubject=r,this.outlet=o,this.component=s,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(ee(c=>c[ao]))??B(void 0),this.url=i,this.params=e,this.queryParams=t,this.fragment=a,this.data=r}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ee(i=>la(i))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ee(i=>la(i))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function ml(n,i,e="emptyOnly"){let t,{routeConfig:a}=n;return i!==null&&(e==="always"||a?.path===""||!i.component&&!i.routeConfig?.loadComponent)?t={params:O(O({},i.params),n.params),data:O(O({},i.data),n.data),resolve:O(O(O(O({},n.data),i.data),a?.data),n._resolvedData)}:t={params:O({},n.params),data:O({},n.data),resolve:O(O({},n.data),n._resolvedData??{})},a&&rg(a)&&(t.resolve[ao]=a.title),t}var sa=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;_environmentInjector;get title(){return this.data?.[ao]}constructor(i,e,t,a,r,o,s,l,c,d){this.url=i,this.params=e,this.queryParams=t,this.fragment=a,this.data=r,this.outlet=o,this.component=s,this.routeConfig=l,this._resolve=c,this._environmentInjector=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=la(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=la(this.queryParams),this._queryParamMap}toString(){let i=this.url.map(t=>t.toString()).join("/"),e=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${i}', path:'${e}')`}},to=class extends pl{url;constructor(i,e){super(e),this.url=i,uh(this,e)}toString(){return ag(this._root)}};function uh(n,i){i.value._routerState=n,i.children.forEach(e=>uh(n,e))}function ag(n){let i=n.children.length>0?` { ${n.children.map(ag).join(", ")} } `:"";return`${n.value}${i}`}function Xd(n){if(n.snapshot){let i=n.snapshot,e=n._futureSnapshot;n.snapshot=e,Ti(i.queryParams,e.queryParams)||n.queryParamsSubject.next(e.queryParams),i.fragment!==e.fragment&&n.fragmentSubject.next(e.fragment),Ti(i.params,e.params)||n.paramsSubject.next(e.params),SC(i.url,e.url)||n.urlSubject.next(e.url),Ti(i.data,e.data)||n.dataSubject.next(e.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function rh(n,i){let e=Ti(n.params,i.params)&&OC(n.url,i.url),t=!n.parent!=!i.parent;return e&&!t&&(!n.parent||rh(n.parent,i.parent))}function rg(n){return typeof n.title=="string"||n.title===null}var og=new $(""),ro=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=le;activateEvents=new W;deactivateEvents=new W;attachEvents=new W;detachEvents=new W;routerOutletData=Im();parentContexts=b(ua);location=b(ii);changeDetector=b(ye);inputBinder=b(oo,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(e){if(e.name){let{firstChange:t,previousValue:a}=e.name;if(t)return;this.isTrackedInParentContexts(a)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(a)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new U(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new U(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new U(4012,!1);this.location.detach();let e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,t){this.activated=e,this._activatedRoute=t,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){let e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,t){if(this.isActivated)throw new U(4013,!1);this._activatedRoute=e;let a=this.location,o=e.snapshot.component,s=this.parentContexts.getOrCreateContext(this.name).children,l=new oh(e,s,a.injector,this.routerOutletData);this.activated=a.createComponent(o,{index:a.length,injector:l,environmentInjector:t}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(t){return new(t||n)};static \u0275dir=Y({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[ze]})}return n})(),oh=class{route;childContexts;parent;outletData;constructor(i,e,t,a){this.route=i,this.childContexts=e,this.parent=t,this.outletData=a}get(i,e){return i===Ii?this.route:i===ua?this.childContexts:i===og?this.outletData:this.parent.get(i,e)}},oo=new $(""),ph=(()=>{class n{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(e){this.unsubscribeFromRouteData(e),this.subscribeToRouteData(e)}unsubscribeFromRouteData(e){this.outletDataSubscriptions.get(e)?.unsubscribe(),this.outletDataSubscriptions.delete(e)}subscribeToRouteData(e){let{activatedRoute:t}=e,a=gi([t.queryParams,t.params,t.data]).pipe(Oe(([r,o,s],l)=>(s=O(O(O({},r),o),s),l===0?B(s):Promise.resolve(s)))).subscribe(r=>{if(!e.isActivated||!e.activatedComponentRef||e.activatedRoute!==t||t.component===null){this.unsubscribeFromRouteData(e);return}let o=Nm(t.component);if(!o){this.unsubscribeFromRouteData(e);return}for(let{templateName:s}of o.inputs)e.activatedComponentRef.setInput(s,r[s])});this.outletDataSubscriptions.set(e,a)}static \u0275fac=function(t){return new(t||n)};static \u0275prov=ae({token:n,factory:n.\u0275fac})}return n})(),mh=(()=>{class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=j({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(t,a){t&1&&q(0,"router-outlet")},dependencies:[ro],encapsulation:2})}return n})();function fh(n){let i=n.children&&n.children.map(fh),e=i?be(O({},n),{children:i}):O({},n);return!e.component&&!e.loadComponent&&(i||e.loadChildren)&&e.outlet&&e.outlet!==le&&(e.component=mh),e}function ZC(n,i,e){let t=io(n,i._root,e?e._root:void 0);return new eo(t,i)}function io(n,i,e){if(e&&n.shouldReuseRoute(i.value,e.value.snapshot)){let t=e.value;t._futureSnapshot=i.value;let a=JC(n,i,e);return new qt(t,a)}else{if(n.shouldAttach(i.value)){let r=n.retrieve(i.value);if(r!==null){let o=r.route;return o.value._futureSnapshot=i.value,o.children=i.children.map(s=>io(n,s)),o}}let t=ex(i.value),a=i.children.map(r=>io(n,r));return new qt(t,a)}}function JC(n,i,e){return i.children.map(t=>{for(let a of e.children)if(n.shouldReuseRoute(t.value,a.value.snapshot))return io(n,t,a);return io(n,t)})}function ex(n){return new Ii(new Ve(n.url),new Ve(n.params),new Ve(n.queryParams),new Ve(n.fragment),new Ve(n.data),n.outlet,n.component,n)}var Za=class{redirectTo;navigationBehaviorOptions;constructor(i,e){this.redirectTo=i,this.navigationBehaviorOptions=e}},sg="ngNavigationCancelingError";function fl(n,i){let{redirectTo:e,navigationBehaviorOptions:t}=Mn(i)?{redirectTo:i,navigationBehaviorOptions:void 0}:i,a=lg(!1,xt.Redirect);return a.url=e,a.navigationBehaviorOptions=t,a}function lg(n,i){let e=new Error(`NavigationCancelingError: ${n||""}`);return e[sg]=!0,e.cancellationCode=i,e}function tx(n){return cg(n)&&Mn(n.url)}function cg(n){return!!n&&n[sg]}var sh=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(i,e,t,a,r){this.routeReuseStrategy=i,this.futureState=e,this.currState=t,this.forwardEvent=a,this.inputBindingEnabled=r}activate(i){let e=this.futureState._root,t=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,t,i),Xd(this.futureState.root),this.activateChildRoutes(e,t,i)}deactivateChildRoutes(i,e,t){let a=Ua(e);i.children.forEach(r=>{let o=r.value.outlet;this.deactivateRoutes(r,a[o],t),delete a[o]}),Object.values(a).forEach(r=>{this.deactivateRouteAndItsChildren(r,t)})}deactivateRoutes(i,e,t){let a=i.value,r=e?e.value:null;if(a===r)if(a.component){let o=t.getContext(a.outlet);o&&this.deactivateChildRoutes(i,e,o.children)}else this.deactivateChildRoutes(i,e,t);else r&&this.deactivateRouteAndItsChildren(e,t)}deactivateRouteAndItsChildren(i,e){i.value.component&&this.routeReuseStrategy.shouldDetach(i.value.snapshot)?this.detachAndStoreRouteSubtree(i,e):this.deactivateRouteAndOutlet(i,e)}detachAndStoreRouteSubtree(i,e){let t=e.getContext(i.value.outlet),a=t&&i.value.component?t.children:e,r=Ua(i);for(let o of Object.values(r))this.deactivateRouteAndItsChildren(o,a);if(t&&t.outlet){let o=t.outlet.detach(),s=t.children.onOutletDeactivated();this.routeReuseStrategy.store(i.value.snapshot,{componentRef:o,route:i,contexts:s})}}deactivateRouteAndOutlet(i,e){let t=e.getContext(i.value.outlet),a=t&&i.value.component?t.children:e,r=Ua(i);for(let o of Object.values(r))this.deactivateRouteAndItsChildren(o,a);t&&(t.outlet&&(t.outlet.deactivate(),t.children.onOutletDeactivated()),t.attachRef=null,t.route=null)}activateChildRoutes(i,e,t){let a=Ua(e);i.children.forEach(r=>{this.activateRoutes(r,a[r.value.outlet],t),this.forwardEvent(new hl(r.value.snapshot))}),i.children.length&&this.forwardEvent(new cl(i.value.snapshot))}activateRoutes(i,e,t){let a=i.value,r=e?e.value:null;if(Xd(a),a===r)if(a.component){let o=t.getOrCreateContext(a.outlet);this.activateChildRoutes(i,e,o.children)}else this.activateChildRoutes(i,e,t);else if(a.component){let o=t.getOrCreateContext(a.outlet);if(this.routeReuseStrategy.shouldAttach(a.snapshot)){let s=this.routeReuseStrategy.retrieve(a.snapshot);this.routeReuseStrategy.store(a.snapshot,null),o.children.onOutletReAttached(s.contexts),o.attachRef=s.componentRef,o.route=s.route.value,o.outlet&&o.outlet.attach(s.componentRef,s.route.value),Xd(s.route.value),this.activateChildRoutes(i,null,o.children)}else o.attachRef=null,o.route=a,o.outlet&&o.outlet.activateWith(a,o.injector),this.activateChildRoutes(i,null,o.children)}else this.activateChildRoutes(i,null,t)}},gl=class{path;route;constructor(i){this.path=i,this.route=this.path[this.path.length-1]}},Ya=class{component;route;constructor(i,e){this.component=i,this.route=e}};function ix(n,i,e){let t=n._root,a=i?i._root:null;return Qr(t,a,e,[t.value])}function nx(n){let i=n.routeConfig?n.routeConfig.canActivateChild:null;return!i||i.length===0?null:{node:n,guards:i}}function er(n,i){let e=Symbol(),t=i.get(n,e);return t===e?typeof n=="function"&&!_m(n)?n:i.get(n):t}function Qr(n,i,e,t,a={canDeactivateChecks:[],canActivateChecks:[]}){let r=Ua(i);return n.children.forEach(o=>{ax(o,r[o.value.outlet],e,t.concat([o.value]),a),delete r[o.value.outlet]}),Object.entries(r).forEach(([o,s])=>Zr(s,e.getContext(o),a)),a}function ax(n,i,e,t,a={canDeactivateChecks:[],canActivateChecks:[]}){let r=n.value,o=i?i.value:null,s=e?e.getContext(n.value.outlet):null;if(o&&r.routeConfig===o.routeConfig){let l=rx(o,r,r.routeConfig.runGuardsAndResolvers);l?a.canActivateChecks.push(new gl(t)):(r.data=o.data,r._resolvedData=o._resolvedData),r.component?Qr(n,i,s?s.children:null,t,a):Qr(n,i,e,t,a),l&&s&&s.outlet&&s.outlet.isActivated&&a.canDeactivateChecks.push(new Ya(s.outlet.component,o))}else o&&Zr(i,s,a),a.canActivateChecks.push(new gl(t)),r.component?Qr(n,null,s?s.children:null,t,a):Qr(n,null,e,t,a);return a}function rx(n,i,e){if(typeof e=="function")return Ht(i._environmentInjector,()=>e(n,i));switch(e){case"pathParamsChange":return!oa(n.url,i.url);case"pathParamsOrQueryParamsChange":return!oa(n.url,i.url)||!Ti(n.queryParams,i.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!rh(n,i)||!Ti(n.queryParams,i.queryParams);default:return!rh(n,i)}}function Zr(n,i,e){let t=Ua(n),a=n.value;Object.entries(t).forEach(([r,o])=>{a.component?i?Zr(o,i.children.getContext(r),e):Zr(o,null,e):Zr(o,i,e)}),a.component?i&&i.outlet&&i.outlet.isActivated?e.canDeactivateChecks.push(new Ya(i.outlet.component,a)):e.canDeactivateChecks.push(new Ya(null,a)):e.canDeactivateChecks.push(new Ya(null,a))}function so(n){return typeof n=="function"}function ox(n){return typeof n=="boolean"}function sx(n){return n&&so(n.canLoad)}function lx(n){return n&&so(n.canActivate)}function cx(n){return n&&so(n.canActivateChild)}function dx(n){return n&&so(n.canDeactivate)}function hx(n){return n&&so(n.canMatch)}function dg(n){return n instanceof um||n?.name==="EmptyError"}var Ks=Symbol("INITIAL_VALUE");function Ja(){return Oe(n=>gi(n.map(i=>i.pipe(vt(1),jt(Ks)))).pipe(ee(i=>{for(let e of i)if(e!==!0){if(e===Ks)return Ks;if(e===!1||ux(e))return e}return!0}),yt(i=>i!==Ks),vt(1)))}function ux(n){return Mn(n)||n instanceof Za}function hg(n){return n.aborted?B(void 0).pipe(vt(1)):new qi(i=>{let e=()=>{i.next(),i.complete()};return n.addEventListener("abort",e),()=>n.removeEventListener("abort",e)})}function ug(n){return Ce(hg(n))}function px(n){return Ei(i=>{let{targetSnapshot:e,currentSnapshot:t,guards:{canActivateChecks:a,canDeactivateChecks:r}}=i;return r.length===0&&a.length===0?B(be(O({},i),{guardsResult:!0})):mx(r,e,t).pipe(Ei(o=>o&&ox(o)?fx(e,a,n):B(o)),ee(o=>be(O({},i),{guardsResult:o})))})}function mx(n,i,e){return ot(n).pipe(Ei(t=>vx(t.component,t.route,e,i)),pn(t=>t!==!0,!0))}function fx(n,i,e){return ot(i).pipe(Ur(t=>pm(_x(t.route.parent,e),gx(t.route,e),yx(n,t.path),bx(n,t.route))),pn(t=>t!==!0,!0))}function gx(n,i){return n!==null&&i&&i(new dl(n)),B(!0)}function _x(n,i){return n!==null&&i&&i(new ll(n)),B(!0)}function bx(n,i){let e=i.routeConfig?i.routeConfig.canActivate:null;if(!e||e.length===0)return B(!0);let t=e.map(a=>Pa(()=>{let r=i._environmentInjector,o=er(a,r),s=lx(o)?o.canActivate(i,n):Ht(r,()=>o(i,n));return da(s).pipe(pn())}));return B(t).pipe(Ja())}function yx(n,i){let e=i[i.length-1],a=i.slice(0,i.length-1).reverse().map(r=>nx(r)).filter(r=>r!==null).map(r=>Pa(()=>{let o=r.guards.map(s=>{let l=r.node._environmentInjector,c=er(s,l),d=cx(c)?c.canActivateChild(e,n):Ht(l,()=>c(e,n));return da(d).pipe(pn())});return B(o).pipe(Ja())}));return B(a).pipe(Ja())}function vx(n,i,e,t){let a=i&&i.routeConfig?i.routeConfig.canDeactivate:null;if(!a||a.length===0)return B(!0);let r=a.map(o=>{let s=i._environmentInjector,l=er(o,s),c=dx(l)?l.canDeactivate(n,i,e,t):Ht(s,()=>l(n,i,e,t));return da(c).pipe(pn())});return B(r).pipe(Ja())}function Cx(n,i,e,t,a){let r=i.canLoad;if(r===void 0||r.length===0)return B(!0);let o=r.map(s=>{let l=er(s,n),c=sx(l)?l.canLoad(i,e):Ht(n,()=>l(i,e)),d=da(c);return a?d.pipe(ug(a)):d});return B(o).pipe(Ja(),pg(t))}function pg(n){return lm(ct(i=>{if(typeof i!="boolean")throw fl(n,i)}),ee(i=>i===!0))}function xx(n,i,e,t,a){let r=i.canMatch;if(!r||r.length===0)return B(!0);let o=r.map(s=>{let l=er(s,n),c=hx(l)?l.canMatch(i,e):Ht(n,()=>l(i,e));return da(c).pipe(ug(a))});return B(o).pipe(Ja(),pg(t))}var Zi=class n extends Error{segmentGroup;constructor(i){super(),this.segmentGroup=i||null,Object.setPrototypeOf(this,n.prototype)}},no=class n extends Error{urlTree;constructor(i){super(),this.urlTree=i,Object.setPrototypeOf(this,n.prototype)}};function wx(n){throw new U(4e3,!1)}function Mx(n){throw lg(!1,xt.GuardRejected)}var lh=class{urlSerializer;urlTree;constructor(i,e){this.urlSerializer=i,this.urlTree=e}async lineralizeSegments(i,e){let t=[],a=e.root;for(;;){if(t=t.concat(a.segments),a.numberOfChildren===0)return t;if(a.numberOfChildren>1||!a.children[le])throw wx(`${i.redirectTo}`);a=a.children[le]}}async applyRedirectCommands(i,e,t,a,r){let o=await Sx(e,a,r);if(o instanceof vi)throw new no(o);let s=this.applyRedirectCreateUrlTree(o,this.urlSerializer.parse(o),i,t);if(o[0]==="/")throw new no(s);return s}applyRedirectCreateUrlTree(i,e,t,a){let r=this.createSegmentGroup(i,e.root,t,a);return new vi(r,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(i,e){let t={};return Object.entries(i).forEach(([a,r])=>{if(typeof r=="string"&&r[0]===":"){let s=r.substring(1);t[a]=e[s]}else t[a]=r}),t}createSegmentGroup(i,e,t,a){let r=this.createSegments(i,e.segments,t,a),o={};return Object.entries(e.children).forEach(([s,l])=>{o[s]=this.createSegmentGroup(i,l,t,a)}),new Ee(r,o)}createSegments(i,e,t,a){return e.map(r=>r.path[0]===":"?this.findPosParam(i,r,a):this.findOrReturn(r,t))}findPosParam(i,e,t){let a=t[e.path.substring(1)];if(!a)throw new U(4001,!1);return a}findOrReturn(i,e){let t=0;for(let a of e){if(a.path===i.path)return e.splice(t),a;t++}return i}};function Sx(n,i,e){if(typeof n=="string")return Promise.resolve(n);let t=n,{queryParams:a,fragment:r,routeConfig:o,url:s,outlet:l,params:c,data:d,title:h,paramMap:u,queryParamMap:p}=i;return Js(da(Ht(e,()=>t({params:c,data:d,queryParams:a,fragment:r,routeConfig:o,url:s,outlet:l,title:h,paramMap:u,queryParamMap:p}))))}function Dx(n,i){return n.providers&&!n._injector&&(n._injector=fs(n.providers,i,`Route: ${n.path}`)),n._injector??i}function yi(n){return n.outlet||le}function Ex(n,i){let e=n.filter(t=>yi(t)===i);return e.push(...n.filter(t=>yi(t)!==i)),e}var ch={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function kx(n,i,e,t,a,r){let o=mg(n,i,e);return o.matched?(t=Dx(i,t),xx(t,i,e,a,r).pipe(ee(s=>s===!0?o:O({},ch)))):B(o)}function mg(n,i,e){if(i.path==="")return i.pathMatch==="full"&&(n.hasChildren()||e.length>0)?O({},ch):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};let a=(i.matcher||Bf)(e,n,i);if(!a)return O({},ch);let r={};Object.entries(a.posParams??{}).forEach(([s,l])=>{r[s]=l.path});let o=a.consumed.length>0?O(O({},r),a.consumed[a.consumed.length-1].parameters):r;return{matched:!0,consumedSegments:a.consumed,remainingSegments:e.slice(a.consumed.length),parameters:o,positionalParamSegments:a.posParams??{}}}function Nf(n,i,e,t){return e.length>0&&Ax(n,e,t)?{segmentGroup:new Ee(i,Ox(t,new Ee(e,n.children))),slicedSegments:[]}:e.length===0&&Tx(n,e,t)?{segmentGroup:new Ee(n.segments,Px(n,e,t,n.children)),slicedSegments:e}:{segmentGroup:new Ee(n.segments,n.children),slicedSegments:e}}function Px(n,i,e,t){let a={};for(let r of e)if(bl(n,i,r)&&!t[yi(r)]){let o=new Ee([],{});a[yi(r)]=o}return O(O({},t),a)}function Ox(n,i){let e={};e[le]=i;for(let t of n)if(t.path===""&&yi(t)!==le){let a=new Ee([],{});e[yi(t)]=a}return e}function Ax(n,i,e){return e.some(t=>bl(n,i,t)&&yi(t)!==le)}function Tx(n,i,e){return e.some(t=>bl(n,i,t))}function bl(n,i,e){return(n.hasChildren()||i.length>0)&&e.pathMatch==="full"?!1:e.path===""}function Rx(n,i,e){return i.length===0&&!n.children[e]}var dh=class{};async function Ix(n,i,e,t,a,r,o="emptyOnly",s){return new hh(n,i,e,t,a,o,r,s).recognize()}var Fx=31,hh=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;abortSignal;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(i,e,t,a,r,o,s,l){this.injector=i,this.configLoader=e,this.rootComponentType=t,this.config=a,this.urlTree=r,this.paramsInheritanceStrategy=o,this.urlSerializer=s,this.abortSignal=l,this.applyRedirects=new lh(this.urlSerializer,this.urlTree)}noMatchError(i){return new U(4002,`'${i.segmentGroup}'`)}async recognize(){let i=Nf(this.urlTree.root,[],[],this.config).segmentGroup,{children:e,rootSnapshot:t}=await this.match(i),a=new qt(t,e),r=new to("",a),o=Xf(t,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,r.url=this.urlSerializer.serialize(o),{state:r,tree:o}}async match(i){let e=new sa([],Object.freeze({}),Object.freeze(O({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),le,this.rootComponentType,null,{},this.injector);try{return{children:await this.processSegmentGroup(this.injector,this.config,i,le,e),rootSnapshot:e}}catch(t){if(t instanceof no)return this.urlTree=t.urlTree,this.match(t.urlTree.root);throw t instanceof Zi?this.noMatchError(t):t}}async processSegmentGroup(i,e,t,a,r){if(t.segments.length===0&&t.hasChildren())return this.processChildren(i,e,t,r);let o=await this.processSegment(i,e,t,t.segments,a,!0,r);return o instanceof qt?[o]:[]}async processChildren(i,e,t,a){let r=[];for(let l of Object.keys(t.children))l==="primary"?r.unshift(l):r.push(l);let o=[];for(let l of r){let c=t.children[l],d=Ex(e,l),h=await this.processSegmentGroup(i,d,c,l,a);o.push(...h)}let s=fg(o);return Nx(s),s}async processSegment(i,e,t,a,r,o,s){for(let l of e)try{return await this.processSegmentAgainstRoute(l._injector??i,e,l,t,a,r,o,s)}catch(c){if(c instanceof Zi||dg(c))continue;throw c}if(Rx(t,a,r))return new dh;throw new Zi(t)}async processSegmentAgainstRoute(i,e,t,a,r,o,s,l){if(yi(t)!==o&&(o===le||!bl(a,r,t)))throw new Zi(a);if(t.redirectTo===void 0)return this.matchSegmentAgainstRoute(i,a,t,r,o,l);if(this.allowRedirects&&s)return this.expandSegmentAgainstRouteUsingRedirect(i,a,e,t,r,o,l);throw new Zi(a)}async expandSegmentAgainstRouteUsingRedirect(i,e,t,a,r,o,s){let{matched:l,parameters:c,consumedSegments:d,positionalParamSegments:h,remainingSegments:u}=mg(e,a,r);if(!l)throw new Zi(e);typeof a.redirectTo=="string"&&a.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>Fx&&(this.allowRedirects=!1));let p=new sa(r,c,Object.freeze(O({},this.urlTree.queryParams)),this.urlTree.fragment,Lf(a),yi(a),a.component??a._loadedComponent??null,a,Vf(a),i),f=ml(p,s,this.paramsInheritanceStrategy);if(p.params=Object.freeze(f.params),p.data=Object.freeze(f.data),this.abortSignal.aborted)throw new Error(this.abortSignal.reason);let _=await this.applyRedirects.applyRedirectCommands(d,a.redirectTo,h,p,i),y=await this.applyRedirects.lineralizeSegments(a,_);return this.processSegment(i,t,e,y.concat(u),o,!1,s)}async matchSegmentAgainstRoute(i,e,t,a,r,o){if(this.abortSignal.aborted)throw new Error(this.abortSignal.reason);let s=await Js(kx(e,t,a,i,this.urlSerializer,this.abortSignal));if(t.path==="**"&&(e.children={}),!s?.matched)throw new Zi(e);i=t._injector??i;let{routes:l}=await this.getChildConfig(i,t,a),c=t._loadedInjector??i,{parameters:d,consumedSegments:h,remainingSegments:u}=s,p=new sa(h,d,Object.freeze(O({},this.urlTree.queryParams)),this.urlTree.fragment,Lf(t),yi(t),t.component??t._loadedComponent??null,t,Vf(t),i),f=ml(p,o,this.paramsInheritanceStrategy);p.params=Object.freeze(f.params),p.data=Object.freeze(f.data);let{segmentGroup:_,slicedSegments:y}=Nf(e,h,u,l);if(y.length===0&&_.hasChildren()){let S=await this.processChildren(c,l,_,p);return new qt(p,S)}if(l.length===0&&y.length===0)return new qt(p,[]);let x=yi(t)===r,w=await this.processSegment(c,l,_,y,x?le:r,!0,p);return new qt(p,w instanceof qt?[w]:[])}async getChildConfig(i,e,t){if(e.children)return{routes:e.children,injector:i};if(e.loadChildren){if(e._loadedRoutes!==void 0){let r=e._loadedNgModuleFactory;return r&&!e._loadedInjector&&(e._loadedInjector=r.create(i).injector),{routes:e._loadedRoutes,injector:e._loadedInjector}}if(this.abortSignal.aborted)throw new Error(this.abortSignal.reason);if(await Js(Cx(i,e,t,this.urlSerializer,this.abortSignal))){let r=await this.configLoader.loadChildren(i,e);return e._loadedRoutes=r.routes,e._loadedInjector=r.injector,e._loadedNgModuleFactory=r.factory,r}throw Mx(e)}return{routes:[],injector:i}}};function Nx(n){n.sort((i,e)=>i.value.outlet===le?-1:e.value.outlet===le?1:i.value.outlet.localeCompare(e.value.outlet))}function Lx(n){let i=n.value.routeConfig;return i&&i.path===""}function fg(n){let i=[],e=new Set;for(let t of n){if(!Lx(t)){i.push(t);continue}let a=i.find(r=>t.value.routeConfig===r.value.routeConfig);a!==void 0?(a.children.push(...t.children),e.add(a)):i.push(t)}for(let t of e){let a=fg(t.children);i.push(new qt(t.value,a))}return i.filter(t=>!e.has(t))}function Lf(n){return n.data||{}}function Vf(n){return n.resolve||{}}function Vx(n,i,e,t,a,r,o){return Ei(async s=>{let{state:l,tree:c}=await Ix(n,i,e,t,s.extractedUrl,a,r,o);return be(O({},s),{targetSnapshot:l,urlAfterRedirects:c})})}function zx(n){return Ei(i=>{let{targetSnapshot:e,guards:{canActivateChecks:t}}=i;if(!t.length)return B(i);let a=new Set(t.map(s=>s.route)),r=new Set;for(let s of a)if(!r.has(s))for(let l of gg(s))r.add(l);let o=0;return ot(r).pipe(Ur(s=>a.has(s)?Bx(s,e,n):(s.data=ml(s,s.parent,n).resolve,B(void 0))),ct(()=>o++),Ed(1),Ei(s=>o===r.size?B(i):Jt))})}function gg(n){let i=n.children.map(e=>gg(e)).flat();return[n,...i]}function Bx(n,i,e){let t=n.routeConfig,a=n._resolve;return t?.title!==void 0&&!rg(t)&&(a[ao]=t.title),Pa(()=>(n.data=ml(n,n.parent,e).resolve,jx(a,n,i).pipe(ee(r=>(n._resolvedData=r,n.data=O(O({},n.data),r),null)))))}function jx(n,i,e){let t=Jd(n);if(t.length===0)return B({});let a={};return ot(t).pipe(Ei(r=>Hx(n[r],i,e).pipe(pn(),ct(o=>{if(o instanceof Za)throw fl(new Ji,o);a[r]=o}))),Ed(1),ee(()=>a),At(r=>dg(r)?Jt:ei(r)))}function Hx(n,i,e){let t=i._environmentInjector,a=er(n,t),r=a.resolve?a.resolve(i,e):Ht(t,()=>a(i,e));return da(r)}function zf(n){return Oe(i=>{let e=n(i);return e?ot(e).pipe(ee(()=>i)):B(i)})}var gh=(()=>{class n{buildTitle(e){let t,a=e.root;for(;a!==void 0;)t=this.getResolvedTitleForRoute(a)??t,a=a.children.find(r=>r.outlet===le);return t}getResolvedTitleForRoute(e){return e.data[ao]}static \u0275fac=function(t){return new(t||n)};static \u0275prov=ae({token:n,factory:()=>b(_g),providedIn:"root"})}return n})(),_g=(()=>{class n extends gh{title;constructor(e){super(),this.title=e}updateTitle(e){let t=this.buildTitle(e);t!==void 0&&this.title.setTitle(t)}static \u0275fac=function(t){return new(t||n)(it(qm))};static \u0275prov=ae({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Dn=new $("",{factory:()=>({})}),pa=new $(""),yl=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=b(Tm);async loadComponent(e,t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return Promise.resolve(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let a=(async()=>{try{let r=await Hf(Ht(e,()=>t.loadComponent())),o=await vg(yg(r));return this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o,o}finally{this.componentLoaders.delete(t)}})();return this.componentLoaders.set(t,a),a}loadChildren(e,t){if(this.childrenLoaders.get(t))return this.childrenLoaders.get(t);if(t._loadedRoutes)return Promise.resolve({routes:t._loadedRoutes,injector:t._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(t);let a=(async()=>{try{let r=await bg(t,this.compiler,e,this.onLoadEndListener);return t._loadedRoutes=r.routes,t._loadedInjector=r.injector,t._loadedNgModuleFactory=r.factory,r}finally{this.childrenLoaders.delete(t)}})();return this.childrenLoaders.set(t,a),a}static \u0275fac=function(t){return new(t||n)};static \u0275prov=ae({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();async function bg(n,i,e,t){let a=await Hf(Ht(e,()=>n.loadChildren())),r=await vg(yg(a)),o;r instanceof Sm||Array.isArray(r)?o=r:o=await i.compileModuleAsync(r),t&&t(n);let s,l,c=!1,d;return Array.isArray(o)?(l=o,c=!0):(s=o.create(e).injector,d=o,l=s.get(pa,[],{optional:!0,self:!0}).flat()),{routes:l.map(fh),injector:s,factory:d}}function Ux(n){return n&&typeof n=="object"&&"default"in n}function yg(n){return Ux(n)?n.default:n}async function vg(n){return n}var vl=(()=>{class n{static \u0275fac=function(t){return new(t||n)};static \u0275prov=ae({token:n,factory:()=>b(Wx),providedIn:"root"})}return n})(),Wx=(()=>{class n{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}static \u0275fac=function(t){return new(t||n)};static \u0275prov=ae({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),_h=new $(""),bh=new $("");function Cg(n,i,e){let t=n.get(bh),a=n.get(Tt);if(!a.startViewTransition||t.skipNextTransition)return t.skipNextTransition=!1,new Promise(c=>setTimeout(c));let r,o=new Promise(c=>{r=c}),s=a.startViewTransition(()=>(r(),$x(n)));s.updateCallbackDone.catch(c=>{}),s.ready.catch(c=>{}),s.finished.catch(c=>{});let{onViewTransitionCreated:l}=t;return l&&Ht(n,()=>l({transition:s,from:i,to:e})),o}function $x(n){return new Promise(i=>{st({read:()=>setTimeout(i)},{injector:n})})}var Yx=()=>{},yh=new $(""),Cl=(()=>{class n{currentNavigation=J(null,{equal:()=>!1});currentTransition=null;lastSuccessfulNavigation=J(null);events=new G;transitionAbortWithErrorSubject=new G;configLoader=b(yl);environmentInjector=b(Gi);destroyRef=b(kd);urlSerializer=b(ha);rootContexts=b(ua);location=b(Ta);inputBindingEnabled=b(oo,{optional:!0})!==null;titleStrategy=b(gh);options=b(Dn,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=b(vl);createViewTransition=b(_h,{optional:!0});navigationErrorHandler=b(yh,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>B(void 0);rootComponentType=null;destroyed=!1;constructor(){let e=a=>this.events.next(new ol(a)),t=a=>this.events.next(new sl(a));this.configLoader.onLoadEndListener=t,this.configLoader.onLoadStartListener=e,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(e){let t=++this.navigationId;Ki(()=>{this.transitions?.next(be(O({},e),{extractedUrl:this.urlHandlingStrategy.extract(e.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:t}))})}setupNavigations(e){return this.transitions=new Ve(null),this.transitions.pipe(yt(t=>t!==null),Oe(t=>{let a=!1,r=new AbortController,o=()=>!a&&this.currentTransition?.id===t.id;return B(t).pipe(Oe(s=>{if(this.navigationId>t.id)return this.cancelNavigationTransition(t,"",xt.SupersededByNewNavigation),Jt;this.currentTransition=t;let l=this.lastSuccessfulNavigation();this.currentNavigation.set({id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,targetBrowserUrl:typeof s.extras.browserUrl=="string"?this.urlSerializer.parse(s.extras.browserUrl):s.extras.browserUrl,trigger:s.source,extras:s.extras,previousNavigation:l?be(O({},l),{previousNavigation:null}):null,abort:()=>r.abort()});let c=!e.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),d=s.extras.onSameUrlNavigation??e.onSameUrlNavigation;if(!c&&d!=="reload")return this.events.next(new Ri(s.id,this.urlSerializer.serialize(s.rawUrl),"",qa.IgnoredSameUrlNavigation)),s.resolve(!1),Jt;if(this.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return B(s).pipe(Oe(h=>(this.events.next(new Sn(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),h.id!==this.navigationId?Jt:Promise.resolve(h))),Vx(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,this.paramsInheritanceStrategy,r.signal),ct(h=>{t.targetSnapshot=h.targetSnapshot,t.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation.update(p=>(p.finalUrl=h.urlAfterRedirects,p));let u=new Ga(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(u)}));if(c&&this.urlHandlingStrategy.shouldProcessUrl(s.currentRawUrl)){let{id:h,extractedUrl:u,source:p,restoredState:f,extras:_}=s,y=new Sn(h,this.urlSerializer.serialize(u),p,f);this.events.next(y);let x=ng(this.rootComponentType,this.environmentInjector).snapshot;return this.currentTransition=t=be(O({},s),{targetSnapshot:x,urlAfterRedirects:u,extras:be(O({},_),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.update(w=>(w.finalUrl=u,w)),B(t)}else return this.events.next(new Ri(s.id,this.urlSerializer.serialize(s.extractedUrl),"",qa.IgnoredByUrlHandlingStrategy)),s.resolve(!1),Jt}),ee(s=>{let l=new il(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);return this.events.next(l),this.currentTransition=t=be(O({},s),{guards:ix(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),t}),px(s=>this.events.next(s)),Oe(s=>{if(t.guardsResult=s.guardsResult,s.guardsResult&&typeof s.guardsResult!="boolean")throw fl(this.urlSerializer,s.guardsResult);let l=new nl(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);if(this.events.next(l),!o())return Jt;if(!s.guardsResult)return this.cancelNavigationTransition(s,"",xt.GuardRejected),Jt;if(s.guards.canActivateChecks.length===0)return B(s);let c=new al(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);if(this.events.next(c),!o())return Jt;let d=!1;return B(s).pipe(zx(this.paramsInheritanceStrategy),ct({next:()=>{d=!0;let h=new rl(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(h)},complete:()=>{d||this.cancelNavigationTransition(s,"",xt.NoDataFromResolver)}}))}),zf(s=>{let l=d=>{let h=[];if(d.routeConfig?._loadedComponent)d.component=d.routeConfig?._loadedComponent;else if(d.routeConfig?.loadComponent){let u=d._environmentInjector;h.push(this.configLoader.loadComponent(u,d.routeConfig).then(p=>{d.component=p}))}for(let u of d.children)h.push(...l(u));return h},c=l(s.targetSnapshot.root);return c.length===0?B(s):ot(Promise.all(c).then(()=>s))}),zf(()=>this.afterPreactivation()),Oe(()=>{let{currentSnapshot:s,targetSnapshot:l}=t,c=this.createViewTransition?.(this.environmentInjector,s.root,l.root);return c?ot(c).pipe(ee(()=>t)):B(t)}),vt(1),ee(s=>{let l=ZC(e.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);this.currentTransition=t=s=be(O({},s),{targetRouterState:l}),this.currentNavigation.update(c=>(c.targetRouterState=l,c)),this.events.next(new Qa),o()&&(new sh(e.routeReuseStrategy,t.targetRouterState,t.currentRouterState,c=>this.events.next(c),this.inputBindingEnabled).activate(this.rootContexts),o()&&(a=!0,this.currentNavigation.update(c=>(c.abort=Yx,c)),this.lastSuccessfulNavigation.set(Ki(this.currentNavigation)),this.events.next(new di(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects))),this.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)))}),Ce(hg(r.signal).pipe(yt(()=>!a&&!t.targetRouterState),ct(()=>{this.cancelNavigationTransition(t,r.signal.reason+"",xt.Aborted)}))),ct({complete:()=>{a=!0}}),Ce(this.transitionAbortWithErrorSubject.pipe(ct(s=>{throw s}))),gm(()=>{r.abort(),a||this.cancelNavigationTransition(t,"",xt.SupersededByNewNavigation),this.currentTransition?.id===t.id&&(this.currentNavigation.set(null),this.currentTransition=null)}),At(s=>{if(a=!0,this.destroyed)return t.resolve(!1),Jt;if(cg(s))this.events.next(new ci(t.id,this.urlSerializer.serialize(t.extractedUrl),s.message,s.cancellationCode)),tx(s)?this.events.next(new Xa(s.url,s.navigationBehaviorOptions)):t.resolve(!1);else{let l=new ca(t.id,this.urlSerializer.serialize(t.extractedUrl),s,t.targetSnapshot??void 0);try{let c=Ht(this.environmentInjector,()=>this.navigationErrorHandler?.(l));if(c instanceof Za){let{message:d,cancellationCode:h}=fl(this.urlSerializer,c);this.events.next(new ci(t.id,this.urlSerializer.serialize(t.extractedUrl),d,h)),this.events.next(new Xa(c.redirectTo,c.navigationBehaviorOptions))}else throw this.events.next(l),s}catch(c){this.options.resolveNavigationPromiseOnError?t.resolve(!1):t.reject(c)}}return Jt}))}))}cancelNavigationTransition(e,t,a){let r=new ci(e.id,this.urlSerializer.serialize(e.extractedUrl),t,a);this.events.next(r),e.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let e=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),t=Ki(this.currentNavigation),a=t?.targetBrowserUrl??t?.extractedUrl;return e.toString()!==a?.toString()&&!t?.extras.skipLocationChange}static \u0275fac=function(t){return new(t||n)};static \u0275prov=ae({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function qx(n){return n!==$a}var xg=new $("");var wg=(()=>{class n{static \u0275fac=function(t){return new(t||n)};static \u0275prov=ae({token:n,factory:()=>b(Gx),providedIn:"root"})}return n})(),_l=class{shouldDetach(i){return!1}store(i,e){}shouldAttach(i){return!1}retrieve(i){return null}shouldReuseRoute(i,e){return i.routeConfig===e.routeConfig}shouldDestroyInjector(i){return!0}},Gx=(()=>{class n extends _l{static \u0275fac=(()=>{let e;return function(a){return(e||(e=nt(n)))(a||n)}})();static \u0275prov=ae({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),vh=(()=>{class n{urlSerializer=b(ha);options=b(Dn,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=b(Ta);urlHandlingStrategy=b(vl);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new vi;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:e,initialUrl:t,targetBrowserUrl:a}){let r=e!==void 0?this.urlHandlingStrategy.merge(e,t):t,o=a??r;return o instanceof vi?this.urlSerializer.serialize(o):o}commitTransition({targetRouterState:e,finalUrl:t,initialUrl:a}){t&&e?(this.currentUrlTree=t,this.rawUrlTree=this.urlHandlingStrategy.merge(t,a),this.routerState=e):this.rawUrlTree=a}routerState=ng(null,b(Gi));getRouterState(){return this.routerState}_stateMemento=this.createStateMemento();get stateMemento(){return this._stateMemento}updateStateMemento(){this._stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}restoredState(){return this.location.getState()}static \u0275fac=function(t){return new(t||n)};static \u0275prov=ae({token:n,factory:()=>b(Kx),providedIn:"root"})}return n})(),Kx=(()=>{class n extends vh{currentPageId=0;lastSuccessfulId=-1;get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(e){return this.location.subscribe(t=>{t.type==="popstate"&&setTimeout(()=>{e(t.url,t.state,"popstate")})})}handleRouterEvent(e,t){e instanceof Sn?this.updateStateMemento():e instanceof Ri?this.commitTransition(t):e instanceof Ga?this.urlUpdateStrategy==="eager"&&(t.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(t),t)):e instanceof Qa?(this.commitTransition(t),this.urlUpdateStrategy==="deferred"&&!t.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(t),t)):e instanceof ci&&!ig(e)?this.restoreHistory(t):e instanceof ca?this.restoreHistory(t,!0):e instanceof di&&(this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId)}setBrowserUrl(e,{extras:t,id:a}){let{replaceUrl:r,state:o}=t;if(this.location.isCurrentPathEqualTo(e)||r){let s=this.browserPageId,l=O(O({},o),this.generateNgRouterState(a,s));this.location.replaceState(e,"",l)}else{let s=O(O({},o),this.generateNgRouterState(a,this.browserPageId+1));this.location.go(e,"",s)}}restoreHistory(e,t=!1){if(this.canceledNavigationResolution==="computed"){let a=this.browserPageId,r=this.currentPageId-a;r!==0?this.location.historyGo(r):this.getCurrentUrlTree()===e.finalUrl&&r===0&&(this.resetInternalState(e),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(t&&this.resetInternalState(e),this.resetUrlToCurrentUrlTree())}resetInternalState({finalUrl:e}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,t){return this.canceledNavigationResolution==="computed"?{navigationId:e,\u0275routerPageId:t}:{navigationId:e}}static \u0275fac=(()=>{let e;return function(a){return(e||(e=nt(n)))(a||n)}})();static \u0275prov=ae({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function xl(n,i){n.events.pipe(yt(e=>e instanceof di||e instanceof ci||e instanceof ca||e instanceof Ri),ee(e=>e instanceof di||e instanceof Ri?0:(e instanceof ci?e.code===xt.Redirect||e.code===xt.SupersededByNewNavigation:!1)?2:1),yt(e=>e!==2),vt(1)).subscribe(()=>{i()})}var Mg={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Sg={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Ze=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=b(Dm);stateManager=b(vh);options=b(Dn,{optional:!0})||{};pendingTasks=b(bm);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=b(Cl);urlSerializer=b(ha);location=b(Ta);urlHandlingStrategy=b(vl);injector=b(Gi);_events=new G;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=b(wg);injectorCleanup=b(xg,{optional:!0});onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=b(pa,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!b(oo,{optional:!0});currentNavigation=this.navigationTransitions.currentNavigation.asReadonly();constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:e=>{}}),this.subscribeToNavigationEvents()}eventsSubscription=new Zt;subscribeToNavigationEvents(){let e=this.navigationTransitions.events.subscribe(t=>{try{let a=this.navigationTransitions.currentTransition,r=Ki(this.navigationTransitions.currentNavigation);if(a!==null&&r!==null){if(this.stateManager.handleRouterEvent(t,r),t instanceof ci&&t.code!==xt.Redirect&&t.code!==xt.SupersededByNewNavigation)this.navigated=!0;else if(t instanceof di)this.navigated=!0,this.injectorCleanup?.(this.routeReuseStrategy,this.routerState,this.config);else if(t instanceof Xa){let o=t.navigationBehaviorOptions,s=this.urlHandlingStrategy.merge(t.url,a.currentRawUrl),l=O({scroll:a.extras.scroll,browserUrl:a.extras.browserUrl,info:a.extras.info,skipLocationChange:a.extras.skipLocationChange,replaceUrl:a.extras.replaceUrl||this.urlUpdateStrategy==="eager"||qx(a.source)},o);this.scheduleNavigation(s,$a,null,l,{resolve:a.resolve,reject:a.reject,promise:a.promise})}}QC(t)&&this._events.next(t)}catch(a){this.navigationTransitions.transitionAbortWithErrorSubject.next(a)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),$a,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((e,t,a)=>{this.navigateToSyncWithBrowser(e,a,t)})}navigateToSyncWithBrowser(e,t,a){let r={replaceUrl:!0},o=a?.navigationId?a:null;if(a){let l=O({},a);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(r.state=l)}let s=this.parseUrl(e);this.scheduleNavigation(s,t,o,r).catch(l=>{this.disposed||this.injector.get(us)(l)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return Ki(this.navigationTransitions.currentNavigation)}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(fh),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription?.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0,this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,t={}){let{relativeTo:a,queryParams:r,fragment:o,queryParamsHandling:s,preserveFragment:l}=t,c=l?this.currentUrlTree.fragment:o,d=null;switch(s??this.options.defaultQueryParamsHandling){case"merge":d=O(O({},this.currentUrlTree.queryParams),r);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=r||null}d!==null&&(d=this.removeEmptyProps(d));let h;try{let u=a?a.snapshot:this.routerState.snapshot.root;h=Zf(u)}catch{(typeof e[0]!="string"||e[0][0]!=="/")&&(e=[]),h=this.currentUrlTree.root}return Jf(h,e,d,c??null,this.urlSerializer)}navigateByUrl(e,t={skipLocationChange:!1}){let a=Mn(e)?e:this.parseUrl(e),r=this.urlHandlingStrategy.merge(a,this.rawUrlTree);return this.scheduleNavigation(r,$a,null,t)}navigate(e,t={skipLocationChange:!1}){return Qx(e),this.navigateByUrl(this.createUrlTree(e,t),t)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){try{return this.urlSerializer.parse(e)}catch{return this.console.warn(cs(4018,!1)),this.urlSerializer.parse("/")}}isActive(e,t){let a;if(t===!0?a=O({},Mg):t===!1?a=O({},Sg):a=t,Mn(e))return Af(this.currentUrlTree,e,a);let r=this.parseUrl(e);return Af(this.currentUrlTree,r,a)}removeEmptyProps(e){return Object.entries(e).reduce((t,[a,r])=>(r!=null&&(t[a]=r),t),{})}scheduleNavigation(e,t,a,r,o){if(this.disposed)return Promise.resolve(!1);let s,l,c;o?(s=o.resolve,l=o.reject,c=o.promise):c=new Promise((h,u)=>{s=h,l=u});let d=this.pendingTasks.add();return xl(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:t,restoredState:a,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:r,resolve:s,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(Promise.reject.bind(Promise))}static \u0275fac=function(t){return new(t||n)};static \u0275prov=ae({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Qx(n){for(let i=0;i<n.length;i++)if(n[i]==null)throw new U(4008,!1)}var En=(()=>{class n{router;route;tabIndexAttribute;renderer;el;locationStrategy;reactiveHref=J(null);get href(){return Ki(this.reactiveHref)}set href(e){this.reactiveHref.set(e)}target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new G;applicationErrorHandler=b(us);options=b(Dn,{optional:!0});constructor(e,t,a,r,o,s){this.router=e,this.route=t,this.tabIndexAttribute=a,this.renderer=r,this.el=o,this.locationStrategy=s,this.reactiveHref.set(b(new _n("href"),{optional:!0}));let l=o.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area"||!!(typeof customElements=="object"&&customElements.get(l)?.observedAttributes?.includes?.("href")),this.isAnchorElement&&(this.setTabIndexIfNotOnNativeEl("0"),this.subscribeToNavigationEventsIfNecessary())}subscribeToNavigationEventsIfNecessary(){this.subscription===void 0&&(this.subscription=this.router.events.subscribe(e=>{e instanceof di&&this.updateHref()}))}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(e){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(e){e==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Mn(e)?this.routerLinkInput=e:this.routerLinkInput=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0"))}onClick(e,t,a,r,o){let s=this.urlTree;if(s===null||this.isAnchorElement&&(e!==0||t||a||r||o||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(s,l)?.catch(c=>{this.applicationErrorHandler(c)}),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let e=this.urlTree;this.reactiveHref.set(e!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(e))??"":null)}applyAttributeValue(e,t){let a=this.renderer,r=this.el.nativeElement;t!==null?a.setAttribute(r,e,t):a.removeAttribute(r,e)}get urlTree(){return this.routerLinkInput===null?null:Mn(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(t){return new(t||n)(Be(Ze),Be(Ii),vm("tabindex"),Be(ki),Be(ge),Be(qr))};static \u0275dir=Y({type:n,selectors:[["","routerLink",""]],hostVars:2,hostBindings:function(t,a){t&1&&I("click",function(o){return a.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),t&2&&pe("href",a.reactiveHref(),wm)("target",a.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",ce],skipLocationChange:[2,"skipLocationChange","skipLocationChange",ce],replaceUrl:[2,"replaceUrl","replaceUrl",ce],routerLink:"routerLink"},features:[ze]})}return n})();var lo=class{};var Dg=(()=>{class n{router;injector;preloadingStrategy;loader;subscription;constructor(e,t,a,r){this.router=e,this.injector=t,this.preloadingStrategy=a,this.loader=r}setUpPreloading(){this.subscription=this.router.events.pipe(yt(e=>e instanceof di),Ur(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription?.unsubscribe()}processRoutes(e,t){let a=[];for(let r of t){r.providers&&!r._injector&&(r._injector=fs(r.providers,e,""));let o=r._injector??e;r._loadedNgModuleFactory&&!r._loadedInjector&&(r._loadedInjector=r._loadedNgModuleFactory.create(o).injector);let s=r._loadedInjector??o;(r.loadChildren&&!r._loadedRoutes&&r.canLoad===void 0||r.loadComponent&&!r._loadedComponent)&&a.push(this.preloadConfig(o,r)),(r.children||r._loadedRoutes)&&a.push(this.processRoutes(s,r.children??r._loadedRoutes))}return ot(a).pipe(Dd())}preloadConfig(e,t){return this.preloadingStrategy.preload(t,()=>{if(e.destroyed)return B(null);let a;t.loadChildren&&t.canLoad===void 0?a=ot(this.loader.loadChildren(e,t)):a=B(null);let r=a.pipe(Ei(o=>o===null?B(void 0):(t._loadedRoutes=o.routes,t._loadedInjector=o.injector,t._loadedNgModuleFactory=o.factory,this.processRoutes(o.injector??e,o.routes))));if(t.loadComponent&&!t._loadedComponent){let o=this.loader.loadComponent(e,t);return ot([r,o]).pipe(Dd())}else return r})}static \u0275fac=function(t){return new(t||n)(it(Ze),it(Gi),it(lo),it(yl))};static \u0275prov=ae({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Eg=new $(""),Zx=(()=>{class n{options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource=$a;restoredId=0;store={};urlSerializer=b(ha);zone=b(dt);viewportScroller=b(Fd);transitions=b(Cl);constructor(e){this.options=e,this.options.scrollPositionRestoration||="disabled",this.options.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof Sn?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof di?(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment)):e instanceof Ri&&e.code===qa.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{if(!(e instanceof Ka)||e.scrollBehavior==="manual")return;let t={behavior:"instant"};e.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0],t):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(e.position,t):e.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(e.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0])})}scheduleScrollEvent(e,t){let a=Ki(this.transitions.currentNavigation)?.extras.scroll;this.zone.runOutsideAngular(async()=>{await new Promise(r=>{setTimeout(r),typeof requestAnimationFrame<"u"&&requestAnimationFrame(r)}),this.zone.run(()=>{this.transitions.events.next(new Ka(e,this.lastSource==="popstate"?this.store[this.restoredId]:null,t,a))})})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(t){ms()};static \u0275prov=ae({token:n,factory:n.\u0275fac})}return n})();function xh(n,...i){return hs([{provide:pa,multi:!0,useValue:n},[],{provide:Ii,useFactory:kg},{provide:Od,multi:!0,useFactory:Pg},i.map(e=>e.\u0275providers)])}function kg(){return b(Ze).routerState.root}function ho(n,i){return{\u0275kind:n,\u0275providers:i}}function Pg(){let n=b(Ue);return i=>{let e=n.get(Yr);if(i!==e.components[0])return;let t=n.get(Ze),a=n.get(Og);n.get(wh)===1&&t.initialNavigation(),n.get(Rg,null,{optional:!0})?.setUpPreloading(),n.get(Eg,null,{optional:!0})?.init(),t.resetRootComponentType(e.componentTypes[0]),a.closed||(a.next(),a.complete(),a.unsubscribe())}}var Og=new $("",{factory:()=>new G}),wh=new $("",{factory:()=>1});function Ag(){let n=[{provide:xm,useValue:!0},{provide:wh,useValue:0},$r(()=>{let i=b(Ue);return i.get(Lm,Promise.resolve()).then(()=>new Promise(t=>{let a=i.get(Ze),r=i.get(Og);xl(a,()=>{t(!0)}),i.get(Cl).afterPreactivation=()=>(t(!0),r.closed?B(void 0):r),a.initialNavigation()}))})];return ho(2,n)}function Tg(){let n=[$r(()=>{b(Ze).setUpLocationChangeListener()}),{provide:wh,useValue:2}];return ho(3,n)}var Rg=new $("");function Ig(n){return ho(0,[{provide:Rg,useExisting:Dg},{provide:lo,useExisting:n}])}function Fg(){return ho(8,[ph,{provide:oo,useExisting:ph}])}function Ng(n){ps("NgRouterViewTransitions");let i=[{provide:_h,useValue:Cg},{provide:bh,useValue:O({skipNextTransition:!!n?.skipInitialTransition},n)}];return ho(9,i)}var Lg=[Ta,{provide:ha,useClass:Ji},Ze,ua,{provide:Ii,useFactory:kg},yl,[]],uo=(()=>{class n{constructor(){}static forRoot(e,t){return{ngModule:n,providers:[Lg,[],{provide:pa,multi:!0,useValue:e},[],t?.errorHandler?{provide:yh,useValue:t.errorHandler}:[],{provide:Dn,useValue:t||{}},t?.useHash?ew():tw(),Jx(),t?.preloadingStrategy?Ig(t.preloadingStrategy).\u0275providers:[],t?.initialNavigation?iw(t):[],t?.bindToComponentInputs?Fg().\u0275providers:[],t?.enableViewTransitions?Ng().\u0275providers:[],nw()]}}static forChild(e){return{ngModule:n,providers:[{provide:pa,multi:!0,useValue:e}]}}static \u0275fac=function(t){return new(t||n)};static \u0275mod=Se({type:n});static \u0275inj=Me({})}return n})();function Jx(){return{provide:Eg,useFactory:()=>{let n=b(Fd),i=b(Dn);return i.scrollOffset&&n.setOffset(i.scrollOffset),new Zx(i)}}}function ew(){return{provide:qr,useClass:zm}}function tw(){return{provide:qr,useClass:Vm}}function iw(n){return[n.initialNavigation==="disabled"?Tg().\u0275providers:[],n.initialNavigation==="enabledBlocking"?Ag().\u0275providers:[]]}var Ch=new $("");function nw(){return[{provide:Ch,useFactory:Pg},{provide:Od,multi:!0,useExisting:Ch}]}var ue=(function(n){return n[n.State=0]="State",n[n.Transition=1]="Transition",n[n.Sequence=2]="Sequence",n[n.Group=3]="Group",n[n.Animate=4]="Animate",n[n.Keyframes=5]="Keyframes",n[n.Style=6]="Style",n[n.Trigger=7]="Trigger",n[n.Reference=8]="Reference",n[n.AnimateChild=9]="AnimateChild",n[n.AnimateRef=10]="AnimateRef",n[n.Query=11]="Query",n[n.Stagger=12]="Stagger",n})(ue||{}),Ci="*";function Vg(n,i=null){return{type:ue.Sequence,steps:n,options:i}}function Mh(n){return{type:ue.Style,styles:n,offset:null}}var en=class{_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_originalOnDoneFns=[];_originalOnStartFns=[];_started=!1;_destroyed=!1;_finished=!1;_position=0;parentPlayer=null;totalTime;constructor(i=0,e=0){this.totalTime=i+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(i=>i()),this._onDoneFns=[])}onStart(i){this._originalOnStartFns.push(i),this._onStartFns.push(i)}onDone(i){this._originalOnDoneFns.push(i),this._onDoneFns.push(i)}onDestroy(i){this._onDestroyFns.push(i)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(i=>i()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(i=>i()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(i){this._position=this.totalTime?i*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(i){let e=i=="start"?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}},tr=class{_onDoneFns=[];_onStartFns=[];_finished=!1;_started=!1;_destroyed=!1;_onDestroyFns=[];parentPlayer=null;totalTime=0;players;constructor(i){this.players=i;let e=0,t=0,a=0,r=this.players.length;r==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++e==r&&this._onFinish()}),o.onDestroy(()=>{++t==r&&this._onDestroy()}),o.onStart(()=>{++a==r&&this._onStart()})}),this.totalTime=this.players.reduce((o,s)=>Math.max(o,s.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(i=>i()),this._onDoneFns=[])}init(){this.players.forEach(i=>i.init())}onStart(i){this._onStartFns.push(i)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(i=>i()),this._onStartFns=[])}onDone(i){this._onDoneFns.push(i)}onDestroy(i){this._onDestroyFns.push(i)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(i=>i.play())}pause(){this.players.forEach(i=>i.pause())}restart(){this.players.forEach(i=>i.restart())}finish(){this._onFinish(),this.players.forEach(i=>i.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(i=>i.destroy()),this._onDestroyFns.forEach(i=>i()),this._onDestroyFns=[])}reset(){this.players.forEach(i=>i.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(i){let e=i*this.totalTime;this.players.forEach(t=>{let a=t.totalTime?Math.min(1,e/t.totalTime):1;t.setPosition(a)})}getPosition(){let i=this.players.reduce((e,t)=>e===null||t.totalTime>e.totalTime?t:e,null);return i!=null?i.getPosition():0}beforeDestroy(){this.players.forEach(i=>{i.beforeDestroy&&i.beforeDestroy()})}triggerCallback(i){let e=i=="start"?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}},po="!";function zg(n){return new U(3e3,!1)}function aw(){return new U(3100,!1)}function rw(){return new U(3101,!1)}function ow(n){return new U(3001,!1)}function sw(n){return new U(3003,!1)}function lw(n){return new U(3004,!1)}function jg(n,i){return new U(3005,!1)}function Hg(){return new U(3006,!1)}function Ug(){return new U(3007,!1)}function Wg(n,i){return new U(3008,!1)}function $g(n){return new U(3002,!1)}function Yg(n,i,e,t,a){return new U(3010,!1)}function qg(){return new U(3011,!1)}function Gg(){return new U(3012,!1)}function Kg(){return new U(3200,!1)}function Qg(){return new U(3202,!1)}function Xg(){return new U(3013,!1)}function Zg(n){return new U(3014,!1)}function Jg(n){return new U(3015,!1)}function e_(n){return new U(3016,!1)}function t_(n,i){return new U(3404,!1)}function cw(n){return new U(3502,!1)}function i_(n){return new U(3503,!1)}function n_(){return new U(3300,!1)}function a_(n){return new U(3504,!1)}function r_(n){return new U(3301,!1)}function o_(n,i){return new U(3302,!1)}function s_(n){return new U(3303,!1)}function l_(n,i){return new U(3400,!1)}function c_(n){return new U(3401,!1)}function d_(n){return new U(3402,!1)}function h_(n,i){return new U(3505,!1)}function tn(n){switch(n.length){case 0:return new en;case 1:return n[0];default:return new tr(n)}}function kh(n,i,e=new Map,t=new Map){let a=[],r=[],o=-1,s=null;if(i.forEach(l=>{let c=l.get("offset"),d=c==o,h=d&&s||new Map;l.forEach((u,p)=>{let f=p,_=u;if(p!=="offset")switch(f=n.normalizePropertyName(f,a),_){case po:_=e.get(p);break;case Ci:_=t.get(p);break;default:_=n.normalizeStyleValue(p,f,_,a);break}h.set(f,_)}),d||r.push(h),s=h,o=c}),a.length)throw cw(a);return r}function Ml(n,i,e,t){switch(i){case"start":n.onStart(()=>t(e&&Sh(e,"start",n)));break;case"done":n.onDone(()=>t(e&&Sh(e,"done",n)));break;case"destroy":n.onDestroy(()=>t(e&&Sh(e,"destroy",n)));break}}function Sh(n,i,e){let t=e.totalTime,a=!!e.disabled,r=Sl(n.element,n.triggerName,n.fromState,n.toState,i||n.phaseName,t??n.totalTime,a),o=n._data;return o!=null&&(r._data=o),r}function Sl(n,i,e,t,a="",r=0,o){return{element:n,triggerName:i,fromState:e,toState:t,phaseName:a,totalTime:r,disabled:!!o}}function It(n,i,e){let t=n.get(i);return t||n.set(i,t=e),t}function Ph(n){let i=n.indexOf(":"),e=n.substring(1,i),t=n.slice(i+1);return[e,t]}var dw=typeof document>"u"?null:document.documentElement;function Dl(n){let i=n.parentNode||n.host||null;return i===dw?null:i}function hw(n){return n.substring(1,6)=="ebkit"}var ma=null,Bg=!1;function u_(n){ma||(ma=uw()||{},Bg=ma.style?"WebkitAppearance"in ma.style:!1);let i=!0;return ma.style&&!hw(n)&&(i=n in ma.style,!i&&Bg&&(i="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in ma.style)),i}function uw(){return typeof document<"u"?document.body:null}function Oh(n,i){for(;i;){if(i===n)return!0;i=Dl(i)}return!1}function Ah(n,i,e){if(e)return Array.from(n.querySelectorAll(i));let t=n.querySelector(i);return t?[t]:[]}var pw=1e3,Th="{{",mw="}}",Rh="ng-enter",El="ng-leave",mo="ng-trigger",fo=".ng-trigger",Ih="ng-animating",kl=".ng-animating";function Fi(n){if(typeof n=="number")return n;let i=n.match(/^(-?[\.\d]+)(m?s)/);return!i||i.length<2?0:Dh(parseFloat(i[1]),i[2])}function Dh(n,i){return i==="s"?n*pw:n}function go(n,i,e){return n.hasOwnProperty("duration")?n:gw(n,i,e)}var fw=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i;function gw(n,i,e){let t,a=0,r="";if(typeof n=="string"){let o=n.match(fw);if(o===null)return i.push(zg(n)),{duration:0,delay:0,easing:""};t=Dh(parseFloat(o[1]),o[2]);let s=o[3];s!=null&&(a=Dh(parseFloat(s),o[4]));let l=o[5];l&&(r=l)}else t=n;if(!e){let o=!1,s=i.length;t<0&&(i.push(aw()),o=!0),a<0&&(i.push(rw()),o=!0),o&&i.splice(s,0,zg(n))}return{duration:t,delay:a,easing:r}}function p_(n){return n.length?n[0]instanceof Map?n:n.map(i=>new Map(Object.entries(i))):[]}function xi(n,i,e){i.forEach((t,a)=>{let r=Pl(a);e&&!e.has(a)&&e.set(a,n.style[r]),n.style[r]=t})}function kn(n,i){i.forEach((e,t)=>{let a=Pl(t);n.style[a]=""})}function ir(n){return Array.isArray(n)?n.length==1?n[0]:Vg(n):n}function m_(n,i,e){let t=i.params||{},a=Fh(n);a.length&&a.forEach(r=>{t.hasOwnProperty(r)||e.push(ow(r))})}var Eh=new RegExp(`${Th}\\s*(.+?)\\s*${mw}`,"g");function Fh(n){let i=[];if(typeof n=="string"){let e;for(;e=Eh.exec(n);)i.push(e[1]);Eh.lastIndex=0}return i}function nr(n,i,e){let t=`${n}`,a=t.replace(Eh,(r,o)=>{let s=i[o];return s==null&&(e.push(sw(o)),s=""),s.toString()});return a==t?n:a}var _w=/-+([a-z0-9])/g;function Pl(n){return n.replace(_w,(...i)=>i[1].toUpperCase())}function f_(n,i){return n===0||i===0}function g_(n,i,e){if(e.size&&i.length){let t=i[0],a=[];if(e.forEach((r,o)=>{t.has(o)||a.push(o),t.set(o,r)}),a.length)for(let r=1;r<i.length;r++){let o=i[r];a.forEach(s=>o.set(s,Ol(n,s)))}}return i}function Ft(n,i,e){switch(i.type){case ue.Trigger:return n.visitTrigger(i,e);case ue.State:return n.visitState(i,e);case ue.Transition:return n.visitTransition(i,e);case ue.Sequence:return n.visitSequence(i,e);case ue.Group:return n.visitGroup(i,e);case ue.Animate:return n.visitAnimate(i,e);case ue.Keyframes:return n.visitKeyframes(i,e);case ue.Style:return n.visitStyle(i,e);case ue.Reference:return n.visitReference(i,e);case ue.AnimateChild:return n.visitAnimateChild(i,e);case ue.AnimateRef:return n.visitAnimateRef(i,e);case ue.Query:return n.visitQuery(i,e);case ue.Stagger:return n.visitStagger(i,e);default:throw lw(i.type)}}function Ol(n,i){return window.getComputedStyle(n)[i]}var Zh=(()=>{class n{validateStyleProperty(e){return u_(e)}containsElement(e,t){return Oh(e,t)}getParentElement(e){return Dl(e)}query(e,t,a){return Ah(e,t,a)}computeStyle(e,t,a){return a||""}animate(e,t,a,r,o,s=[],l){return new en(a,r)}static \u0275fac=function(t){return new(t||n)};static \u0275prov=ae({token:n,factory:n.\u0275fac})}return n})(),ga=class{static NOOP=new Zh},_a=class{};var bw=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),Fl=class extends _a{normalizePropertyName(i,e){return Pl(i)}normalizeStyleValue(i,e,t,a){let r="",o=t.toString().trim();if(bw.has(e)&&t!==0&&t!=="0")if(typeof t=="number")r="px";else{let s=t.match(/^[+-]?[\d\.]+([a-z]*)$/);s&&s[1].length==0&&a.push(jg(i,t))}return o+r}};var Nl="*";function yw(n,i){let e=[];return typeof n=="string"?n.split(/\s*,\s*/).forEach(t=>vw(t,e,i)):e.push(n),e}function vw(n,i,e){if(n[0]==":"){let l=Cw(n,e);if(typeof l=="function"){i.push(l);return}n=l}let t=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(t==null||t.length<4)return e.push(Jg(n)),i;let a=t[1],r=t[2],o=t[3];i.push(__(a,o));let s=a==Nl&&o==Nl;r[0]=="<"&&!s&&i.push(__(o,a))}function Cw(n,i){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,t)=>parseFloat(t)>parseFloat(e);case":decrement":return(e,t)=>parseFloat(t)<parseFloat(e);default:return i.push(e_(n)),"* => *"}}var Al=new Set(["true","1"]),Tl=new Set(["false","0"]);function __(n,i){let e=Al.has(n)||Tl.has(n),t=Al.has(i)||Tl.has(i);return(a,r)=>{let o=n==Nl||n==a,s=i==Nl||i==r;return!o&&e&&typeof a=="boolean"&&(o=a?Al.has(n):Tl.has(n)),!s&&t&&typeof r=="boolean"&&(s=r?Al.has(i):Tl.has(i)),o&&s}}var E_=":self",xw=new RegExp(`s*${E_}s*,?`,"g");function k_(n,i,e,t){return new jh(n).build(i,e,t)}var b_="",jh=class{_driver;constructor(i){this._driver=i}build(i,e,t){let a=new Hh(e);return this._resetContextStyleTimingState(a),Ft(this,ir(i),a)}_resetContextStyleTimingState(i){i.currentQuerySelector=b_,i.collectedStyles=new Map,i.collectedStyles.set(b_,new Map),i.currentTime=0}visitTrigger(i,e){let t=e.queryCount=0,a=e.depCount=0,r=[],o=[];return i.name.charAt(0)=="@"&&e.errors.push(Hg()),i.definitions.forEach(s=>{if(this._resetContextStyleTimingState(e),s.type==ue.State){let l=s,c=l.name;c.toString().split(/\s*,\s*/).forEach(d=>{l.name=d,r.push(this.visitState(l,e))}),l.name=c}else if(s.type==ue.Transition){let l=this.visitTransition(s,e);t+=l.queryCount,a+=l.depCount,o.push(l)}else e.errors.push(Ug())}),{type:ue.Trigger,name:i.name,states:r,transitions:o,queryCount:t,depCount:a,options:null}}visitState(i,e){let t=this.visitStyle(i.styles,e),a=i.options&&i.options.params||null;if(t.containsDynamicStyles){let r=new Set,o=a||{};t.styles.forEach(s=>{s instanceof Map&&s.forEach(l=>{Fh(l).forEach(c=>{o.hasOwnProperty(c)||r.add(c)})})}),r.size&&e.errors.push(Wg(i.name,[...r.values()]))}return{type:ue.State,name:i.name,style:t,options:a?{params:a}:null}}visitTransition(i,e){e.queryCount=0,e.depCount=0;let t=Ft(this,ir(i.animation),e),a=yw(i.expr,e.errors);return{type:ue.Transition,matchers:a,animation:t,queryCount:e.queryCount,depCount:e.depCount,options:fa(i.options)}}visitSequence(i,e){return{type:ue.Sequence,steps:i.steps.map(t=>Ft(this,t,e)),options:fa(i.options)}}visitGroup(i,e){let t=e.currentTime,a=0,r=i.steps.map(o=>{e.currentTime=t;let s=Ft(this,o,e);return a=Math.max(a,e.currentTime),s});return e.currentTime=a,{type:ue.Group,steps:r,options:fa(i.options)}}visitAnimate(i,e){let t=Dw(i.timings,e.errors);e.currentAnimateTimings=t;let a,r=i.styles?i.styles:Mh({});if(r.type==ue.Keyframes)a=this.visitKeyframes(r,e);else{let o=i.styles,s=!1;if(!o){s=!0;let c={};t.easing&&(c.easing=t.easing),o=Mh(c)}e.currentTime+=t.duration+t.delay;let l=this.visitStyle(o,e);l.isEmptyStep=s,a=l}return e.currentAnimateTimings=null,{type:ue.Animate,timings:t,style:a,options:null}}visitStyle(i,e){let t=this._makeStyleAst(i,e);return this._validateStyleAst(t,e),t}_makeStyleAst(i,e){let t=[],a=Array.isArray(i.styles)?i.styles:[i.styles];for(let s of a)typeof s=="string"?s===Ci?t.push(s):e.errors.push($g(s)):t.push(new Map(Object.entries(s)));let r=!1,o=null;return t.forEach(s=>{if(s instanceof Map&&(s.has("easing")&&(o=s.get("easing"),s.delete("easing")),!r)){for(let l of s.values())if(l.toString().indexOf(Th)>=0){r=!0;break}}}),{type:ue.Style,styles:t,easing:o,offset:i.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(i,e){let t=e.currentAnimateTimings,a=e.currentTime,r=e.currentTime;t&&r>0&&(r-=t.duration+t.delay),i.styles.forEach(o=>{typeof o!="string"&&o.forEach((s,l)=>{let c=e.collectedStyles.get(e.currentQuerySelector),d=c.get(l),h=!0;d&&(r!=a&&r>=d.startTime&&a<=d.endTime&&(e.errors.push(Yg(l,d.startTime,d.endTime,r,a)),h=!1),r=d.startTime),h&&c.set(l,{startTime:r,endTime:a}),e.options&&m_(s,e.options,e.errors)})})}visitKeyframes(i,e){let t={type:ue.Keyframes,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(qg()),t;let a=1,r=0,o=[],s=!1,l=!1,c=0,d=i.steps.map(x=>{let w=this._makeStyleAst(x,e),S=w.offset!=null?w.offset:Sw(w.styles),D=0;return S!=null&&(r++,D=w.offset=S),l=l||D<0||D>1,s=s||D<c,c=D,o.push(D),w});l&&e.errors.push(Gg()),s&&e.errors.push(Kg());let h=i.steps.length,u=0;r>0&&r<h?e.errors.push(Qg()):r==0&&(u=a/(h-1));let p=h-1,f=e.currentTime,_=e.currentAnimateTimings,y=_.duration;return d.forEach((x,w)=>{let S=u>0?w==p?1:u*w:o[w],D=S*y;e.currentTime=f+_.delay+D,_.duration=D,this._validateStyleAst(x,e),x.offset=S,t.styles.push(x)}),t}visitReference(i,e){return{type:ue.Reference,animation:Ft(this,ir(i.animation),e),options:fa(i.options)}}visitAnimateChild(i,e){return e.depCount++,{type:ue.AnimateChild,options:fa(i.options)}}visitAnimateRef(i,e){return{type:ue.AnimateRef,animation:this.visitReference(i.animation,e),options:fa(i.options)}}visitQuery(i,e){let t=e.currentQuerySelector,a=i.options||{};e.queryCount++,e.currentQuery=i;let[r,o]=ww(i.selector);e.currentQuerySelector=t.length?t+" "+r:r,It(e.collectedStyles,e.currentQuerySelector,new Map);let s=Ft(this,ir(i.animation),e);return e.currentQuery=null,e.currentQuerySelector=t,{type:ue.Query,selector:r,limit:a.limit||0,optional:!!a.optional,includeSelf:o,animation:s,originalSelector:i.selector,options:fa(i.options)}}visitStagger(i,e){e.currentQuery||e.errors.push(Xg());let t=i.timings==="full"?{duration:0,delay:0,easing:"full"}:go(i.timings,e.errors,!0);return{type:ue.Stagger,animation:Ft(this,ir(i.animation),e),timings:t,options:null}}};function ww(n){let i=!!n.split(/\s*,\s*/).find(e=>e==E_);return i&&(n=n.replace(xw,"")),n=n.replace(/@\*/g,fo).replace(/@\w+/g,e=>fo+"-"+e.slice(1)).replace(/:animating/g,kl),[n,i]}function Mw(n){return n?O({},n):null}var Hh=class{errors;queryCount=0;depCount=0;currentTransition=null;currentQuery=null;currentQuerySelector=null;currentAnimateTimings=null;currentTime=0;collectedStyles=new Map;options=null;unsupportedCSSPropertiesFound=new Set;constructor(i){this.errors=i}};function Sw(n){if(typeof n=="string")return null;let i=null;if(Array.isArray(n))n.forEach(e=>{if(e instanceof Map&&e.has("offset")){let t=e;i=parseFloat(t.get("offset")),t.delete("offset")}});else if(n instanceof Map&&n.has("offset")){let e=n;i=parseFloat(e.get("offset")),e.delete("offset")}return i}function Dw(n,i){if(n.hasOwnProperty("duration"))return n;if(typeof n=="number"){let r=go(n,i).duration;return Nh(r,0,"")}let e=n;if(e.split(/\s+/).some(r=>r.charAt(0)=="{"&&r.charAt(1)=="{")){let r=Nh(0,0,"");return r.dynamic=!0,r.strValue=e,r}let a=go(e,i);return Nh(a.duration,a.delay,a.easing)}function fa(n){return n?(n=O({},n),n.params&&(n.params=Mw(n.params))):n={},n}function Nh(n,i,e){return{duration:n,delay:i,easing:e}}function Jh(n,i,e,t,a,r,o=null,s=!1){return{type:1,element:n,keyframes:i,preStyleProps:e,postStyleProps:t,duration:a,delay:r,totalTime:a+r,easing:o,subTimeline:s}}var bo=class{_map=new Map;get(i){return this._map.get(i)||[]}append(i,e){let t=this._map.get(i);t||this._map.set(i,t=[]),t.push(...e)}has(i){return this._map.has(i)}clear(){this._map.clear()}},Ew=1,kw=":enter",Pw=new RegExp(kw,"g"),Ow=":leave",Aw=new RegExp(Ow,"g");function P_(n,i,e,t,a,r=new Map,o=new Map,s,l,c=[]){return new Uh().buildKeyframes(n,i,e,t,a,r,o,s,l,c)}var Uh=class{buildKeyframes(i,e,t,a,r,o,s,l,c,d=[]){c=c||new bo;let h=new Wh(i,e,c,a,r,d,[]);h.options=l;let u=l.delay?Fi(l.delay):0;h.currentTimeline.delayNextStep(u),h.currentTimeline.setStyles([o],null,h.errors,l),Ft(this,t,h);let p=h.timelines.filter(f=>f.containsAnimation());if(p.length&&s.size){let f;for(let _=p.length-1;_>=0;_--){let y=p[_];if(y.element===e){f=y;break}}f&&!f.allowOnlyTimelineStyles()&&f.setStyles([s],null,h.errors,l)}return p.length?p.map(f=>f.buildKeyframes()):[Jh(e,[],[],[],0,u,"",!1)]}visitTrigger(i,e){}visitState(i,e){}visitTransition(i,e){}visitAnimateChild(i,e){let t=e.subInstructions.get(e.element);if(t){let a=e.createSubContext(i.options),r=e.currentTimeline.currentTime,o=this._visitSubInstructions(t,a,a.options);r!=o&&e.transformIntoNewTimeline(o)}e.previousNode=i}visitAnimateRef(i,e){let t=e.createSubContext(i.options);t.transformIntoNewTimeline(),this._applyAnimationRefDelays([i.options,i.animation.options],e,t),this.visitReference(i.animation,t),e.transformIntoNewTimeline(t.currentTimeline.currentTime),e.previousNode=i}_applyAnimationRefDelays(i,e,t){for(let a of i){let r=a?.delay;if(r){let o=typeof r=="number"?r:Fi(nr(r,a?.params??{},e.errors));t.delayNextStep(o)}}}_visitSubInstructions(i,e,t){let r=e.currentTimeline.currentTime,o=t.duration!=null?Fi(t.duration):null,s=t.delay!=null?Fi(t.delay):null;return o!==0&&i.forEach(l=>{let c=e.appendInstructionToTimeline(l,o,s);r=Math.max(r,c.duration+c.delay)}),r}visitReference(i,e){e.updateOptions(i.options,!0),Ft(this,i.animation,e),e.previousNode=i}visitSequence(i,e){let t=e.subContextCount,a=e,r=i.options;if(r&&(r.params||r.delay)&&(a=e.createSubContext(r),a.transformIntoNewTimeline(),r.delay!=null)){a.previousNode.type==ue.Style&&(a.currentTimeline.snapshotCurrentStyles(),a.previousNode=Ll);let o=Fi(r.delay);a.delayNextStep(o)}i.steps.length&&(i.steps.forEach(o=>Ft(this,o,a)),a.currentTimeline.applyStylesToKeyframe(),a.subContextCount>t&&a.transformIntoNewTimeline()),e.previousNode=i}visitGroup(i,e){let t=[],a=e.currentTimeline.currentTime,r=i.options&&i.options.delay?Fi(i.options.delay):0;i.steps.forEach(o=>{let s=e.createSubContext(i.options);r&&s.delayNextStep(r),Ft(this,o,s),a=Math.max(a,s.currentTimeline.currentTime),t.push(s.currentTimeline)}),t.forEach(o=>e.currentTimeline.mergeTimelineCollectedStyles(o)),e.transformIntoNewTimeline(a),e.previousNode=i}_visitTiming(i,e){if(i.dynamic){let t=i.strValue,a=e.params?nr(t,e.params,e.errors):t;return go(a,e.errors)}else return{duration:i.duration,delay:i.delay,easing:i.easing}}visitAnimate(i,e){let t=e.currentAnimateTimings=this._visitTiming(i.timings,e),a=e.currentTimeline;t.delay&&(e.incrementTime(t.delay),a.snapshotCurrentStyles());let r=i.style;r.type==ue.Keyframes?this.visitKeyframes(r,e):(e.incrementTime(t.duration),this.visitStyle(r,e),a.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=i}visitStyle(i,e){let t=e.currentTimeline,a=e.currentAnimateTimings;!a&&t.hasCurrentStyleProperties()&&t.forwardFrame();let r=a&&a.easing||i.easing;i.isEmptyStep?t.applyEmptyStep(r):t.setStyles(i.styles,r,e.errors,e.options),e.previousNode=i}visitKeyframes(i,e){let t=e.currentAnimateTimings,a=e.currentTimeline.duration,r=t.duration,s=e.createSubContext().currentTimeline;s.easing=t.easing,i.styles.forEach(l=>{let c=l.offset||0;s.forwardTime(c*r),s.setStyles(l.styles,l.easing,e.errors,e.options),s.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(s),e.transformIntoNewTimeline(a+r),e.previousNode=i}visitQuery(i,e){let t=e.currentTimeline.currentTime,a=i.options||{},r=a.delay?Fi(a.delay):0;r&&(e.previousNode.type===ue.Style||t==0&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=Ll);let o=t,s=e.invokeQuery(i.selector,i.originalSelector,i.limit,i.includeSelf,!!a.optional,e.errors);e.currentQueryTotal=s.length;let l=null;s.forEach((c,d)=>{e.currentQueryIndex=d;let h=e.createSubContext(i.options,c);r&&h.delayNextStep(r),c===e.element&&(l=h.currentTimeline),Ft(this,i.animation,h),h.currentTimeline.applyStylesToKeyframe();let u=h.currentTimeline.currentTime;o=Math.max(o,u)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(o),l&&(e.currentTimeline.mergeTimelineCollectedStyles(l),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=i}visitStagger(i,e){let t=e.parentContext,a=e.currentTimeline,r=i.timings,o=Math.abs(r.duration),s=o*(e.currentQueryTotal-1),l=o*e.currentQueryIndex;switch(r.duration<0?"reverse":r.easing){case"reverse":l=s-l;break;case"full":l=t.currentStaggerTime;break}let d=e.currentTimeline;l&&d.delayNextStep(l);let h=d.currentTime;Ft(this,i.animation,e),e.previousNode=i,t.currentStaggerTime=a.currentTime-h+(a.startTime-t.currentTimeline.startTime)}},Ll={},Wh=class n{_driver;element;subInstructions;_enterClassName;_leaveClassName;errors;timelines;parentContext=null;currentTimeline;currentAnimateTimings=null;previousNode=Ll;subContextCount=0;options={};currentQueryIndex=0;currentQueryTotal=0;currentStaggerTime=0;constructor(i,e,t,a,r,o,s,l){this._driver=i,this.element=e,this.subInstructions=t,this._enterClassName=a,this._leaveClassName=r,this.errors=o,this.timelines=s,this.currentTimeline=l||new Vl(this._driver,e,0),s.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(i,e){if(!i)return;let t=i,a=this.options;t.duration!=null&&(a.duration=Fi(t.duration)),t.delay!=null&&(a.delay=Fi(t.delay));let r=t.params;if(r){let o=a.params;o||(o=this.options.params={}),Object.keys(r).forEach(s=>{(!e||!o.hasOwnProperty(s))&&(o[s]=nr(r[s],o,this.errors))})}}_copyOptions(){let i={};if(this.options){let e=this.options.params;if(e){let t=i.params={};Object.keys(e).forEach(a=>{t[a]=e[a]})}}return i}createSubContext(i=null,e,t){let a=e||this.element,r=new n(this._driver,a,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(a,t||0));return r.previousNode=this.previousNode,r.currentAnimateTimings=this.currentAnimateTimings,r.options=this._copyOptions(),r.updateOptions(i),r.currentQueryIndex=this.currentQueryIndex,r.currentQueryTotal=this.currentQueryTotal,r.parentContext=this,this.subContextCount++,r}transformIntoNewTimeline(i){return this.previousNode=Ll,this.currentTimeline=this.currentTimeline.fork(this.element,i),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(i,e,t){let a={duration:e??i.duration,delay:this.currentTimeline.currentTime+(t??0)+i.delay,easing:""},r=new $h(this._driver,i.element,i.keyframes,i.preStyleProps,i.postStyleProps,a,i.stretchStartingKeyframe);return this.timelines.push(r),a}incrementTime(i){this.currentTimeline.forwardTime(this.currentTimeline.duration+i)}delayNextStep(i){i>0&&this.currentTimeline.delayNextStep(i)}invokeQuery(i,e,t,a,r,o){let s=[];if(a&&s.push(this.element),i.length>0){i=i.replace(Pw,"."+this._enterClassName),i=i.replace(Aw,"."+this._leaveClassName);let l=t!=1,c=this._driver.query(this.element,i,l);t!==0&&(c=t<0?c.slice(c.length+t,c.length):c.slice(0,t)),s.push(...c)}return!r&&s.length==0&&o.push(Zg(e)),s}},Vl=class n{_driver;element;startTime;_elementTimelineStylesLookup;duration=0;easing=null;_previousKeyframe=new Map;_currentKeyframe=new Map;_keyframes=new Map;_styleSummary=new Map;_localTimelineStyles=new Map;_globalTimelineStyles;_pendingStyles=new Map;_backFill=new Map;_currentEmptyStepKeyframe=null;constructor(i,e,t,a){this._driver=i,this.element=e,this.startTime=t,this._elementTimelineStylesLookup=a,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(i){let e=this._keyframes.size===1&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+i),e&&this.snapshotCurrentStyles()):this.startTime+=i}fork(i,e){return this.applyStylesToKeyframe(),new n(this._driver,i,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=Ew,this._loadKeyframe()}forwardTime(i){this.applyStylesToKeyframe(),this.duration=i,this._loadKeyframe()}_updateStyle(i,e){this._localTimelineStyles.set(i,e),this._globalTimelineStyles.set(i,e),this._styleSummary.set(i,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(i){i&&this._previousKeyframe.set("easing",i);for(let[e,t]of this._globalTimelineStyles)this._backFill.set(e,t||Ci),this._currentKeyframe.set(e,Ci);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(i,e,t,a){e&&this._previousKeyframe.set("easing",e);let r=a&&a.params||{},o=Tw(i,this._globalTimelineStyles);for(let[s,l]of o){let c=nr(l,r,t);this._pendingStyles.set(s,c),this._localTimelineStyles.has(s)||this._backFill.set(s,this._globalTimelineStyles.get(s)??Ci),this._updateStyle(s,c)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((i,e)=>{this._currentKeyframe.set(e,i)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((i,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,i)}))}snapshotCurrentStyles(){for(let[i,e]of this._localTimelineStyles)this._pendingStyles.set(i,e),this._updateStyle(i,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let i=[];for(let e in this._currentKeyframe)i.push(e);return i}mergeTimelineCollectedStyles(i){i._styleSummary.forEach((e,t)=>{let a=this._styleSummary.get(t);(!a||e.time>a.time)&&this._updateStyle(t,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();let i=new Set,e=new Set,t=this._keyframes.size===1&&this.duration===0,a=[];this._keyframes.forEach((s,l)=>{let c=new Map([...this._backFill,...s]);c.forEach((d,h)=>{d===po?i.add(h):d===Ci&&e.add(h)}),t||c.set("offset",l/this.duration),a.push(c)});let r=[...i.values()],o=[...e.values()];if(t){let s=a[0],l=new Map(s);s.set("offset",0),l.set("offset",1),a=[s,l]}return Jh(this.element,a,r,o,this.duration,this.startTime,this.easing,!1)}},$h=class extends Vl{keyframes;preStyleProps;postStyleProps;_stretchStartingKeyframe;timings;constructor(i,e,t,a,r,o,s=!1){super(i,e,o.delay),this.keyframes=t,this.preStyleProps=a,this.postStyleProps=r,this._stretchStartingKeyframe=s,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let i=this.keyframes,{delay:e,duration:t,easing:a}=this.timings;if(this._stretchStartingKeyframe&&e){let r=[],o=t+e,s=e/o,l=new Map(i[0]);l.set("offset",0),r.push(l);let c=new Map(i[0]);c.set("offset",y_(s)),r.push(c);let d=i.length-1;for(let h=1;h<=d;h++){let u=new Map(i[h]),p=u.get("offset"),f=e+p*t;u.set("offset",y_(f/o)),r.push(u)}t=o,e=0,a="",i=r}return Jh(this.element,i,this.preStyleProps,this.postStyleProps,t,e,a,!0)}};function y_(n,i=3){let e=Math.pow(10,i-1);return Math.round(n*e)/e}function Tw(n,i){let e=new Map,t;return n.forEach(a=>{if(a==="*"){t??=i.keys();for(let r of t)e.set(r,Ci)}else for(let[r,o]of a)e.set(r,o)}),e}function v_(n,i,e,t,a,r,o,s,l,c,d,h,u){return{type:0,element:n,triggerName:i,isRemovalTransition:a,fromState:e,fromStyles:r,toState:t,toStyles:o,timelines:s,queriedElements:l,preStyleProps:c,postStyleProps:d,totalTime:h,errors:u}}var Lh={},zl=class{_triggerName;ast;_stateStyles;constructor(i,e,t){this._triggerName=i,this.ast=e,this._stateStyles=t}match(i,e,t,a){return Rw(this.ast.matchers,i,e,t,a)}buildStyles(i,e,t){let a=this._stateStyles.get("*");return i!==void 0&&(a=this._stateStyles.get(i?.toString())||a),a?a.buildStyles(e,t):new Map}build(i,e,t,a,r,o,s,l,c,d){let h=[],u=this.ast.options&&this.ast.options.params||Lh,p=s&&s.params||Lh,f=this.buildStyles(t,p,h),_=l&&l.params||Lh,y=this.buildStyles(a,_,h),x=new Set,w=new Map,S=new Map,D=a==="void",M={params:O_(_,u),delay:this.ast.options?.delay},k=d?[]:P_(i,e,this.ast.animation,r,o,f,y,M,c,h),R=0;return k.forEach(P=>{R=Math.max(P.duration+P.delay,R)}),h.length?v_(e,this._triggerName,t,a,D,f,y,[],[],w,S,R,h):(k.forEach(P=>{let N=P.element,ne=It(w,N,new Set);P.preStyleProps.forEach(se=>ne.add(se));let oe=It(S,N,new Set);P.postStyleProps.forEach(se=>oe.add(se)),N!==e&&x.add(N)}),v_(e,this._triggerName,t,a,D,f,y,k,[...x.values()],w,S,R))}};function Rw(n,i,e,t,a){return n.some(r=>r(i,e,t,a))}function O_(n,i){let e=O({},i);return Object.entries(n).forEach(([t,a])=>{a!=null&&(e[t]=a)}),e}var Yh=class{styles;defaultParams;normalizer;constructor(i,e,t){this.styles=i,this.defaultParams=e,this.normalizer=t}buildStyles(i,e){let t=new Map,a=O_(i,this.defaultParams);return this.styles.styles.forEach(r=>{typeof r!="string"&&r.forEach((o,s)=>{o&&(o=nr(o,a,e));let l=this.normalizer.normalizePropertyName(s,e);o=this.normalizer.normalizeStyleValue(s,l,o,e),t.set(s,o)})}),t}};function Iw(n,i,e){return new qh(n,i,e)}var qh=class{name;ast;_normalizer;transitionFactories=[];fallbackTransition;states=new Map;constructor(i,e,t){this.name=i,this.ast=e,this._normalizer=t,e.states.forEach(a=>{let r=a.options&&a.options.params||{};this.states.set(a.name,new Yh(a.style,r,t))}),C_(this.states,"true","1"),C_(this.states,"false","0"),e.transitions.forEach(a=>{this.transitionFactories.push(new zl(i,a,this.states))}),this.fallbackTransition=Fw(i,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(i,e,t,a){return this.transitionFactories.find(o=>o.match(i,e,t,a))||null}matchStyles(i,e,t){return this.fallbackTransition.buildStyles(i,e,t)}};function Fw(n,i,e){let t=[(o,s)=>!0],a={type:ue.Sequence,steps:[],options:null},r={type:ue.Transition,animation:a,matchers:t,options:null,queryCount:0,depCount:0};return new zl(n,r,i)}function C_(n,i,e){n.has(i)?n.has(e)||n.set(e,n.get(i)):n.has(e)&&n.set(i,n.get(e))}var Nw=new bo,Gh=class{bodyNode;_driver;_normalizer;_animations=new Map;_playersById=new Map;players=[];constructor(i,e,t){this.bodyNode=i,this._driver=e,this._normalizer=t}register(i,e){let t=[],a=[],r=k_(this._driver,e,t,a);if(t.length)throw i_(t);this._animations.set(i,r)}_buildPlayer(i,e,t){let a=i.element,r=kh(this._normalizer,i.keyframes,e,t);return this._driver.animate(a,r,i.duration,i.delay,i.easing,[],!0)}create(i,e,t={}){let a=[],r=this._animations.get(i),o,s=new Map;if(r?(o=P_(this._driver,e,r,Rh,El,new Map,new Map,t,Nw,a),o.forEach(d=>{let h=It(s,d.element,new Map);d.postStyleProps.forEach(u=>h.set(u,null))})):(a.push(n_()),o=[]),a.length)throw a_(a);s.forEach((d,h)=>{d.forEach((u,p)=>{d.set(p,this._driver.computeStyle(h,p,Ci))})});let l=o.map(d=>{let h=s.get(d.element);return this._buildPlayer(d,new Map,h)}),c=tn(l);return this._playersById.set(i,c),c.onDestroy(()=>this.destroy(i)),this.players.push(c),c}destroy(i){let e=this._getPlayer(i);e.destroy(),this._playersById.delete(i);let t=this.players.indexOf(e);t>=0&&this.players.splice(t,1)}_getPlayer(i){let e=this._playersById.get(i);if(!e)throw r_(i);return e}listen(i,e,t,a){let r=Sl(e,"","","");return Ml(this._getPlayer(i),t,r,a),()=>{}}command(i,e,t,a){if(t=="register"){this.register(i,a[0]);return}if(t=="create"){let o=a[0]||{};this.create(i,e,o);return}let r=this._getPlayer(i);switch(t){case"play":r.play();break;case"pause":r.pause();break;case"reset":r.reset();break;case"restart":r.restart();break;case"finish":r.finish();break;case"init":r.init();break;case"setPosition":r.setPosition(parseFloat(a[0]));break;case"destroy":this.destroy(i);break}}},x_="ng-animate-queued",Lw=".ng-animate-queued",Vh="ng-animate-disabled",Vw=".ng-animate-disabled",zw="ng-star-inserted",Bw=".ng-star-inserted",jw=[],A_={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Hw={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},wi="__ng_removed",yo=class{namespaceId;value;options;get params(){return this.options.params}constructor(i,e=""){this.namespaceId=e;let t=i&&i.hasOwnProperty("value"),a=t?i.value:i;if(this.value=Ww(a),t){let r=i,{value:o}=r,s=sm(r,["value"]);this.options=s}else this.options={};this.options.params||(this.options.params={})}absorbOptions(i){let e=i.params;if(e){let t=this.options.params;Object.keys(e).forEach(a=>{t[a]==null&&(t[a]=e[a])})}}},_o="void",zh=new yo(_o),Kh=class{id;hostElement;_engine;players=[];_triggers=new Map;_queue=[];_elementListeners=new Map;_hostClassName;constructor(i,e,t){this.id=i,this.hostElement=e,this._engine=t,this._hostClassName="ng-tns-"+i,hi(e,this._hostClassName)}listen(i,e,t,a){if(!this._triggers.has(e))throw o_(t,e);if(t==null||t.length==0)throw s_(e);if(!$w(t))throw l_(t,e);let r=It(this._elementListeners,i,[]),o={name:e,phase:t,callback:a};r.push(o);let s=It(this._engine.statesByElement,i,new Map);return s.has(e)||(hi(i,mo),hi(i,mo+"-"+e),s.set(e,zh)),()=>{this._engine.afterFlush(()=>{let l=r.indexOf(o);l>=0&&r.splice(l,1),this._triggers.has(e)||s.delete(e)})}}register(i,e){return this._triggers.has(i)?!1:(this._triggers.set(i,e),!0)}_getTrigger(i){let e=this._triggers.get(i);if(!e)throw c_(i);return e}trigger(i,e,t,a=!0){let r=this._getTrigger(e),o=new vo(this.id,e,i),s=this._engine.statesByElement.get(i);s||(hi(i,mo),hi(i,mo+"-"+e),this._engine.statesByElement.set(i,s=new Map));let l=s.get(e),c=new yo(t,this.id);if(!(t&&t.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),s.set(e,c),l||(l=zh),!(c.value===_o)&&l.value===c.value){if(!Gw(l.params,c.params)){let _=[],y=r.matchStyles(l.value,l.params,_),x=r.matchStyles(c.value,c.params,_);_.length?this._engine.reportError(_):this._engine.afterFlush(()=>{kn(i,y),xi(i,x)})}return}let u=It(this._engine.playersByElement,i,[]);u.forEach(_=>{_.namespaceId==this.id&&_.triggerName==e&&_.queued&&_.destroy()});let p=r.matchTransition(l.value,c.value,i,c.params),f=!1;if(!p){if(!a)return;p=r.fallbackTransition,f=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:i,triggerName:e,transition:p,fromState:l,toState:c,player:o,isFallbackTransition:f}),f||(hi(i,x_),o.onStart(()=>{ar(i,x_)})),o.onDone(()=>{let _=this.players.indexOf(o);_>=0&&this.players.splice(_,1);let y=this._engine.playersByElement.get(i);if(y){let x=y.indexOf(o);x>=0&&y.splice(x,1)}}),this.players.push(o),u.push(o),o}deregister(i){this._triggers.delete(i),this._engine.statesByElement.forEach(e=>e.delete(i)),this._elementListeners.forEach((e,t)=>{this._elementListeners.set(t,e.filter(a=>a.name!=i))})}clearElementCache(i){this._engine.statesByElement.delete(i),this._elementListeners.delete(i);let e=this._engine.playersByElement.get(i);e&&(e.forEach(t=>t.destroy()),this._engine.playersByElement.delete(i))}_signalRemovalForInnerTriggers(i,e){let t=this._engine.driver.query(i,fo,!0);t.forEach(a=>{if(a[wi])return;let r=this._engine.fetchNamespacesByElement(a);r.size?r.forEach(o=>o.triggerLeaveAnimation(a,e,!1,!0)):this.clearElementCache(a)}),this._engine.afterFlushAnimationsDone(()=>t.forEach(a=>this.clearElementCache(a)))}triggerLeaveAnimation(i,e,t,a){let r=this._engine.statesByElement.get(i),o=new Map;if(r){let s=[];if(r.forEach((l,c)=>{if(o.set(c,l.value),this._triggers.has(c)){let d=this.trigger(i,c,_o,a);d&&s.push(d)}}),s.length)return this._engine.markElementAsRemoved(this.id,i,!0,e,o),t&&tn(s).onDone(()=>this._engine.processLeaveNode(i)),!0}return!1}prepareLeaveAnimationListeners(i){let e=this._elementListeners.get(i),t=this._engine.statesByElement.get(i);if(e&&t){let a=new Set;e.forEach(r=>{let o=r.name;if(a.has(o))return;a.add(o);let l=this._triggers.get(o).fallbackTransition,c=t.get(o)||zh,d=new yo(_o),h=new vo(this.id,o,i);this._engine.totalQueuedPlayers++,this._queue.push({element:i,triggerName:o,transition:l,fromState:c,toState:d,player:h,isFallbackTransition:!0})})}}removeNode(i,e){let t=this._engine;if(i.childElementCount&&this._signalRemovalForInnerTriggers(i,e),this.triggerLeaveAnimation(i,e,!0))return;let a=!1;if(t.totalAnimations){let r=t.players.length?t.playersByQueriedElement.get(i):[];if(r&&r.length)a=!0;else{let o=i;for(;o=o.parentNode;)if(t.statesByElement.get(o)){a=!0;break}}}if(this.prepareLeaveAnimationListeners(i),a)t.markElementAsRemoved(this.id,i,!1,e);else{let r=i[wi];(!r||r===A_)&&(t.afterFlush(()=>this.clearElementCache(i)),t.destroyInnerAnimations(i),t._onRemovalComplete(i,e))}}insertNode(i,e){hi(i,this._hostClassName)}drainQueuedTransitions(i){let e=[];return this._queue.forEach(t=>{let a=t.player;if(a.destroyed)return;let r=t.element,o=this._elementListeners.get(r);o&&o.forEach(s=>{if(s.name==t.triggerName){let l=Sl(r,t.triggerName,t.fromState.value,t.toState.value);l._data=i,Ml(t.player,s.phase,l,s.callback)}}),a.markedForDestroy?this._engine.afterFlush(()=>{a.destroy()}):e.push(t)}),this._queue=[],e.sort((t,a)=>{let r=t.transition.ast.depCount,o=a.transition.ast.depCount;return r==0||o==0?r-o:this._engine.driver.containsElement(t.element,a.element)?1:-1})}destroy(i){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,i)}},Qh=class{bodyNode;driver;_normalizer;players=[];newHostElements=new Map;playersByElement=new Map;playersByQueriedElement=new Map;statesByElement=new Map;disabledNodes=new Set;totalAnimations=0;totalQueuedPlayers=0;_namespaceLookup={};_namespaceList=[];_flushFns=[];_whenQuietFns=[];namespacesByHostElement=new Map;collectedEnterElements=[];collectedLeaveElements=[];onRemovalComplete=(i,e)=>{};_onRemovalComplete(i,e){this.onRemovalComplete(i,e)}constructor(i,e,t){this.bodyNode=i,this.driver=e,this._normalizer=t}get queuedPlayers(){let i=[];return this._namespaceList.forEach(e=>{e.players.forEach(t=>{t.queued&&i.push(t)})}),i}createNamespace(i,e){let t=new Kh(i,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(t,e):(this.newHostElements.set(e,t),this.collectEnterElement(e)),this._namespaceLookup[i]=t}_balanceNamespaceList(i,e){let t=this._namespaceList,a=this.namespacesByHostElement;if(t.length-1>=0){let o=!1,s=this.driver.getParentElement(e);for(;s;){let l=a.get(s);if(l){let c=t.indexOf(l);t.splice(c+1,0,i),o=!0;break}s=this.driver.getParentElement(s)}o||t.unshift(i)}else t.push(i);return a.set(e,i),i}register(i,e){let t=this._namespaceLookup[i];return t||(t=this.createNamespace(i,e)),t}registerTrigger(i,e,t){let a=this._namespaceLookup[i];a&&a.register(e,t)&&this.totalAnimations++}destroy(i,e){i&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let t=this._fetchNamespace(i);this.namespacesByHostElement.delete(t.hostElement);let a=this._namespaceList.indexOf(t);a>=0&&this._namespaceList.splice(a,1),t.destroy(e),delete this._namespaceLookup[i]}))}_fetchNamespace(i){return this._namespaceLookup[i]}fetchNamespacesByElement(i){let e=new Set,t=this.statesByElement.get(i);if(t){for(let a of t.values())if(a.namespaceId){let r=this._fetchNamespace(a.namespaceId);r&&e.add(r)}}return e}trigger(i,e,t,a){if(Rl(e)){let r=this._fetchNamespace(i);if(r)return r.trigger(e,t,a),!0}return!1}insertNode(i,e,t,a){if(!Rl(e))return;let r=e[wi];if(r&&r.setForRemoval){r.setForRemoval=!1,r.setForMove=!0;let o=this.collectedLeaveElements.indexOf(e);o>=0&&this.collectedLeaveElements.splice(o,1)}if(i){let o=this._fetchNamespace(i);o&&o.insertNode(e,t)}a&&this.collectEnterElement(e)}collectEnterElement(i){this.collectedEnterElements.push(i)}markElementAsDisabled(i,e){e?this.disabledNodes.has(i)||(this.disabledNodes.add(i),hi(i,Vh)):this.disabledNodes.has(i)&&(this.disabledNodes.delete(i),ar(i,Vh))}removeNode(i,e,t){if(Rl(e)){let a=i?this._fetchNamespace(i):null;a?a.removeNode(e,t):this.markElementAsRemoved(i,e,!1,t);let r=this.namespacesByHostElement.get(e);r&&r.id!==i&&r.removeNode(e,t)}else this._onRemovalComplete(e,t)}markElementAsRemoved(i,e,t,a,r){this.collectedLeaveElements.push(e),e[wi]={namespaceId:i,setForRemoval:a,hasAnimation:t,removedBeforeQueried:!1,previousTriggersValues:r}}listen(i,e,t,a,r){return Rl(e)?this._fetchNamespace(i).listen(e,t,a,r):()=>{}}_buildInstruction(i,e,t,a,r){return i.transition.build(this.driver,i.element,i.fromState.value,i.toState.value,t,a,i.fromState.options,i.toState.options,e,r)}destroyInnerAnimations(i){let e=this.driver.query(i,fo,!0);e.forEach(t=>this.destroyActiveAnimationsForElement(t)),this.playersByQueriedElement.size!=0&&(e=this.driver.query(i,kl,!0),e.forEach(t=>this.finishActiveQueriedAnimationOnElement(t)))}destroyActiveAnimationsForElement(i){let e=this.playersByElement.get(i);e&&e.forEach(t=>{t.queued?t.markedForDestroy=!0:t.destroy()})}finishActiveQueriedAnimationOnElement(i){let e=this.playersByQueriedElement.get(i);e&&e.forEach(t=>t.finish())}whenRenderingDone(){return new Promise(i=>{if(this.players.length)return tn(this.players).onDone(()=>i());i()})}processLeaveNode(i){let e=i[wi];if(e&&e.setForRemoval){if(i[wi]=A_,e.namespaceId){this.destroyInnerAnimations(i);let t=this._fetchNamespace(e.namespaceId);t&&t.clearElementCache(i)}this._onRemovalComplete(i,e.setForRemoval)}i.classList?.contains(Vh)&&this.markElementAsDisabled(i,!1),this.driver.query(i,Vw,!0).forEach(t=>{this.markElementAsDisabled(t,!1)})}flush(i=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((t,a)=>this._balanceNamespaceList(t,a)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let t=0;t<this.collectedEnterElements.length;t++){let a=this.collectedEnterElements[t];hi(a,zw)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let t=[];try{e=this._flushAnimations(t,i)}finally{for(let a=0;a<t.length;a++)t[a]()}}else for(let t=0;t<this.collectedLeaveElements.length;t++){let a=this.collectedLeaveElements[t];this.processLeaveNode(a)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(t=>t()),this._flushFns=[],this._whenQuietFns.length){let t=this._whenQuietFns;this._whenQuietFns=[],e.length?tn(e).onDone(()=>{t.forEach(a=>a())}):t.forEach(a=>a())}}reportError(i){throw d_(i)}_flushAnimations(i,e){let t=new bo,a=[],r=new Map,o=[],s=new Map,l=new Map,c=new Map,d=new Set;this.disabledNodes.forEach(T=>{d.add(T);let F=this.driver.query(T,Lw,!0);for(let L=0;L<F.length;L++)d.add(F[L])});let h=this.bodyNode,u=Array.from(this.statesByElement.keys()),p=S_(u,this.collectedEnterElements),f=new Map,_=0;p.forEach((T,F)=>{let L=Rh+_++;f.set(F,L),T.forEach(Q=>hi(Q,L))});let y=[],x=new Set,w=new Set;for(let T=0;T<this.collectedLeaveElements.length;T++){let F=this.collectedLeaveElements[T],L=F[wi];L&&L.setForRemoval&&(y.push(F),x.add(F),L.hasAnimation?this.driver.query(F,Bw,!0).forEach(Q=>x.add(Q)):w.add(F))}let S=new Map,D=S_(u,Array.from(x));D.forEach((T,F)=>{let L=El+_++;S.set(F,L),T.forEach(Q=>hi(Q,L))}),i.push(()=>{p.forEach((T,F)=>{let L=f.get(F);T.forEach(Q=>ar(Q,L))}),D.forEach((T,F)=>{let L=S.get(F);T.forEach(Q=>ar(Q,L))}),y.forEach(T=>{this.processLeaveNode(T)})});let M=[],k=[];for(let T=this._namespaceList.length-1;T>=0;T--)this._namespaceList[T].drainQueuedTransitions(e).forEach(L=>{let Q=L.player,Ne=L.element;if(M.push(Q),this.collectedEnterElements.length){let _t=Ne[wi];if(_t&&_t.setForMove){if(_t.previousTriggersValues&&_t.previousTriggersValues.has(L.triggerName)){let ia=_t.previousTriggersValues.get(L.triggerName),Xt=this.statesByElement.get(L.element);if(Xt&&Xt.has(L.triggerName)){let ls=Xt.get(L.triggerName);ls.value=ia,Xt.set(L.triggerName,ls)}}Q.destroy();return}}let St=!h||!this.driver.containsElement(h,Ne),Je=S.get(Ne),Ot=f.get(Ne),we=this._buildInstruction(L,t,Ot,Je,St);if(we.errors&&we.errors.length){k.push(we);return}if(St){Q.onStart(()=>kn(Ne,we.fromStyles)),Q.onDestroy(()=>xi(Ne,we.toStyles)),a.push(Q);return}if(L.isFallbackTransition){Q.onStart(()=>kn(Ne,we.fromStyles)),Q.onDestroy(()=>xi(Ne,we.toStyles)),a.push(Q);return}let hn=[];we.timelines.forEach(_t=>{_t.stretchStartingKeyframe=!0,this.disabledNodes.has(_t.element)||hn.push(_t)}),we.timelines=hn,t.append(Ne,we.timelines);let Yi={instruction:we,player:Q,element:Ne};o.push(Yi),we.queriedElements.forEach(_t=>It(s,_t,[]).push(Q)),we.preStyleProps.forEach((_t,ia)=>{if(_t.size){let Xt=l.get(ia);Xt||l.set(ia,Xt=new Set),_t.forEach((ls,Sd)=>Xt.add(Sd))}}),we.postStyleProps.forEach((_t,ia)=>{let Xt=c.get(ia);Xt||c.set(ia,Xt=new Set),_t.forEach((ls,Sd)=>Xt.add(Sd))})});if(k.length){let T=[];k.forEach(F=>{T.push(h_(F.triggerName,F.errors))}),M.forEach(F=>F.destroy()),this.reportError(T)}let R=new Map,P=new Map;o.forEach(T=>{let F=T.element;t.has(F)&&(P.set(F,F),this._beforeAnimationBuild(T.player.namespaceId,T.instruction,R))}),a.forEach(T=>{let F=T.element;this._getPreviousPlayers(F,!1,T.namespaceId,T.triggerName,null).forEach(Q=>{It(R,F,[]).push(Q),Q.destroy()})});let N=y.filter(T=>D_(T,l,c)),ne=new Map;M_(ne,this.driver,w,c,Ci).forEach(T=>{D_(T,l,c)&&N.push(T)});let se=new Map;p.forEach((T,F)=>{M_(se,this.driver,new Set(T),l,po)}),N.forEach(T=>{let F=ne.get(T),L=se.get(T);ne.set(T,new Map([...F?.entries()??[],...L?.entries()??[]]))});let Ke=[],gt=[],xe={};o.forEach(T=>{let{element:F,player:L,instruction:Q}=T;if(t.has(F)){if(d.has(F)){L.onDestroy(()=>xi(F,Q.toStyles)),L.disabled=!0,L.overrideTotalTime(Q.totalTime),a.push(L);return}let Ne=xe;if(P.size>1){let Je=F,Ot=[];for(;Je=Je.parentNode;){let we=P.get(Je);if(we){Ne=we;break}Ot.push(Je)}Ot.forEach(we=>P.set(we,Ne))}let St=this._buildAnimation(L.namespaceId,Q,R,r,se,ne);if(L.setRealPlayer(St),Ne===xe)Ke.push(L);else{let Je=this.playersByElement.get(Ne);Je&&Je.length&&(L.parentPlayer=tn(Je)),a.push(L)}}else kn(F,Q.fromStyles),L.onDestroy(()=>xi(F,Q.toStyles)),gt.push(L),d.has(F)&&a.push(L)}),gt.forEach(T=>{let F=r.get(T.element);if(F&&F.length){let L=tn(F);T.setRealPlayer(L)}}),a.forEach(T=>{T.parentPlayer?T.syncPlayerEvents(T.parentPlayer):T.destroy()});for(let T=0;T<y.length;T++){let F=y[T],L=F[wi];if(ar(F,El),L&&L.hasAnimation)continue;let Q=[];if(s.size){let St=s.get(F);St&&St.length&&Q.push(...St);let Je=this.driver.query(F,kl,!0);for(let Ot=0;Ot<Je.length;Ot++){let we=s.get(Je[Ot]);we&&we.length&&Q.push(...we)}}let Ne=Q.filter(St=>!St.destroyed);Ne.length?Yw(this,F,Ne):this.processLeaveNode(F)}return y.length=0,Ke.forEach(T=>{this.players.push(T),T.onDone(()=>{T.destroy();let F=this.players.indexOf(T);this.players.splice(F,1)}),T.play()}),Ke}afterFlush(i){this._flushFns.push(i)}afterFlushAnimationsDone(i){this._whenQuietFns.push(i)}_getPreviousPlayers(i,e,t,a,r){let o=[];if(e){let s=this.playersByQueriedElement.get(i);s&&(o=s)}else{let s=this.playersByElement.get(i);if(s){let l=!r||r==_o;s.forEach(c=>{c.queued||!l&&c.triggerName!=a||o.push(c)})}}return(t||a)&&(o=o.filter(s=>!(t&&t!=s.namespaceId||a&&a!=s.triggerName))),o}_beforeAnimationBuild(i,e,t){let a=e.triggerName,r=e.element,o=e.isRemovalTransition?void 0:i,s=e.isRemovalTransition?void 0:a;for(let l of e.timelines){let c=l.element,d=c!==r,h=It(t,c,[]);this._getPreviousPlayers(c,d,o,s,e.toState).forEach(p=>{let f=p.getRealPlayer();f.beforeDestroy&&f.beforeDestroy(),p.destroy(),h.push(p)})}kn(r,e.fromStyles)}_buildAnimation(i,e,t,a,r,o){let s=e.triggerName,l=e.element,c=[],d=new Set,h=new Set,u=e.timelines.map(f=>{let _=f.element;d.add(_);let y=_[wi];if(y&&y.removedBeforeQueried)return new en(f.duration,f.delay);let x=_!==l,w=qw((t.get(_)||jw).map(R=>R.getRealPlayer())).filter(R=>{let P=R;return P.element?P.element===_:!1}),S=r.get(_),D=o.get(_),M=kh(this._normalizer,f.keyframes,S,D),k=this._buildPlayer(f,M,w);if(f.subTimeline&&a&&h.add(_),x){let R=new vo(i,s,_);R.setRealPlayer(k),c.push(R)}return k});c.forEach(f=>{It(this.playersByQueriedElement,f.element,[]).push(f),f.onDone(()=>Uw(this.playersByQueriedElement,f.element,f))}),d.forEach(f=>hi(f,Ih));let p=tn(u);return p.onDestroy(()=>{d.forEach(f=>ar(f,Ih)),xi(l,e.toStyles)}),h.forEach(f=>{It(a,f,[]).push(p)}),p}_buildPlayer(i,e,t){return e.length>0?this.driver.animate(i.element,e,i.duration,i.delay,i.easing,t):new en(i.duration,i.delay)}},vo=class{namespaceId;triggerName;element;_player=new en;_containsRealPlayer=!1;_queuedCallbacks=new Map;destroyed=!1;parentPlayer=null;markedForDestroy=!1;disabled=!1;queued=!0;totalTime=0;constructor(i,e,t){this.namespaceId=i,this.triggerName=e,this.element=t}setRealPlayer(i){this._containsRealPlayer||(this._player=i,this._queuedCallbacks.forEach((e,t)=>{e.forEach(a=>Ml(i,t,void 0,a))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(i.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(i){this.totalTime=i}syncPlayerEvents(i){let e=this._player;e.triggerCallback&&i.onStart(()=>e.triggerCallback("start")),i.onDone(()=>this.finish()),i.onDestroy(()=>this.destroy())}_queueEvent(i,e){It(this._queuedCallbacks,i,[]).push(e)}onDone(i){this.queued&&this._queueEvent("done",i),this._player.onDone(i)}onStart(i){this.queued&&this._queueEvent("start",i),this._player.onStart(i)}onDestroy(i){this.queued&&this._queueEvent("destroy",i),this._player.onDestroy(i)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(i){this.queued||this._player.setPosition(i)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(i){let e=this._player;e.triggerCallback&&e.triggerCallback(i)}};function Uw(n,i,e){let t=n.get(i);if(t){if(t.length){let a=t.indexOf(e);t.splice(a,1)}t.length==0&&n.delete(i)}return t}function Ww(n){return n??null}function Rl(n){return n&&n.nodeType===1}function $w(n){return n=="start"||n=="done"}function w_(n,i){let e=n.style.display;return n.style.display=i??"none",e}function M_(n,i,e,t,a){let r=[];e.forEach(l=>r.push(w_(l)));let o=[];t.forEach((l,c)=>{let d=new Map;l.forEach(h=>{let u=i.computeStyle(c,h,a);d.set(h,u),(!u||u.length==0)&&(c[wi]=Hw,o.push(c))}),n.set(c,d)});let s=0;return e.forEach(l=>w_(l,r[s++])),o}function S_(n,i){let e=new Map;if(n.forEach(s=>e.set(s,[])),i.length==0)return e;let t=1,a=new Set(i),r=new Map;function o(s){if(!s)return t;let l=r.get(s);if(l)return l;let c=s.parentNode;return e.has(c)?l=c:a.has(c)?l=t:l=o(c),r.set(s,l),l}return i.forEach(s=>{let l=o(s);l!==t&&e.get(l).push(s)}),e}function hi(n,i){n.classList?.add(i)}function ar(n,i){n.classList?.remove(i)}function Yw(n,i,e){tn(e).onDone(()=>n.processLeaveNode(i))}function qw(n){let i=[];return T_(n,i),i}function T_(n,i){for(let e=0;e<n.length;e++){let t=n[e];t instanceof tr?T_(t.players,i):i.push(t)}}function Gw(n,i){let e=Object.keys(n),t=Object.keys(i);if(e.length!=t.length)return!1;for(let a=0;a<e.length;a++){let r=e[a];if(!i.hasOwnProperty(r)||n[r]!==i[r])return!1}return!0}function D_(n,i,e){let t=e.get(n);if(!t)return!1;let a=i.get(n);return a?t.forEach(r=>a.add(r)):i.set(n,t),e.delete(n),!0}var rr=class{_driver;_normalizer;_transitionEngine;_timelineEngine;_triggerCache={};onRemovalComplete=(i,e)=>{};constructor(i,e,t){this._driver=e,this._normalizer=t,this._transitionEngine=new Qh(i.body,e,t),this._timelineEngine=new Gh(i.body,e,t),this._transitionEngine.onRemovalComplete=(a,r)=>this.onRemovalComplete(a,r)}registerTrigger(i,e,t,a,r){let o=i+"-"+a,s=this._triggerCache[o];if(!s){let l=[],c=[],d=k_(this._driver,r,l,c);if(l.length)throw t_(a,l);s=Iw(a,d,this._normalizer),this._triggerCache[o]=s}this._transitionEngine.registerTrigger(e,a,s)}register(i,e){this._transitionEngine.register(i,e)}destroy(i,e){this._transitionEngine.destroy(i,e)}onInsert(i,e,t,a){this._transitionEngine.insertNode(i,e,t,a)}onRemove(i,e,t){this._transitionEngine.removeNode(i,e,t)}disableAnimations(i,e){this._transitionEngine.markElementAsDisabled(i,e)}process(i,e,t,a){if(t.charAt(0)=="@"){let[r,o]=Ph(t),s=a;this._timelineEngine.command(r,e,o,s)}else this._transitionEngine.trigger(i,e,t,a)}listen(i,e,t,a,r){if(t.charAt(0)=="@"){let[o,s]=Ph(t);return this._timelineEngine.listen(o,e,s,r)}return this._transitionEngine.listen(i,e,t,a,r)}flush(i=-1){this._transitionEngine.flush(i)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(i){this._transitionEngine.afterFlushAnimationsDone(i)}};function Kw(n,i){let e=null,t=null;return Array.isArray(i)&&i.length?(e=Bh(i[0]),i.length>1&&(t=Bh(i[i.length-1]))):i instanceof Map&&(e=Bh(i)),e||t?new Qw(n,e,t):null}var Qw=(()=>{class n{_element;_startStyles;_endStyles;static initialStylesByElement=new WeakMap;_state=0;_initialStyles;constructor(e,t,a){this._element=e,this._startStyles=t,this._endStyles=a;let r=n.initialStylesByElement.get(e);r||n.initialStylesByElement.set(e,r=new Map),this._initialStyles=r}start(){this._state<1&&(this._startStyles&&xi(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(xi(this._element,this._initialStyles),this._endStyles&&(xi(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(kn(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(kn(this._element,this._endStyles),this._endStyles=null),xi(this._element,this._initialStyles),this._state=3)}}return n})();function Bh(n){let i=null;return n.forEach((e,t)=>{Xw(t)&&(i=i||new Map,i.set(t,e))}),i}function Xw(n){return n==="display"||n==="position"}var Bl=class{element;keyframes;options;_specialStyles;_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_duration;_delay;_initialized=!1;_finished=!1;_started=!1;_destroyed=!1;_finalKeyframe;_originalOnDoneFns=[];_originalOnStartFns=[];domPlayer=null;time=0;parentPlayer=null;currentSnapshot=new Map;constructor(i,e,t,a){this.element=i,this.keyframes=e,this.options=t,this._specialStyles=a,this._duration=t.duration,this._delay=t.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(i=>i()),this._onDoneFns=[])}init(){this._buildPlayer()&&this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return this.domPlayer;this._initialized=!0;let i=this.keyframes,e=this._triggerWebAnimation(this.element,i,this.options);if(!e)return this._onFinish(),null;this.domPlayer=e,this._finalKeyframe=i.length?i[i.length-1]:new Map;let t=()=>this._onFinish();return e.addEventListener("finish",t),this.onDestroy(()=>{e.removeEventListener("finish",t)}),e}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer?.pause()}_convertKeyframesToObject(i){let e=[];return i.forEach(t=>{e.push(Object.fromEntries(t))}),e}_triggerWebAnimation(i,e,t){let a=this._convertKeyframesToObject(e);try{return i.animate(a,t)}catch{return null}}onStart(i){this._originalOnStartFns.push(i),this._onStartFns.push(i)}onDone(i){this._originalOnDoneFns.push(i),this._onDoneFns.push(i)}onDestroy(i){this._onDestroyFns.push(i)}play(){let i=this._buildPlayer();i&&(this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),i.play())}pause(){this.init(),this.domPlayer?.pause()}finish(){this.init(),this.domPlayer&&(this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish())}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer?.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(i=>i()),this._onDestroyFns=[])}setPosition(i){this.domPlayer||this.init(),this.domPlayer&&(this.domPlayer.currentTime=i*this.time)}getPosition(){return this.domPlayer?+(this.domPlayer.currentTime??0)/this.time:this._initialized?1:0}get totalTime(){return this._delay+this._duration}beforeDestroy(){let i=new Map;this.hasStarted()&&this._finalKeyframe.forEach((t,a)=>{a!=="offset"&&i.set(a,this._finished?t:Ol(this.element,a))}),this.currentSnapshot=i}triggerCallback(i){let e=i==="start"?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}},jl=class{validateStyleProperty(i){return!0}validateAnimatableStyleProperty(i){return!0}containsElement(i,e){return Oh(i,e)}getParentElement(i){return Dl(i)}query(i,e,t){return Ah(i,e,t)}computeStyle(i,e,t){return Ol(i,e)}animate(i,e,t,a,r,o=[]){let s=a==0?"both":"forwards",l={duration:t,delay:a,fill:s};r&&(l.easing=r);let c=new Map,d=o.filter(p=>p instanceof Bl);f_(t,a)&&d.forEach(p=>{p.currentSnapshot.forEach((f,_)=>c.set(_,f))});let h=p_(e).map(p=>new Map(p));h=g_(i,h,c);let u=Kw(i,h);return new Bl(i,h,l,u)}};var Il="@",R_="@.disabled",Hl=class{namespaceId;delegate;engine;_onDestroy;\u0275type=0;constructor(i,e,t,a){this.namespaceId=i,this.delegate=e,this.engine=t,this._onDestroy=a}get data(){return this.delegate.data}destroyNode(i){this.delegate.destroyNode?.(i)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(i,e){return this.delegate.createElement(i,e)}createComment(i){return this.delegate.createComment(i)}createText(i){return this.delegate.createText(i)}appendChild(i,e){this.delegate.appendChild(i,e),this.engine.onInsert(this.namespaceId,e,i,!1)}insertBefore(i,e,t,a=!0){this.delegate.insertBefore(i,e,t),this.engine.onInsert(this.namespaceId,e,i,a)}removeChild(i,e,t,a){if(a){this.delegate.removeChild(i,e,t,a);return}this.parentNode(e)&&this.engine.onRemove(this.namespaceId,e,this.delegate)}selectRootElement(i,e){return this.delegate.selectRootElement(i,e)}parentNode(i){return this.delegate.parentNode(i)}nextSibling(i){return this.delegate.nextSibling(i)}setAttribute(i,e,t,a){this.delegate.setAttribute(i,e,t,a)}removeAttribute(i,e,t){this.delegate.removeAttribute(i,e,t)}addClass(i,e){this.delegate.addClass(i,e)}removeClass(i,e){this.delegate.removeClass(i,e)}setStyle(i,e,t,a){this.delegate.setStyle(i,e,t,a)}removeStyle(i,e,t){this.delegate.removeStyle(i,e,t)}setProperty(i,e,t){e.charAt(0)==Il&&e==R_?this.disableAnimations(i,!!t):this.delegate.setProperty(i,e,t)}setValue(i,e){this.delegate.setValue(i,e)}listen(i,e,t,a){return this.delegate.listen(i,e,t,a)}disableAnimations(i,e){this.engine.disableAnimations(i,e)}},Xh=class extends Hl{factory;constructor(i,e,t,a,r){super(e,t,a,r),this.factory=i,this.namespaceId=e}setProperty(i,e,t){e.charAt(0)==Il?e.charAt(1)=="."&&e==R_?(t=t===void 0?!0:!!t,this.disableAnimations(i,t)):this.engine.process(this.namespaceId,i,e.slice(1),t):this.delegate.setProperty(i,e,t)}listen(i,e,t,a){if(e.charAt(0)==Il){let r=Zw(i),o=e.slice(1),s="";return o.charAt(0)!=Il&&([o,s]=Jw(o)),this.engine.listen(this.namespaceId,r,o,s,l=>{let c=l._data||-1;this.factory.scheduleListenerCallback(c,t,l)})}return this.delegate.listen(i,e,t,a)}};function Zw(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}function Jw(n){let i=n.indexOf("."),e=n.substring(0,i),t=n.slice(i+1);return[e,t]}var Ul=class{delegate;engine;_zone;_currentId=0;_microtaskId=1;_animationCallbacksBuffer=[];_rendererCache=new Map;_cdRecurDepth=0;constructor(i,e,t){this.delegate=i,this.engine=e,this._zone=t,e.onRemovalComplete=(a,r)=>{r?.removeChild(null,a)}}createRenderer(i,e){let a=this.delegate.createRenderer(i,e);if(!i||!e?.data?.animation){let c=this._rendererCache,d=c.get(a);if(!d){let h=()=>c.delete(a);d=new Hl("",a,this.engine,h),c.set(a,d)}return d}let r=e.id,o=e.id+"-"+this._currentId;this._currentId++,this.engine.register(o,i);let s=c=>{Array.isArray(c)?c.forEach(s):this.engine.registerTrigger(r,o,i,c.name,c)};return e.data.animation.forEach(s),new Xh(this,o,a,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(i,e,t){if(i>=0&&i<this._microtaskId){this._zone.run(()=>e(t));return}let a=this._animationCallbacksBuffer;a.length==0&&queueMicrotask(()=>{this._zone.run(()=>{a.forEach(r=>{let[o,s]=r;o(s)}),this._animationCallbacksBuffer=[]})}),a.push([e,t])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}componentReplaced(i){this.engine.flush(),this.delegate.componentReplaced?.(i)}};var tM=(()=>{class n extends rr{constructor(e,t,a){super(e,t,a)}ngOnDestroy(){this.flush()}static \u0275fac=function(t){return new(t||n)(it(Tt),it(ga),it(_a))};static \u0275prov=ae({token:n,factory:n.\u0275fac})}return n})();function iM(){return new Fl}function nM(){return new Ul(b(Hm),b(rr),b(dt))}var I_=[{provide:_a,useFactory:iM},{provide:rr,useClass:tM},{provide:Mm,useFactory:nM}],_F=[{provide:ga,useClass:Zh},{provide:Pd,useValue:"NoopAnimations"},...I_],aM=[{provide:ga,useFactory:()=>new jl},{provide:Pd,useFactory:()=>"BrowserAnimations"},...I_];function F_(){return ps("NgEagerAnimations"),[...aM]}function wo(n){return n+.5|0}var Pn=(n,i,e)=>Math.max(Math.min(n,e),i);function Co(n){return Pn(wo(n*2.55),0,255)}function On(n){return Pn(wo(n*255),0,255)}function nn(n){return Pn(wo(n/2.55)/100,0,1)}function N_(n){return Pn(wo(n*100),0,100)}var ui={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},tu=[..."0123456789ABCDEF"],rM=n=>tu[n&15],oM=n=>tu[(n&240)>>4]+tu[n&15],Wl=n=>(n&240)>>4===(n&15),sM=n=>Wl(n.r)&&Wl(n.g)&&Wl(n.b)&&Wl(n.a);function lM(n){var i=n.length,e;return n[0]==="#"&&(i===4||i===5?e={r:255&ui[n[1]]*17,g:255&ui[n[2]]*17,b:255&ui[n[3]]*17,a:i===5?ui[n[4]]*17:255}:(i===7||i===9)&&(e={r:ui[n[1]]<<4|ui[n[2]],g:ui[n[3]]<<4|ui[n[4]],b:ui[n[5]]<<4|ui[n[6]],a:i===9?ui[n[7]]<<4|ui[n[8]]:255})),e}var cM=(n,i)=>n<255?i(n):"";function dM(n){var i=sM(n)?rM:oM;return n?"#"+i(n.r)+i(n.g)+i(n.b)+cM(n.a,i):void 0}var hM=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function B_(n,i,e){let t=i*Math.min(e,1-e),a=(r,o=(r+n/30)%12)=>e-t*Math.max(Math.min(o-3,9-o,1),-1);return[a(0),a(8),a(4)]}function uM(n,i,e){let t=(a,r=(a+n/60)%6)=>e-e*i*Math.max(Math.min(r,4-r,1),0);return[t(5),t(3),t(1)]}function pM(n,i,e){let t=B_(n,1,.5),a;for(i+e>1&&(a=1/(i+e),i*=a,e*=a),a=0;a<3;a++)t[a]*=1-i-e,t[a]+=i;return t}function mM(n,i,e,t,a){return n===a?(i-e)/t+(i<e?6:0):i===a?(e-n)/t+2:(n-i)/t+4}function iu(n){let e=n.r/255,t=n.g/255,a=n.b/255,r=Math.max(e,t,a),o=Math.min(e,t,a),s=(r+o)/2,l,c,d;return r!==o&&(d=r-o,c=s>.5?d/(2-r-o):d/(r+o),l=mM(e,t,a,d,r),l=l*60+.5),[l|0,c||0,s]}function nu(n,i,e,t){return(Array.isArray(i)?n(i[0],i[1],i[2]):n(i,e,t)).map(On)}function au(n,i,e){return nu(B_,n,i,e)}function fM(n,i,e){return nu(pM,n,i,e)}function gM(n,i,e){return nu(uM,n,i,e)}function j_(n){return(n%360+360)%360}function _M(n){let i=hM.exec(n),e=255,t;if(!i)return;i[5]!==t&&(e=i[6]?Co(+i[5]):On(+i[5]));let a=j_(+i[2]),r=+i[3]/100,o=+i[4]/100;return i[1]==="hwb"?t=fM(a,r,o):i[1]==="hsv"?t=gM(a,r,o):t=au(a,r,o),{r:t[0],g:t[1],b:t[2],a:e}}function bM(n,i){var e=iu(n);e[0]=j_(e[0]+i),e=au(e),n.r=e[0],n.g=e[1],n.b=e[2]}function yM(n){if(!n)return;let i=iu(n),e=i[0],t=N_(i[1]),a=N_(i[2]);return n.a<255?`hsla(${e}, ${t}%, ${a}%, ${nn(n.a)})`:`hsl(${e}, ${t}%, ${a}%)`}var L_={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},V_={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function vM(){let n={},i=Object.keys(V_),e=Object.keys(L_),t,a,r,o,s;for(t=0;t<i.length;t++){for(o=s=i[t],a=0;a<e.length;a++)r=e[a],s=s.replace(r,L_[r]);r=parseInt(V_[o],16),n[s]=[r>>16&255,r>>8&255,r&255]}return n}var $l;function CM(n){$l||($l=vM(),$l.transparent=[0,0,0,0]);let i=$l[n.toLowerCase()];return i&&{r:i[0],g:i[1],b:i[2],a:i.length===4?i[3]:255}}var xM=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function wM(n){let i=xM.exec(n),e=255,t,a,r;if(i){if(i[7]!==t){let o=+i[7];e=i[8]?Co(o):Pn(o*255,0,255)}return t=+i[1],a=+i[3],r=+i[5],t=255&(i[2]?Co(t):Pn(t,0,255)),a=255&(i[4]?Co(a):Pn(a,0,255)),r=255&(i[6]?Co(r):Pn(r,0,255)),{r:t,g:a,b:r,a:e}}}function MM(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${nn(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}var eu=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,or=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function SM(n,i,e){let t=or(nn(n.r)),a=or(nn(n.g)),r=or(nn(n.b));return{r:On(eu(t+e*(or(nn(i.r))-t))),g:On(eu(a+e*(or(nn(i.g))-a))),b:On(eu(r+e*(or(nn(i.b))-r))),a:n.a+e*(i.a-n.a)}}function Yl(n,i,e){if(n){let t=iu(n);t[i]=Math.max(0,Math.min(t[i]+t[i]*e,i===0?360:1)),t=au(t),n.r=t[0],n.g=t[1],n.b=t[2]}}function H_(n,i){return n&&Object.assign(i||{},n)}function z_(n){var i={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(i={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(i.a=On(n[3]))):(i=H_(n,{r:0,g:0,b:0,a:1}),i.a=On(i.a)),i}function DM(n){return n.charAt(0)==="r"?wM(n):_M(n)}var xo=class n{constructor(i){if(i instanceof n)return i;let e=typeof i,t;e==="object"?t=z_(i):e==="string"&&(t=lM(i)||CM(i)||DM(i)),this._rgb=t,this._valid=!!t}get valid(){return this._valid}get rgb(){var i=H_(this._rgb);return i&&(i.a=nn(i.a)),i}set rgb(i){this._rgb=z_(i)}rgbString(){return this._valid?MM(this._rgb):void 0}hexString(){return this._valid?dM(this._rgb):void 0}hslString(){return this._valid?yM(this._rgb):void 0}mix(i,e){if(i){let t=this.rgb,a=i.rgb,r,o=e===r?.5:e,s=2*o-1,l=t.a-a.a,c=((s*l===-1?s:(s+l)/(1+s*l))+1)/2;r=1-c,t.r=255&c*t.r+r*a.r+.5,t.g=255&c*t.g+r*a.g+.5,t.b=255&c*t.b+r*a.b+.5,t.a=o*t.a+(1-o)*a.a,this.rgb=t}return this}interpolate(i,e){return i&&(this._rgb=SM(this._rgb,i._rgb,e)),this}clone(){return new n(this.rgb)}alpha(i){return this._rgb.a=On(i),this}clearer(i){let e=this._rgb;return e.a*=1-i,this}greyscale(){let i=this._rgb,e=wo(i.r*.3+i.g*.59+i.b*.11);return i.r=i.g=i.b=e,this}opaquer(i){let e=this._rgb;return e.a*=1+i,this}negate(){let i=this._rgb;return i.r=255-i.r,i.g=255-i.g,i.b=255-i.b,this}lighten(i){return Yl(this._rgb,2,i),this}darken(i){return Yl(this._rgb,2,-i),this}saturate(i){return Yl(this._rgb,1,i),this}desaturate(i){return Yl(this._rgb,1,-i),this}rotate(i){return bM(this._rgb,i),this}};function Vi(){}var J_=(()=>{let n=0;return()=>n++})();function me(n){return n==null}function Ie(n){if(Array.isArray&&Array.isArray(n))return!0;let i=Object.prototype.toString.call(n);return i.slice(0,7)==="[object"&&i.slice(-6)==="Array]"}function fe(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function $e(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function Nt(n,i){return $e(n)?n:i}function re(n,i){return typeof n>"u"?i:n}var eb=(n,i)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100:+n/i,lu=(n,i)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*i:+n;function Ae(n,i,e){if(n&&typeof n.call=="function")return n.apply(e,i)}function Pe(n,i,e,t){let a,r,o;if(Ie(n))if(r=n.length,t)for(a=r-1;a>=0;a--)i.call(e,n[a],a);else for(a=0;a<r;a++)i.call(e,n[a],a);else if(fe(n))for(o=Object.keys(n),r=o.length,a=0;a<r;a++)i.call(e,n[o[a]],o[a])}function Do(n,i){let e,t,a,r;if(!n||!i||n.length!==i.length)return!1;for(e=0,t=n.length;e<t;++e)if(a=n[e],r=i[e],a.datasetIndex!==r.datasetIndex||a.index!==r.index)return!1;return!0}function Ql(n){if(Ie(n))return n.map(Ql);if(fe(n)){let i=Object.create(null),e=Object.keys(n),t=e.length,a=0;for(;a<t;++a)i[e[a]]=Ql(n[e[a]]);return i}return n}function tb(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function EM(n,i,e,t){if(!tb(n))return;let a=i[n],r=e[n];fe(a)&&fe(r)?lr(a,r,t):i[n]=Ql(r)}function lr(n,i,e){let t=Ie(i)?i:[i],a=t.length;if(!fe(n))return n;e=e||{};let r=e.merger||EM,o;for(let s=0;s<a;++s){if(o=t[s],!fe(o))continue;let l=Object.keys(o);for(let c=0,d=l.length;c<d;++c)r(l[c],n,o,e)}return n}function dr(n,i){return lr(n,i,{merger:kM})}function kM(n,i,e){if(!tb(n))return;let t=i[n],a=e[n];fe(t)&&fe(a)?dr(t,a):Object.prototype.hasOwnProperty.call(i,n)||(i[n]=Ql(a))}var U_={"":n=>n,x:n=>n.x,y:n=>n.y};function PM(n){let i=n.split("."),e=[],t="";for(let a of i)t+=a,t.endsWith("\\")?t=t.slice(0,-1)+".":(e.push(t),t="");return e}function OM(n){let i=PM(n);return e=>{for(let t of i){if(t==="")break;e=e&&e[t]}return e}}function on(n,i){return(U_[i]||(U_[i]=OM(i)))(n)}function ec(n){return n.charAt(0).toUpperCase()+n.slice(1)}var hr=n=>typeof n<"u",an=n=>typeof n=="function",cu=(n,i)=>{if(n.size!==i.size)return!1;for(let e of n)if(!i.has(e))return!1;return!0};function ib(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}var ve=Math.PI,Fe=2*ve,AM=Fe+ve,Xl=Number.POSITIVE_INFINITY,TM=ve/180,Ge=ve/2,ba=ve/4,W_=ve*2/3,rn=Math.log10,Mi=Math.sign;function ur(n,i,e){return Math.abs(n-i)<e}function du(n){let i=Math.round(n);n=ur(n,i,n/1e3)?i:n;let e=Math.pow(10,Math.floor(rn(n))),t=n/e;return(t<=1?1:t<=2?2:t<=5?5:10)*e}function nb(n){let i=[],e=Math.sqrt(n),t;for(t=1;t<e;t++)n%t===0&&(i.push(t),i.push(n/t));return e===(e|0)&&i.push(e),i.sort((a,r)=>a-r).pop(),i}function RM(n){return typeof n=="symbol"||typeof n=="object"&&n!==null&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}function Ca(n){return!RM(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function ab(n,i){let e=Math.round(n);return e-i<=n&&e+i>=n}function hu(n,i,e){let t,a,r;for(t=0,a=n.length;t<a;t++)r=n[t][e],isNaN(r)||(i.min=Math.min(i.min,r),i.max=Math.max(i.max,r))}function pi(n){return n*(ve/180)}function tc(n){return n*(180/ve)}function uu(n){if(!$e(n))return;let i=1,e=0;for(;Math.round(n*i)/i!==n;)i*=10,e++;return e}function pu(n,i){let e=i.x-n.x,t=i.y-n.y,a=Math.sqrt(e*e+t*t),r=Math.atan2(t,e);return r<-.5*ve&&(r+=Fe),{angle:r,distance:a}}function Zl(n,i){return Math.sqrt(Math.pow(i.x-n.x,2)+Math.pow(i.y-n.y,2))}function IM(n,i){return(n-i+AM)%Fe-ve}function ut(n){return(n%Fe+Fe)%Fe}function pr(n,i,e,t){let a=ut(n),r=ut(i),o=ut(e),s=ut(r-a),l=ut(o-a),c=ut(a-r),d=ut(a-o);return a===r||a===o||t&&r===o||s>l&&c<d}function rt(n,i,e){return Math.max(i,Math.min(e,n))}function rb(n){return rt(n,-32768,32767)}function zi(n,i,e,t=1e-6){return n>=Math.min(i,e)-t&&n<=Math.max(i,e)+t}function ic(n,i,e){e=e||(o=>n[o]<i);let t=n.length-1,a=0,r;for(;t-a>1;)r=a+t>>1,e(r)?a=r:t=r;return{lo:a,hi:t}}var Ni=(n,i,e,t)=>ic(n,e,t?a=>{let r=n[a][i];return r<e||r===e&&n[a+1][i]===e}:a=>n[a][i]<e),ob=(n,i,e)=>ic(n,e,t=>n[t][i]>=e);function sb(n,i,e){let t=0,a=n.length;for(;t<a&&n[t]<i;)t++;for(;a>t&&n[a-1]>e;)a--;return t>0||a<n.length?n.slice(t,a):n}var lb=["push","pop","shift","splice","unshift"];function cb(n,i){if(n._chartjs){n._chartjs.listeners.push(i);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[i]}}),lb.forEach(e=>{let t="_onData"+ec(e),a=n[e];Object.defineProperty(n,e,{configurable:!0,enumerable:!1,value(...r){let o=a.apply(this,r);return n._chartjs.listeners.forEach(s=>{typeof s[t]=="function"&&s[t](...r)}),o}})})}function mu(n,i){let e=n._chartjs;if(!e)return;let t=e.listeners,a=t.indexOf(i);a!==-1&&t.splice(a,1),!(t.length>0)&&(lb.forEach(r=>{delete n[r]}),delete n._chartjs)}function fu(n){let i=new Set(n);return i.size===n.length?n:Array.from(i)}var gu=(function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame})();function _u(n,i){let e=[],t=!1;return function(...a){e=a,t||(t=!0,gu.call(window,()=>{t=!1,n.apply(i,e)}))}}function db(n,i){let e;return function(...t){return i?(clearTimeout(e),e=setTimeout(n,i,t)):n.apply(this,t),i}}var nc=n=>n==="start"?"left":n==="end"?"right":"center",pt=(n,i,e)=>n==="start"?i:n==="end"?e:(i+e)/2,hb=(n,i,e,t)=>n===(t?"left":"right")?e:n==="center"?(i+e)/2:i;function bu(n,i,e){let t=i.length,a=0,r=t;if(n._sorted){let{iScale:o,vScale:s,_parsed:l}=n,c=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null,d=o.axis,{min:h,max:u,minDefined:p,maxDefined:f}=o.getUserBounds();if(p){if(a=Math.min(Ni(l,d,h).lo,e?t:Ni(i,d,o.getPixelForValue(h)).lo),c){let _=l.slice(0,a+1).reverse().findIndex(y=>!me(y[s.axis]));a-=Math.max(0,_)}a=rt(a,0,t-1)}if(f){let _=Math.max(Ni(l,o.axis,u,!0).hi+1,e?0:Ni(i,d,o.getPixelForValue(u),!0).hi+1);if(c){let y=l.slice(_-1).findIndex(x=>!me(x[s.axis]));_+=Math.max(0,y)}r=rt(_,a,t)-a}else r=t-a}return{start:a,count:r}}function yu(n){let{xScale:i,yScale:e,_scaleRanges:t}=n,a={xmin:i.min,xmax:i.max,ymin:e.min,ymax:e.max};if(!t)return n._scaleRanges=a,!0;let r=t.xmin!==i.min||t.xmax!==i.max||t.ymin!==e.min||t.ymax!==e.max;return Object.assign(t,a),r}var ql=n=>n===0||n===1,$_=(n,i,e)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-i)*Fe/e)),Y_=(n,i,e)=>Math.pow(2,-10*n)*Math.sin((n-i)*Fe/e)+1,sr={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*Ge)+1,easeOutSine:n=>Math.sin(n*Ge),easeInOutSine:n=>-.5*(Math.cos(ve*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>ql(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>ql(n)?n:$_(n,.075,.3),easeOutElastic:n=>ql(n)?n:Y_(n,.075,.3),easeInOutElastic(n){return ql(n)?n:n<.5?.5*$_(n*2,.1125,.45):.5+.5*Y_(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let i=1.70158;return(n/=.5)<1?.5*(n*n*(((i*=1.525)+1)*n-i)):.5*((n-=2)*n*(((i*=1.525)+1)*n+i)+2)},easeInBounce:n=>1-sr.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?sr.easeInBounce(n*2)*.5:sr.easeOutBounce(n*2-1)*.5+.5};function vu(n){if(n&&typeof n=="object"){let i=n.toString();return i==="[object CanvasPattern]"||i==="[object CanvasGradient]"}return!1}function Cu(n){return vu(n)?n:new xo(n)}function ru(n){return vu(n)?n:new xo(n).saturate(.5).darken(.1).hexString()}var FM=["x","y","borderWidth","radius","tension"],NM=["color","borderColor","backgroundColor"];function LM(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:i=>i!=="onProgress"&&i!=="onComplete"&&i!=="fn"}),n.set("animations",{colors:{type:"color",properties:NM},numbers:{type:"number",properties:FM}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:i=>i|0}}}})}function VM(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}var q_=new Map;function zM(n,i){i=i||{};let e=n+JSON.stringify(i),t=q_.get(e);return t||(t=new Intl.NumberFormat(n,i),q_.set(e,t)),t}function mr(n,i,e){return zM(i,e).format(n)}var ub={values(n){return Ie(n)?n:""+n},numeric(n,i,e){if(n===0)return"0";let t=this.chart.options.locale,a,r=n;if(e.length>1){let c=Math.max(Math.abs(e[0].value),Math.abs(e[e.length-1].value));(c<1e-4||c>1e15)&&(a="scientific"),r=BM(n,e)}let o=rn(Math.abs(r)),s=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:a,minimumFractionDigits:s,maximumFractionDigits:s};return Object.assign(l,this.options.ticks.format),mr(n,t,l)},logarithmic(n,i,e){if(n===0)return"0";let t=e[i].significand||n/Math.pow(10,Math.floor(rn(n)));return[1,2,3,5,10,15].includes(t)||i>.8*e.length?ub.numeric.call(this,n,i,e):""}};function BM(n,i){let e=i.length>3?i[2].value-i[1].value:i[1].value-i[0].value;return Math.abs(e)>=1&&n!==Math.floor(n)&&(e=n-Math.floor(n)),e}var Eo={formatters:ub};function jM(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(i,e)=>e.lineWidth,tickColor:(i,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Eo.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:i=>!i.startsWith("before")&&!i.startsWith("after")&&i!=="callback"&&i!=="parser",_indexable:i=>i!=="borderDash"&&i!=="tickBorderDash"&&i!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:i=>i!=="backdropPadding"&&i!=="callback",_indexable:i=>i!=="backdropPadding"})}var Rn=Object.create(null),ac=Object.create(null);function Mo(n,i){if(!i)return n;let e=i.split(".");for(let t=0,a=e.length;t<a;++t){let r=e[t];n=n[r]||(n[r]=Object.create(null))}return n}function ou(n,i,e){return typeof i=="string"?lr(Mo(n,i),e):lr(Mo(n,""),i)}var su=class{constructor(i,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=t=>t.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(t,a)=>ru(a.backgroundColor),this.hoverBorderColor=(t,a)=>ru(a.borderColor),this.hoverColor=(t,a)=>ru(a.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(i),this.apply(e)}set(i,e){return ou(this,i,e)}get(i){return Mo(this,i)}describe(i,e){return ou(ac,i,e)}override(i,e){return ou(Rn,i,e)}route(i,e,t,a){let r=Mo(this,i),o=Mo(this,t),s="_"+e;Object.defineProperties(r,{[s]:{value:r[e],writable:!0},[e]:{enumerable:!0,get(){let l=this[s],c=o[a];return fe(l)?Object.assign({},c,l):re(l,c)},set(l){this[s]=l}}})}apply(i){i.forEach(e=>e(this))}},Te=new su({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[LM,VM,jM]);function HM(n){return!n||me(n.size)||me(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function So(n,i,e,t,a){let r=i[a];return r||(r=i[a]=n.measureText(a).width,e.push(a)),r>t&&(t=r),t}function pb(n,i,e,t){t=t||{};let a=t.data=t.data||{},r=t.garbageCollect=t.garbageCollect||[];t.font!==i&&(a=t.data={},r=t.garbageCollect=[],t.font=i),n.save(),n.font=i;let o=0,s=e.length,l,c,d,h,u;for(l=0;l<s;l++)if(h=e[l],h!=null&&!Ie(h))o=So(n,a,r,o,h);else if(Ie(h))for(c=0,d=h.length;c<d;c++)u=h[c],u!=null&&!Ie(u)&&(o=So(n,a,r,o,u));n.restore();let p=r.length/2;if(p>e.length){for(l=0;l<p;l++)delete a[r[l]];r.splice(0,p)}return o}function In(n,i,e){let t=n.currentDevicePixelRatio,a=e!==0?Math.max(e/2,.5):0;return Math.round((i-a)*t)/t+a}function xu(n,i){!i&&!n||(i=i||n.getContext("2d"),i.save(),i.resetTransform(),i.clearRect(0,0,n.width,n.height),i.restore())}function rc(n,i,e,t){wu(n,i,e,t,null)}function wu(n,i,e,t,a){let r,o,s,l,c,d,h,u,p=i.pointStyle,f=i.rotation,_=i.radius,y=(f||0)*TM;if(p&&typeof p=="object"&&(r=p.toString(),r==="[object HTMLImageElement]"||r==="[object HTMLCanvasElement]")){n.save(),n.translate(e,t),n.rotate(y),n.drawImage(p,-p.width/2,-p.height/2,p.width,p.height),n.restore();return}if(!(isNaN(_)||_<=0)){switch(n.beginPath(),p){default:a?n.ellipse(e,t,a/2,_,0,0,Fe):n.arc(e,t,_,0,Fe),n.closePath();break;case"triangle":d=a?a/2:_,n.moveTo(e+Math.sin(y)*d,t-Math.cos(y)*_),y+=W_,n.lineTo(e+Math.sin(y)*d,t-Math.cos(y)*_),y+=W_,n.lineTo(e+Math.sin(y)*d,t-Math.cos(y)*_),n.closePath();break;case"rectRounded":c=_*.516,l=_-c,o=Math.cos(y+ba)*l,h=Math.cos(y+ba)*(a?a/2-c:l),s=Math.sin(y+ba)*l,u=Math.sin(y+ba)*(a?a/2-c:l),n.arc(e-h,t-s,c,y-ve,y-Ge),n.arc(e+u,t-o,c,y-Ge,y),n.arc(e+h,t+s,c,y,y+Ge),n.arc(e-u,t+o,c,y+Ge,y+ve),n.closePath();break;case"rect":if(!f){l=Math.SQRT1_2*_,d=a?a/2:l,n.rect(e-d,t-l,2*d,2*l);break}y+=ba;case"rectRot":h=Math.cos(y)*(a?a/2:_),o=Math.cos(y)*_,s=Math.sin(y)*_,u=Math.sin(y)*(a?a/2:_),n.moveTo(e-h,t-s),n.lineTo(e+u,t-o),n.lineTo(e+h,t+s),n.lineTo(e-u,t+o),n.closePath();break;case"crossRot":y+=ba;case"cross":h=Math.cos(y)*(a?a/2:_),o=Math.cos(y)*_,s=Math.sin(y)*_,u=Math.sin(y)*(a?a/2:_),n.moveTo(e-h,t-s),n.lineTo(e+h,t+s),n.moveTo(e+u,t-o),n.lineTo(e-u,t+o);break;case"star":h=Math.cos(y)*(a?a/2:_),o=Math.cos(y)*_,s=Math.sin(y)*_,u=Math.sin(y)*(a?a/2:_),n.moveTo(e-h,t-s),n.lineTo(e+h,t+s),n.moveTo(e+u,t-o),n.lineTo(e-u,t+o),y+=ba,h=Math.cos(y)*(a?a/2:_),o=Math.cos(y)*_,s=Math.sin(y)*_,u=Math.sin(y)*(a?a/2:_),n.moveTo(e-h,t-s),n.lineTo(e+h,t+s),n.moveTo(e+u,t-o),n.lineTo(e-u,t+o);break;case"line":o=a?a/2:Math.cos(y)*_,s=Math.sin(y)*_,n.moveTo(e-o,t-s),n.lineTo(e+o,t+s);break;case"dash":n.moveTo(e,t),n.lineTo(e+Math.cos(y)*(a?a/2:_),t+Math.sin(y)*_);break;case!1:n.closePath();break}n.fill(),i.borderWidth>0&&n.stroke()}}function Li(n,i,e){return e=e||.5,!i||n&&n.x>i.left-e&&n.x<i.right+e&&n.y>i.top-e&&n.y<i.bottom+e}function ko(n,i){n.save(),n.beginPath(),n.rect(i.left,i.top,i.right-i.left,i.bottom-i.top),n.clip()}function Po(n){n.restore()}function mb(n,i,e,t,a){if(!i)return n.lineTo(e.x,e.y);if(a==="middle"){let r=(i.x+e.x)/2;n.lineTo(r,i.y),n.lineTo(r,e.y)}else a==="after"!=!!t?n.lineTo(i.x,e.y):n.lineTo(e.x,i.y);n.lineTo(e.x,e.y)}function fb(n,i,e,t){if(!i)return n.lineTo(e.x,e.y);n.bezierCurveTo(t?i.cp1x:i.cp2x,t?i.cp1y:i.cp2y,t?e.cp2x:e.cp1x,t?e.cp2y:e.cp1y,e.x,e.y)}function UM(n,i){i.translation&&n.translate(i.translation[0],i.translation[1]),me(i.rotation)||n.rotate(i.rotation),i.color&&(n.fillStyle=i.color),i.textAlign&&(n.textAlign=i.textAlign),i.textBaseline&&(n.textBaseline=i.textBaseline)}function WM(n,i,e,t,a){if(a.strikethrough||a.underline){let r=n.measureText(t),o=i-r.actualBoundingBoxLeft,s=i+r.actualBoundingBoxRight,l=e-r.actualBoundingBoxAscent,c=e+r.actualBoundingBoxDescent,d=a.strikethrough?(l+c)/2:c;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=a.decorationWidth||2,n.moveTo(o,d),n.lineTo(s,d),n.stroke()}}function $M(n,i){let e=n.fillStyle;n.fillStyle=i.color,n.fillRect(i.left,i.top,i.width,i.height),n.fillStyle=e}function Fn(n,i,e,t,a,r={}){let o=Ie(i)?i:[i],s=r.strokeWidth>0&&r.strokeColor!=="",l,c;for(n.save(),n.font=a.string,UM(n,r),l=0;l<o.length;++l)c=o[l],r.backdrop&&$M(n,r.backdrop),s&&(r.strokeColor&&(n.strokeStyle=r.strokeColor),me(r.strokeWidth)||(n.lineWidth=r.strokeWidth),n.strokeText(c,e,t,r.maxWidth)),n.fillText(c,e,t,r.maxWidth),WM(n,e,t,c,r),t+=Number(a.lineHeight);n.restore()}function fr(n,i){let{x:e,y:t,w:a,h:r,radius:o}=i;n.arc(e+o.topLeft,t+o.topLeft,o.topLeft,1.5*ve,ve,!0),n.lineTo(e,t+r-o.bottomLeft),n.arc(e+o.bottomLeft,t+r-o.bottomLeft,o.bottomLeft,ve,Ge,!0),n.lineTo(e+a-o.bottomRight,t+r),n.arc(e+a-o.bottomRight,t+r-o.bottomRight,o.bottomRight,Ge,0,!0),n.lineTo(e+a,t+o.topRight),n.arc(e+a-o.topRight,t+o.topRight,o.topRight,0,-Ge,!0),n.lineTo(e+o.topLeft,t)}var YM=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,qM=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function GM(n,i){let e=(""+n).match(YM);if(!e||e[1]==="normal")return i*1.2;switch(n=+e[2],e[3]){case"px":return n;case"%":n/=100;break}return i*n}var KM=n=>+n||0;function oc(n,i){let e={},t=fe(i),a=t?Object.keys(i):i,r=fe(n)?t?o=>re(n[o],n[i[o]]):o=>n[o]:()=>n;for(let o of a)e[o]=KM(r(o));return e}function Mu(n){return oc(n,{top:"y",right:"x",bottom:"y",left:"x"})}function Nn(n){return oc(n,["topLeft","topRight","bottomLeft","bottomRight"])}function mt(n){let i=Mu(n);return i.width=i.left+i.right,i.height=i.top+i.bottom,i}function tt(n,i){n=n||{},i=i||Te.font;let e=re(n.size,i.size);typeof e=="string"&&(e=parseInt(e,10));let t=re(n.style,i.style);t&&!(""+t).match(qM)&&(console.warn('Invalid font style specified: "'+t+'"'),t=void 0);let a={family:re(n.family,i.family),lineHeight:GM(re(n.lineHeight,i.lineHeight),e),size:e,style:t,weight:re(n.weight,i.weight),string:""};return a.string=HM(a),a}function gr(n,i,e,t){let a=!0,r,o,s;for(r=0,o=n.length;r<o;++r)if(s=n[r],s!==void 0&&(i!==void 0&&typeof s=="function"&&(s=s(i),a=!1),e!==void 0&&Ie(s)&&(s=s[e%s.length],a=!1),s!==void 0))return t&&!a&&(t.cacheable=!1),s}function gb(n,i,e){let{min:t,max:a}=n,r=lu(i,(a-t)/2),o=(s,l)=>e&&s===0?0:s+l;return{min:o(t,-Math.abs(r)),max:o(a,r)}}function sn(n,i){return Object.assign(Object.create(n),i)}function sc(n,i=[""],e,t,a=()=>n[0]){let r=e||n;typeof t>"u"&&(t=yb("_fallback",n));let o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:r,_fallback:t,_getTarget:a,override:s=>sc([s,...n],i,r,t)};return new Proxy(o,{deleteProperty(s,l){return delete s[l],delete s._keys,delete n[0][l],!0},get(s,l){return _b(s,l,()=>nS(l,i,n,s))},getOwnPropertyDescriptor(s,l){return Reflect.getOwnPropertyDescriptor(s._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(s,l){return K_(s).includes(l)},ownKeys(s){return K_(s)},set(s,l,c){let d=s._storage||(s._storage=a());return s[l]=d[l]=c,delete s._keys,!0}})}function va(n,i,e,t){let a={_cacheable:!1,_proxy:n,_context:i,_subProxy:e,_stack:new Set,_descriptors:Su(n,t),setContext:r=>va(n,r,e,t),override:r=>va(n.override(r),i,e,t)};return new Proxy(a,{deleteProperty(r,o){return delete r[o],delete n[o],!0},get(r,o,s){return _b(r,o,()=>XM(r,o,s))},getOwnPropertyDescriptor(r,o){return r._descriptors.allKeys?Reflect.has(n,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,o)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(r,o){return Reflect.has(n,o)},ownKeys(){return Reflect.ownKeys(n)},set(r,o,s){return n[o]=s,delete r[o],!0}})}function Su(n,i={scriptable:!0,indexable:!0}){let{_scriptable:e=i.scriptable,_indexable:t=i.indexable,_allKeys:a=i.allKeys}=n;return{allKeys:a,scriptable:e,indexable:t,isScriptable:an(e)?e:()=>e,isIndexable:an(t)?t:()=>t}}var QM=(n,i)=>n?n+ec(i):i,Du=(n,i)=>fe(i)&&n!=="adapters"&&(Object.getPrototypeOf(i)===null||i.constructor===Object);function _b(n,i,e){if(Object.prototype.hasOwnProperty.call(n,i)||i==="constructor")return n[i];let t=e();return n[i]=t,t}function XM(n,i,e){let{_proxy:t,_context:a,_subProxy:r,_descriptors:o}=n,s=t[i];return an(s)&&o.isScriptable(i)&&(s=ZM(i,s,n,e)),Ie(s)&&s.length&&(s=JM(i,s,n,o.isIndexable)),Du(i,s)&&(s=va(s,a,r&&r[i],o)),s}function ZM(n,i,e,t){let{_proxy:a,_context:r,_subProxy:o,_stack:s}=e;if(s.has(n))throw new Error("Recursion detected: "+Array.from(s).join("->")+"->"+n);s.add(n);let l=i(r,o||t);return s.delete(n),Du(n,l)&&(l=Eu(a._scopes,a,n,l)),l}function JM(n,i,e,t){let{_proxy:a,_context:r,_subProxy:o,_descriptors:s}=e;if(typeof r.index<"u"&&t(n))return i[r.index%i.length];if(fe(i[0])){let l=i,c=a._scopes.filter(d=>d!==l);i=[];for(let d of l){let h=Eu(c,a,n,d);i.push(va(h,r,o&&o[n],s))}}return i}function bb(n,i,e){return an(n)?n(i,e):n}var eS=(n,i)=>n===!0?i:typeof n=="string"?on(i,n):void 0;function tS(n,i,e,t,a){for(let r of i){let o=eS(e,r);if(o){n.add(o);let s=bb(o._fallback,e,a);if(typeof s<"u"&&s!==e&&s!==t)return s}else if(o===!1&&typeof t<"u"&&e!==t)return null}return!1}function Eu(n,i,e,t){let a=i._rootScopes,r=bb(i._fallback,e,t),o=[...n,...a],s=new Set;s.add(t);let l=G_(s,o,e,r||e,t);return l===null||typeof r<"u"&&r!==e&&(l=G_(s,o,r,l,t),l===null)?!1:sc(Array.from(s),[""],a,r,()=>iS(i,e,t))}function G_(n,i,e,t,a){for(;e;)e=tS(n,i,e,t,a);return e}function iS(n,i,e){let t=n._getTarget();i in t||(t[i]={});let a=t[i];return Ie(a)&&fe(e)?e:a||{}}function nS(n,i,e,t){let a;for(let r of i)if(a=yb(QM(r,n),e),typeof a<"u")return Du(n,a)?Eu(e,t,n,a):a}function yb(n,i){for(let e of i){if(!e)continue;let t=e[n];if(typeof t<"u")return t}}function K_(n){let i=n._keys;return i||(i=n._keys=aS(n._scopes)),i}function aS(n){let i=new Set;for(let e of n)for(let t of Object.keys(e).filter(a=>!a.startsWith("_")))i.add(t);return Array.from(i)}function ku(n,i,e,t){let{iScale:a}=n,{key:r="r"}=this._parsing,o=new Array(t),s,l,c,d;for(s=0,l=t;s<l;++s)c=s+e,d=i[c],o[s]={r:a.parse(on(d,r),c)};return o}var rS=Number.EPSILON||1e-14,cr=(n,i)=>i<n.length&&!n[i].skip&&n[i],vb=n=>n==="x"?"y":"x";function oS(n,i,e,t){let a=n.skip?i:n,r=i,o=e.skip?i:e,s=Zl(r,a),l=Zl(o,r),c=s/(s+l),d=l/(s+l);c=isNaN(c)?0:c,d=isNaN(d)?0:d;let h=t*c,u=t*d;return{previous:{x:r.x-h*(o.x-a.x),y:r.y-h*(o.y-a.y)},next:{x:r.x+u*(o.x-a.x),y:r.y+u*(o.y-a.y)}}}function sS(n,i,e){let t=n.length,a,r,o,s,l,c=cr(n,0);for(let d=0;d<t-1;++d)if(l=c,c=cr(n,d+1),!(!l||!c)){if(ur(i[d],0,rS)){e[d]=e[d+1]=0;continue}a=e[d]/i[d],r=e[d+1]/i[d],s=Math.pow(a,2)+Math.pow(r,2),!(s<=9)&&(o=3/Math.sqrt(s),e[d]=a*o*i[d],e[d+1]=r*o*i[d])}}function lS(n,i,e="x"){let t=vb(e),a=n.length,r,o,s,l=cr(n,0);for(let c=0;c<a;++c){if(o=s,s=l,l=cr(n,c+1),!s)continue;let d=s[e],h=s[t];o&&(r=(d-o[e])/3,s[`cp1${e}`]=d-r,s[`cp1${t}`]=h-r*i[c]),l&&(r=(l[e]-d)/3,s[`cp2${e}`]=d+r,s[`cp2${t}`]=h+r*i[c])}}function cS(n,i="x"){let e=vb(i),t=n.length,a=Array(t).fill(0),r=Array(t),o,s,l,c=cr(n,0);for(o=0;o<t;++o)if(s=l,l=c,c=cr(n,o+1),!!l){if(c){let d=c[i]-l[i];a[o]=d!==0?(c[e]-l[e])/d:0}r[o]=s?c?Mi(a[o-1])!==Mi(a[o])?0:(a[o-1]+a[o])/2:a[o-1]:a[o]}sS(n,a,r),lS(n,r,i)}function Gl(n,i,e){return Math.max(Math.min(n,e),i)}function dS(n,i){let e,t,a,r,o,s=Li(n[0],i);for(e=0,t=n.length;e<t;++e)o=r,r=s,s=e<t-1&&Li(n[e+1],i),r&&(a=n[e],o&&(a.cp1x=Gl(a.cp1x,i.left,i.right),a.cp1y=Gl(a.cp1y,i.top,i.bottom)),s&&(a.cp2x=Gl(a.cp2x,i.left,i.right),a.cp2y=Gl(a.cp2y,i.top,i.bottom)))}function Cb(n,i,e,t,a){let r,o,s,l;if(i.spanGaps&&(n=n.filter(c=>!c.skip)),i.cubicInterpolationMode==="monotone")cS(n,a);else{let c=t?n[n.length-1]:n[0];for(r=0,o=n.length;r<o;++r)s=n[r],l=oS(c,s,n[Math.min(r+1,o-(t?0:1))%o],i.tension),s.cp1x=l.previous.x,s.cp1y=l.previous.y,s.cp2x=l.next.x,s.cp2y=l.next.y,c=s}i.capBezierPoints&&dS(n,e)}function lc(){return typeof window<"u"&&typeof document<"u"}function cc(n){let i=n.parentNode;return i&&i.toString()==="[object ShadowRoot]"&&(i=i.host),i}function Jl(n,i,e){let t;return typeof n=="string"?(t=parseInt(n,10),n.indexOf("%")!==-1&&(t=t/100*i.parentNode[e])):t=n,t}var dc=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function hS(n,i){return dc(n).getPropertyValue(i)}var uS=["top","right","bottom","left"];function ya(n,i,e){let t={};e=e?"-"+e:"";for(let a=0;a<4;a++){let r=uS[a];t[r]=parseFloat(n[i+"-"+r+e])||0}return t.width=t.left+t.right,t.height=t.top+t.bottom,t}var pS=(n,i,e)=>(n>0||i>0)&&(!e||!e.shadowRoot);function mS(n,i){let e=n.touches,t=e&&e.length?e[0]:n,{offsetX:a,offsetY:r}=t,o=!1,s,l;if(pS(a,r,n.target))s=a,l=r;else{let c=i.getBoundingClientRect();s=t.clientX-c.left,l=t.clientY-c.top,o=!0}return{x:s,y:l,box:o}}function Ln(n,i){if("native"in n)return n;let{canvas:e,currentDevicePixelRatio:t}=i,a=dc(e),r=a.boxSizing==="border-box",o=ya(a,"padding"),s=ya(a,"border","width"),{x:l,y:c,box:d}=mS(n,e),h=o.left+(d&&s.left),u=o.top+(d&&s.top),{width:p,height:f}=i;return r&&(p-=o.width+s.width,f-=o.height+s.height),{x:Math.round((l-h)/p*e.width/t),y:Math.round((c-u)/f*e.height/t)}}function fS(n,i,e){let t,a;if(i===void 0||e===void 0){let r=n&&cc(n);if(!r)i=n.clientWidth,e=n.clientHeight;else{let o=r.getBoundingClientRect(),s=dc(r),l=ya(s,"border","width"),c=ya(s,"padding");i=o.width-c.width-l.width,e=o.height-c.height-l.height,t=Jl(s.maxWidth,r,"clientWidth"),a=Jl(s.maxHeight,r,"clientHeight")}}return{width:i,height:e,maxWidth:t||Xl,maxHeight:a||Xl}}var Tn=n=>Math.round(n*10)/10;function xb(n,i,e,t){let a=dc(n),r=ya(a,"margin"),o=Jl(a.maxWidth,n,"clientWidth")||Xl,s=Jl(a.maxHeight,n,"clientHeight")||Xl,l=fS(n,i,e),{width:c,height:d}=l;if(a.boxSizing==="content-box"){let u=ya(a,"border","width"),p=ya(a,"padding");c-=p.width+u.width,d-=p.height+u.height}return c=Math.max(0,c-r.width),d=Math.max(0,t?c/t:d-r.height),c=Tn(Math.min(c,o,l.maxWidth)),d=Tn(Math.min(d,s,l.maxHeight)),c&&!d&&(d=Tn(c/2)),(i!==void 0||e!==void 0)&&t&&l.height&&d>l.height&&(d=l.height,c=Tn(Math.floor(d*t))),{width:c,height:d}}function Pu(n,i,e){let t=i||1,a=Tn(n.height*t),r=Tn(n.width*t);n.height=Tn(n.height),n.width=Tn(n.width);let o=n.canvas;return o.style&&(e||!o.style.height&&!o.style.width)&&(o.style.height=`${n.height}px`,o.style.width=`${n.width}px`),n.currentDevicePixelRatio!==t||o.height!==a||o.width!==r?(n.currentDevicePixelRatio=t,o.height=a,o.width=r,n.ctx.setTransform(t,0,0,t,0,0),!0):!1}var wb=(function(){let n=!1;try{let i={get passive(){return n=!0,!1}};lc()&&(window.addEventListener("test",null,i),window.removeEventListener("test",null,i))}catch{}return n})();function Ou(n,i){let e=hS(n,i),t=e&&e.match(/^(\d+)(\.\d+)?px$/);return t?+t[1]:void 0}function An(n,i,e,t){return{x:n.x+e*(i.x-n.x),y:n.y+e*(i.y-n.y)}}function Mb(n,i,e,t){return{x:n.x+e*(i.x-n.x),y:t==="middle"?e<.5?n.y:i.y:t==="after"?e<1?n.y:i.y:e>0?i.y:n.y}}function Sb(n,i,e,t){let a={x:n.cp2x,y:n.cp2y},r={x:i.cp1x,y:i.cp1y},o=An(n,a,e),s=An(a,r,e),l=An(r,i,e),c=An(o,s,e),d=An(s,l,e);return An(c,d,e)}var gS=function(n,i){return{x(e){return n+n+i-e},setWidth(e){i=e},textAlign(e){return e==="center"?e:e==="right"?"left":"right"},xPlus(e,t){return e-t},leftForLtr(e,t){return e-t}}},_S=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,i){return n+i},leftForLtr(n,i){return n}}};function xa(n,i,e){return n?gS(i,e):_S()}function Au(n,i){let e,t;(i==="ltr"||i==="rtl")&&(e=n.canvas.style,t=[e.getPropertyValue("direction"),e.getPropertyPriority("direction")],e.setProperty("direction",i,"important"),n.prevTextDirection=t)}function Tu(n,i){i!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",i[0],i[1]))}function Db(n){return n==="angle"?{between:pr,compare:IM,normalize:ut}:{between:zi,compare:(i,e)=>i-e,normalize:i=>i}}function Q_({start:n,end:i,count:e,loop:t,style:a}){return{start:n%e,end:i%e,loop:t&&(i-n+1)%e===0,style:a}}function bS(n,i,e){let{property:t,start:a,end:r}=e,{between:o,normalize:s}=Db(t),l=i.length,{start:c,end:d,loop:h}=n,u,p;if(h){for(c+=l,d+=l,u=0,p=l;u<p&&o(s(i[c%l][t]),a,r);++u)c--,d--;c%=l,d%=l}return d<c&&(d+=l),{start:c,end:d,loop:h,style:n.style}}function Ru(n,i,e){if(!e)return[n];let{property:t,start:a,end:r}=e,o=i.length,{compare:s,between:l,normalize:c}=Db(t),{start:d,end:h,loop:u,style:p}=bS(n,i,e),f=[],_=!1,y=null,x,w,S,D=()=>l(a,S,x)&&s(a,S)!==0,M=()=>s(r,x)===0||l(r,S,x),k=()=>_||D(),R=()=>!_||M();for(let P=d,N=d;P<=h;++P)w=i[P%o],!w.skip&&(x=c(w[t]),x!==S&&(_=l(x,a,r),y===null&&k()&&(y=s(x,a)===0?P:N),y!==null&&R()&&(f.push(Q_({start:y,end:P,loop:u,count:o,style:p})),y=null),N=P,S=x));return y!==null&&f.push(Q_({start:y,end:h,loop:u,count:o,style:p})),f}function Iu(n,i){let e=[],t=n.segments;for(let a=0;a<t.length;a++){let r=Ru(t[a],n.points,i);r.length&&e.push(...r)}return e}function yS(n,i,e,t){let a=0,r=i-1;if(e&&!t)for(;a<i&&!n[a].skip;)a++;for(;a<i&&n[a].skip;)a++;for(a%=i,e&&(r+=a);r>a&&n[r%i].skip;)r--;return r%=i,{start:a,end:r}}function vS(n,i,e,t){let a=n.length,r=[],o=i,s=n[i],l;for(l=i+1;l<=e;++l){let c=n[l%a];c.skip||c.stop?s.skip||(t=!1,r.push({start:i%a,end:(l-1)%a,loop:t}),i=o=c.stop?l:null):(o=l,s.skip&&(i=l)),s=c}return o!==null&&r.push({start:i%a,end:o%a,loop:t}),r}function Eb(n,i){let e=n.points,t=n.options.spanGaps,a=e.length;if(!a)return[];let r=!!n._loop,{start:o,end:s}=yS(e,a,r,t);if(t===!0)return X_(n,[{start:o,end:s,loop:r}],e,i);let l=s<o?s+a:s,c=!!n._fullLoop&&o===0&&s===a-1;return X_(n,vS(e,o,l,c),e,i)}function X_(n,i,e,t){return!t||!t.setContext||!e?i:CS(n,i,e,t)}function CS(n,i,e,t){let a=n._chart.getContext(),r=Z_(n.options),{_datasetIndex:o,options:{spanGaps:s}}=n,l=e.length,c=[],d=r,h=i[0].start,u=h;function p(f,_,y,x){let w=s?-1:1;if(f!==_){for(f+=l;e[f%l].skip;)f-=w;for(;e[_%l].skip;)_+=w;f%l!==_%l&&(c.push({start:f%l,end:_%l,loop:y,style:x}),d=x,h=_%l)}}for(let f of i){h=s?h:f.start;let _=e[h%l],y;for(u=h+1;u<=f.end;u++){let x=e[u%l];y=Z_(t.setContext(sn(a,{type:"segment",p0:_,p1:x,p0DataIndex:(u-1)%l,p1DataIndex:u%l,datasetIndex:o}))),xS(y,d)&&p(h,u-1,f.loop,d),_=x,d=y}h<u-1&&p(h,u-1,f.loop,d)}return c}function Z_(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function xS(n,i){if(!i)return!1;let e=[],t=function(a,r){return vu(r)?(e.includes(r)||e.push(r),e.indexOf(r)):r};return JSON.stringify(n,t)!==JSON.stringify(i,t)}function Kl(n,i,e){return n.options.clip?n[e]:i[e]}function wS(n,i){let{xScale:e,yScale:t}=n;return e&&t?{left:Kl(e,i,"left"),right:Kl(e,i,"right"),top:Kl(t,i,"top"),bottom:Kl(t,i,"bottom")}:i}function Fu(n,i){let e=i._clip;if(e.disabled)return!1;let t=wS(i,n.chartArea);return{left:e.left===!1?0:t.left-(e.left===!0?0:e.left),right:e.right===!1?n.width:t.right+(e.right===!0?0:e.right),top:e.top===!1?0:t.top-(e.top===!0?0:e.top),bottom:e.bottom===!1?n.height:t.bottom+(e.bottom===!0?0:e.bottom)}}var qu=class{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(i,e,t,a){let r=e.listeners[a],o=e.duration;r.forEach(s=>s({chart:i,initial:e.initial,numSteps:o,currentStep:Math.min(t-e.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=gu.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(i=Date.now()){let e=0;this._charts.forEach((t,a)=>{if(!t.running||!t.items.length)return;let r=t.items,o=r.length-1,s=!1,l;for(;o>=0;--o)l=r[o],l._active?(l._total>t.duration&&(t.duration=l._total),l.tick(i),s=!0):(r[o]=r[r.length-1],r.pop());s&&(a.draw(),this._notify(a,t,i,"progress")),r.length||(t.running=!1,this._notify(a,t,i,"complete"),t.initial=!1),e+=r.length}),this._lastDate=i,e===0&&(this._running=!1)}_getAnims(i){let e=this._charts,t=e.get(i);return t||(t={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(i,t)),t}listen(i,e,t){this._getAnims(i).listeners[e].push(t)}add(i,e){!e||!e.length||this._getAnims(i).items.push(...e)}has(i){return this._getAnims(i).items.length>0}start(i){let e=this._charts.get(i);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((t,a)=>Math.max(t,a._duration),0),this._refresh())}running(i){if(!this._running)return!1;let e=this._charts.get(i);return!(!e||!e.running||!e.items.length)}stop(i){let e=this._charts.get(i);if(!e||!e.items.length)return;let t=e.items,a=t.length-1;for(;a>=0;--a)t[a].cancel();e.items=[],this._notify(i,e,Date.now(),"complete")}remove(i){return this._charts.delete(i)}},ln=new qu,kb="transparent",MS={boolean(n,i,e){return e>.5?i:n},color(n,i,e){let t=Cu(n||kb),a=t.valid&&Cu(i||kb);return a&&a.valid?a.mix(t,e).hexString():i},number(n,i,e){return n+(i-n)*e}},Gu=class{constructor(i,e,t,a){let r=e[t];a=gr([i.to,a,r,i.from]);let o=gr([i.from,r,a]);this._active=!0,this._fn=i.fn||MS[i.type||typeof o],this._easing=sr[i.easing]||sr.linear,this._start=Math.floor(Date.now()+(i.delay||0)),this._duration=this._total=Math.floor(i.duration),this._loop=!!i.loop,this._target=e,this._prop=t,this._from=o,this._to=a,this._promises=void 0}active(){return this._active}update(i,e,t){if(this._active){this._notify(!1);let a=this._target[this._prop],r=t-this._start,o=this._duration-r;this._start=t,this._duration=Math.floor(Math.max(o,i.duration)),this._total+=r,this._loop=!!i.loop,this._to=gr([i.to,e,a,i.from]),this._from=gr([i.from,a,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(i){let e=i-this._start,t=this._duration,a=this._prop,r=this._from,o=this._loop,s=this._to,l;if(this._active=r!==s&&(o||e<t),!this._active){this._target[a]=s,this._notify(!0);return}if(e<0){this._target[a]=r;return}l=e/t%2,l=o&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[a]=this._fn(r,s,l)}wait(){let i=this._promises||(this._promises=[]);return new Promise((e,t)=>{i.push({res:e,rej:t})})}_notify(i){let e=i?"res":"rej",t=this._promises||[];for(let a=0;a<t.length;a++)t[a][e]()}},yc=class{constructor(i,e){this._chart=i,this._properties=new Map,this.configure(e)}configure(i){if(!fe(i))return;let e=Object.keys(Te.animation),t=this._properties;Object.getOwnPropertyNames(i).forEach(a=>{let r=i[a];if(!fe(r))return;let o={};for(let s of e)o[s]=r[s];(Ie(r.properties)&&r.properties||[a]).forEach(s=>{(s===a||!t.has(s))&&t.set(s,o)})})}_animateOptions(i,e){let t=e.options,a=DS(i,t);if(!a)return[];let r=this._createAnimations(a,t);return t.$shared&&SS(i.options.$animations,t).then(()=>{i.options=t},()=>{}),r}_createAnimations(i,e){let t=this._properties,a=[],r=i.$animations||(i.$animations={}),o=Object.keys(e),s=Date.now(),l;for(l=o.length-1;l>=0;--l){let c=o[l];if(c.charAt(0)==="$")continue;if(c==="options"){a.push(...this._animateOptions(i,e));continue}let d=e[c],h=r[c],u=t.get(c);if(h)if(u&&h.active()){h.update(u,d,s);continue}else h.cancel();if(!u||!u.duration){i[c]=d;continue}r[c]=h=new Gu(u,i,c,d),a.push(h)}return a}update(i,e){if(this._properties.size===0){Object.assign(i,e);return}let t=this._createAnimations(i,e);if(t.length)return ln.add(this._chart,t),!0}};function SS(n,i){let e=[],t=Object.keys(i);for(let a=0;a<t.length;a++){let r=n[t[a]];r&&r.active()&&e.push(r.wait())}return Promise.all(e)}function DS(n,i){if(!i)return;let e=n.options;if(!e){n.options=i;return}return e.$shared&&(n.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e}function Pb(n,i){let e=n&&n.options||{},t=e.reverse,a=e.min===void 0?i:0,r=e.max===void 0?i:0;return{start:t?r:a,end:t?a:r}}function ES(n,i,e){if(e===!1)return!1;let t=Pb(n,e),a=Pb(i,e);return{top:a.end,right:t.end,bottom:a.start,left:t.start}}function kS(n){let i,e,t,a;return fe(n)?(i=n.top,e=n.right,t=n.bottom,a=n.left):i=e=t=a=n,{top:i,right:e,bottom:t,left:a,disabled:n===!1}}function ky(n,i){let e=[],t=n._getSortedDatasetMetas(i),a,r;for(a=0,r=t.length;a<r;++a)e.push(t[a].index);return e}function Ob(n,i,e,t={}){let a=n.keys,r=t.mode==="single",o,s,l,c;if(i===null)return;let d=!1;for(o=0,s=a.length;o<s;++o){if(l=+a[o],l===e){if(d=!0,t.all)continue;break}c=n.values[l],$e(c)&&(r||i===0||Mi(i)===Mi(c))&&(i+=c)}return!d&&!t.all?0:i}function PS(n,i){let{iScale:e,vScale:t}=i,a=e.axis==="x"?"x":"y",r=t.axis==="x"?"x":"y",o=Object.keys(n),s=new Array(o.length),l,c,d;for(l=0,c=o.length;l<c;++l)d=o[l],s[l]={[a]:d,[r]:n[d]};return s}function Nu(n,i){let e=n&&n.options.stacked;return e||e===void 0&&i.stack!==void 0}function OS(n,i,e){return`${n.id}.${i.id}.${e.stack||e.type}`}function AS(n){let{min:i,max:e,minDefined:t,maxDefined:a}=n.getUserBounds();return{min:t?i:Number.NEGATIVE_INFINITY,max:a?e:Number.POSITIVE_INFINITY}}function TS(n,i,e){let t=n[i]||(n[i]={});return t[e]||(t[e]={})}function Ab(n,i,e,t){for(let a of i.getMatchingVisibleMetas(t).reverse()){let r=n[a.index];if(e&&r>0||!e&&r<0)return a.index}return null}function Tb(n,i){let{chart:e,_cachedMeta:t}=n,a=e._stacks||(e._stacks={}),{iScale:r,vScale:o,index:s}=t,l=r.axis,c=o.axis,d=OS(r,o,t),h=i.length,u;for(let p=0;p<h;++p){let f=i[p],{[l]:_,[c]:y}=f,x=f._stacks||(f._stacks={});u=x[c]=TS(a,d,_),u[s]=y,u._top=Ab(u,o,!0,t.type),u._bottom=Ab(u,o,!1,t.type);let w=u._visualValues||(u._visualValues={});w[s]=y}}function Lu(n,i){let e=n.scales;return Object.keys(e).filter(t=>e[t].axis===i).shift()}function RS(n,i){return sn(n,{active:!1,dataset:void 0,datasetIndex:i,index:i,mode:"default",type:"dataset"})}function IS(n,i,e){return sn(n,{active:!1,dataIndex:i,parsed:void 0,raw:void 0,element:e,index:i,mode:"default",type:"data"})}function Oo(n,i){let e=n.controller.index,t=n.vScale&&n.vScale.axis;if(t){i=i||n._parsed;for(let a of i){let r=a._stacks;if(!r||r[t]===void 0||r[t][e]===void 0)return;delete r[t][e],r[t]._visualValues!==void 0&&r[t]._visualValues[e]!==void 0&&delete r[t]._visualValues[e]}}}var Vu=n=>n==="reset"||n==="none",Rb=(n,i)=>i?n:Object.assign({},n),FS=(n,i,e)=>n&&!i.hidden&&i._stacked&&{keys:ky(e,!0),values:null},zn=(()=>{class n{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){let e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Nu(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Oo(this._cachedMeta),this.index=e}linkScales(){let e=this.chart,t=this._cachedMeta,a=this.getDataset(),r=(u,p,f,_)=>u==="x"?p:u==="r"?_:f,o=t.xAxisID=re(a.xAxisID,Lu(e,"x")),s=t.yAxisID=re(a.yAxisID,Lu(e,"y")),l=t.rAxisID=re(a.rAxisID,Lu(e,"r")),c=t.indexAxis,d=t.iAxisID=r(c,o,s,l),h=t.vAxisID=r(c,s,o,l);t.xScale=this.getScaleForId(o),t.yScale=this.getScaleForId(s),t.rScale=this.getScaleForId(l),t.iScale=this.getScaleForId(d),t.vScale=this.getScaleForId(h)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){let t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){let e=this._cachedMeta;this._data&&mu(this._data,this),e._stacked&&Oo(e)}_dataCheck(){let e=this.getDataset(),t=e.data||(e.data=[]),a=this._data;if(fe(t)){let r=this._cachedMeta;this._data=PS(t,r)}else if(a!==t){if(a){mu(a,this);let r=this._cachedMeta;Oo(r),r._parsed=[]}t&&Object.isExtensible(t)&&cb(t,this),this._syncList=[],this._data=t}}addElements(){let e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){let t=this._cachedMeta,a=this.getDataset(),r=!1;this._dataCheck();let o=t._stacked;t._stacked=Nu(t.vScale,t),t.stack!==a.stack&&(r=!0,Oo(t),t.stack=a.stack),this._resyncElements(e),(r||o!==t._stacked)&&(Tb(this,t._parsed),t._stacked=Nu(t.vScale,t))}configure(){let e=this.chart.config,t=e.datasetScopeKeys(this._type),a=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(a,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){let{_cachedMeta:a,_data:r}=this,{iScale:o,_stacked:s}=a,l=o.axis,c=e===0&&t===r.length?!0:a._sorted,d=e>0&&a._parsed[e-1],h,u,p;if(this._parsing===!1)a._parsed=r,a._sorted=!0,p=r;else{Ie(r[e])?p=this.parseArrayData(a,r,e,t):fe(r[e])?p=this.parseObjectData(a,r,e,t):p=this.parsePrimitiveData(a,r,e,t);let f=()=>u[l]===null||d&&u[l]<d[l];for(h=0;h<t;++h)a._parsed[h+e]=u=p[h],c&&(f()&&(c=!1),d=u);a._sorted=c}s&&Tb(this,p)}parsePrimitiveData(e,t,a,r){let{iScale:o,vScale:s}=e,l=o.axis,c=s.axis,d=o.getLabels(),h=o===s,u=new Array(r),p,f,_;for(p=0,f=r;p<f;++p)_=p+a,u[p]={[l]:h||o.parse(d[_],_),[c]:s.parse(t[_],_)};return u}parseArrayData(e,t,a,r){let{xScale:o,yScale:s}=e,l=new Array(r),c,d,h,u;for(c=0,d=r;c<d;++c)h=c+a,u=t[h],l[c]={x:o.parse(u[0],h),y:s.parse(u[1],h)};return l}parseObjectData(e,t,a,r){let{xScale:o,yScale:s}=e,{xAxisKey:l="x",yAxisKey:c="y"}=this._parsing,d=new Array(r),h,u,p,f;for(h=0,u=r;h<u;++h)p=h+a,f=t[p],d[h]={x:o.parse(on(f,l),p),y:s.parse(on(f,c),p)};return d}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,a){let r=this.chart,o=this._cachedMeta,s=t[e.axis],l={keys:ky(r,!0),values:t._stacks[e.axis]._visualValues};return Ob(l,s,o.index,{mode:a})}updateRangeFromParsed(e,t,a,r){let o=a[t.axis],s=o===null?NaN:o,l=r&&a._stacks[t.axis];r&&l&&(r.values=l,s=Ob(r,o,this._cachedMeta.index)),e.min=Math.min(e.min,s),e.max=Math.max(e.max,s)}getMinMax(e,t){let a=this._cachedMeta,r=a._parsed,o=a._sorted&&e===a.iScale,s=r.length,l=this._getOtherScale(e),c=FS(t,a,this.chart),d={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:h,max:u}=AS(l),p,f;function _(){f=r[p];let y=f[l.axis];return!$e(f[e.axis])||h>y||u<y}for(p=0;p<s&&!(!_()&&(this.updateRangeFromParsed(d,e,f,c),o));++p);if(o){for(p=s-1;p>=0;--p)if(!_()){this.updateRangeFromParsed(d,e,f,c);break}}return d}getAllParsedValues(e){let t=this._cachedMeta._parsed,a=[],r,o,s;for(r=0,o=t.length;r<o;++r)s=t[r][e.axis],$e(s)&&a.push(s);return a}getMaxOverflow(){return!1}getLabelAndValue(e){let t=this._cachedMeta,a=t.iScale,r=t.vScale,o=this.getParsed(e);return{label:a?""+a.getLabelForValue(o[a.axis]):"",value:r?""+r.getLabelForValue(o[r.axis]):""}}_update(e){let t=this._cachedMeta;this.update(e||"default"),t._clip=kS(re(this.options.clip,ES(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){let e=this._ctx,t=this.chart,a=this._cachedMeta,r=a.data||[],o=t.chartArea,s=[],l=this._drawStart||0,c=this._drawCount||r.length-l,d=this.options.drawActiveElementsOnTop,h;for(a.dataset&&a.dataset.draw(e,o,l,c),h=l;h<l+c;++h){let u=r[h];u.hidden||(u.active&&d?s.push(u):u.draw(e,o))}for(h=0;h<s.length;++h)s[h].draw(e,o)}getStyle(e,t){let a=t?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(a):this.resolveDataElementOptions(e||0,a)}getContext(e,t,a){let r=this.getDataset(),o;if(e>=0&&e<this._cachedMeta.data.length){let s=this._cachedMeta.data[e];o=s.$context||(s.$context=IS(this.getContext(),e,s)),o.parsed=this.getParsed(e),o.raw=r.data[e],o.index=o.dataIndex=e}else o=this.$context||(this.$context=RS(this.chart.getContext(),this.index)),o.dataset=r,o.index=o.datasetIndex=this.index;return o.active=!!t,o.mode=a,o}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e,t="default",a){let r=t==="active",o=this._cachedDataOpts,s=e+"-"+t,l=o[s],c=this.enableOptionSharing&&hr(a);if(l)return Rb(l,c);let d=this.chart.config,h=d.datasetElementScopeKeys(this._type,e),u=r?[`${e}Hover`,"hover",e,""]:[e,""],p=d.getOptionScopes(this.getDataset(),h),f=Object.keys(Te.elements[e]),_=()=>this.getContext(a,r,t),y=d.resolveNamedOptions(p,f,_,u);return y.$shared&&(y.$shared=c,o[s]=Object.freeze(Rb(y,c))),y}_resolveAnimations(e,t,a){let r=this.chart,o=this._cachedDataOpts,s=`animation-${t}`,l=o[s];if(l)return l;let c;if(r.options.animation!==!1){let h=this.chart.config,u=h.datasetAnimationScopeKeys(this._type,t),p=h.getOptionScopes(this.getDataset(),u);c=h.createResolver(p,this.getContext(e,a,t))}let d=new yc(r,c&&c.animations);return c&&c._cacheable&&(o[s]=Object.freeze(d)),d}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||Vu(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){let a=this.resolveDataElementOptions(e,t),r=this._sharedOptions,o=this.getSharedOptions(a),s=this.includeOptions(t,o)||o!==r;return this.updateSharedOptions(o,t,a),{sharedOptions:o,includeOptions:s}}updateElement(e,t,a,r){Vu(r)?Object.assign(e,a):this._resolveAnimations(t,r).update(e,a)}updateSharedOptions(e,t,a){e&&!Vu(t)&&this._resolveAnimations(void 0,t).update(e,a)}_setStyle(e,t,a,r){e.active=r;let o=this.getStyle(t,r);this._resolveAnimations(t,a,r).update(e,{options:!r&&this.getSharedOptions(o)||o})}removeHoverStyle(e,t,a){this._setStyle(e,a,"active",!1)}setHoverStyle(e,t,a){this._setStyle(e,a,"active",!0)}_removeDatasetHoverStyle(){let e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){let e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){let t=this._data,a=this._cachedMeta.data;for(let[l,c,d]of this._syncList)this[l](c,d);this._syncList=[];let r=a.length,o=t.length,s=Math.min(o,r);s&&this.parse(0,s),o>r?this._insertElements(r,o-r,e):o<r&&this._removeElements(o,r-o)}_insertElements(e,t,a=!0){let r=this._cachedMeta,o=r.data,s=e+t,l,c=d=>{for(d.length+=t,l=d.length-1;l>=s;l--)d[l]=d[l-t]};for(c(o),l=e;l<s;++l)o[l]=new this.dataElementType;this._parsing&&c(r._parsed),this.parse(e,t),a&&this.updateElements(o,e,t,"reset")}updateElements(e,t,a,r){}_removeElements(e,t){let a=this._cachedMeta;if(this._parsing){let r=a._parsed.splice(e,t);a._stacked&&Oo(a,r)}a.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{let[t,a,r]=e;this[t](a,r)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){let e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);let a=arguments.length-2;a&&this._sync(["_insertElements",e,a])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}return n})();function NS(n,i){if(!n._cache.$bar){let e=n.getMatchingVisibleMetas(i),t=[];for(let a=0,r=e.length;a<r;a++)t=t.concat(e[a].controller.getAllParsedValues(n));n._cache.$bar=fu(t.sort((a,r)=>a-r))}return n._cache.$bar}function LS(n){let i=n.iScale,e=NS(i,n.type),t=i._length,a,r,o,s,l=()=>{o===32767||o===-32768||(hr(s)&&(t=Math.min(t,Math.abs(o-s)||t)),s=o)};for(a=0,r=e.length;a<r;++a)o=i.getPixelForValue(e[a]),l();for(s=void 0,a=0,r=i.ticks.length;a<r;++a)o=i.getPixelForTick(a),l();return t}function VS(n,i,e,t){let a=e.barThickness,r,o;return me(a)?(r=i.min*e.categoryPercentage,o=e.barPercentage):(r=a*t,o=1),{chunk:r/t,ratio:o,start:i.pixels[n]-r/2}}function zS(n,i,e,t){let a=i.pixels,r=a[n],o=n>0?a[n-1]:null,s=n<a.length-1?a[n+1]:null,l=e.categoryPercentage;o===null&&(o=r-(s===null?i.end-i.start:s-r)),s===null&&(s=r+r-o);let c=r-(r-Math.min(o,s))/2*l;return{chunk:Math.abs(s-o)/2*l/t,ratio:e.barPercentage,start:c}}function BS(n,i,e,t){let a=e.parse(n[0],t),r=e.parse(n[1],t),o=Math.min(a,r),s=Math.max(a,r),l=o,c=s;Math.abs(o)>Math.abs(s)&&(l=s,c=o),i[e.axis]=c,i._custom={barStart:l,barEnd:c,start:a,end:r,min:o,max:s}}function Py(n,i,e,t){return Ie(n)?BS(n,i,e,t):i[e.axis]=e.parse(n,t),i}function Ib(n,i,e,t){let a=n.iScale,r=n.vScale,o=a.getLabels(),s=a===r,l=[],c,d,h,u;for(c=e,d=e+t;c<d;++c)u=i[c],h={},h[a.axis]=s||a.parse(o[c],c),l.push(Py(u,h,r,c));return l}function zu(n){return n&&n.barStart!==void 0&&n.barEnd!==void 0}function jS(n,i,e){return n!==0?Mi(n):(i.isHorizontal()?1:-1)*(i.min>=e?1:-1)}function HS(n){let i,e,t,a,r;return n.horizontal?(i=n.base>n.x,e="left",t="right"):(i=n.base<n.y,e="bottom",t="top"),i?(a="end",r="start"):(a="start",r="end"),{start:e,end:t,reverse:i,top:a,bottom:r}}function US(n,i,e,t){let a=i.borderSkipped,r={};if(!a){n.borderSkipped=r;return}if(a===!0){n.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}let{start:o,end:s,reverse:l,top:c,bottom:d}=HS(n);a==="middle"&&e&&(n.enableBorderRadius=!0,(e._top||0)===t?a=c:(e._bottom||0)===t?a=d:(r[Fb(d,o,s,l)]=!0,a=c)),r[Fb(a,o,s,l)]=!0,n.borderSkipped=r}function Fb(n,i,e,t){return t?(n=WS(n,i,e),n=Nb(n,e,i)):n=Nb(n,i,e),n}function WS(n,i,e){return n===i?e:n===e?i:n}function Nb(n,i,e){return n==="start"?i:n==="end"?e:n}function $S(n,{inflateAmount:i},e){n.inflateAmount=i==="auto"?e===1?.33:0:i}var YS=(()=>{class n extends zn{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(e,t,a,r){return Ib(e,t,a,r)}parseArrayData(e,t,a,r){return Ib(e,t,a,r)}parseObjectData(e,t,a,r){let{iScale:o,vScale:s}=e,{xAxisKey:l="x",yAxisKey:c="y"}=this._parsing,d=o.axis==="x"?l:c,h=s.axis==="x"?l:c,u=[],p,f,_,y;for(p=a,f=a+r;p<f;++p)y=t[p],_={},_[o.axis]=o.parse(on(y,d),p),u.push(Py(on(y,h),_,s,p));return u}updateRangeFromParsed(e,t,a,r){super.updateRangeFromParsed(e,t,a,r);let o=a._custom;o&&t===this._cachedMeta.vScale&&(e.min=Math.min(e.min,o.min),e.max=Math.max(e.max,o.max))}getMaxOverflow(){return 0}getLabelAndValue(e){let t=this._cachedMeta,{iScale:a,vScale:r}=t,o=this.getParsed(e),s=o._custom,l=zu(s)?"["+s.start+", "+s.end+"]":""+r.getLabelForValue(o[r.axis]);return{label:""+a.getLabelForValue(o[a.axis]),value:l}}initialize(){this.enableOptionSharing=!0,super.initialize();let e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){let t=this._cachedMeta;this.updateElements(t.data,0,t.data.length,e)}updateElements(e,t,a,r){let o=r==="reset",{index:s,_cachedMeta:{vScale:l}}=this,c=l.getBasePixel(),d=l.isHorizontal(),h=this._getRuler(),{sharedOptions:u,includeOptions:p}=this._getSharedOptions(t,r);for(let f=t;f<t+a;f++){let _=this.getParsed(f),y=o||me(_[l.axis])?{base:c,head:c}:this._calculateBarValuePixels(f),x=this._calculateBarIndexPixels(f,h),w=(_._stacks||{})[l.axis],S={horizontal:d,base:y.base,enableBorderRadius:!w||zu(_._custom)||s===w._top||s===w._bottom,x:d?y.head:x.center,y:d?x.center:y.head,height:d?x.size:Math.abs(y.size),width:d?Math.abs(y.size):x.size};p&&(S.options=u||this.resolveDataElementOptions(f,e[f].active?"active":r));let D=S.options||e[f].options;US(S,D,w,s),$S(S,D,h.ratio),this.updateElement(e[f],f,S,r)}}_getStacks(e,t){let{iScale:a}=this._cachedMeta,r=a.getMatchingVisibleMetas(this._type).filter(h=>h.controller.options.grouped),o=a.options.stacked,s=[],l=this._cachedMeta.controller.getParsed(t),c=l&&l[a.axis],d=h=>{let u=h._parsed.find(f=>f[a.axis]===c),p=u&&u[h.vScale.axis];if(me(p)||isNaN(p))return!0};for(let h of r)if(!(t!==void 0&&d(h))&&((o===!1||s.indexOf(h.stack)===-1||o===void 0&&h.stack===void 0)&&s.push(h.stack),h.index===e))break;return s.length||s.push(void 0),s}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){let e=this.chart.scales,t=this.chart.options.indexAxis;return Object.keys(e).filter(a=>e[a].axis===t).shift()}_getAxis(){let e={},t=this.getFirstScaleIdForIndexAxis();for(let a of this.chart.data.datasets)e[re(this.chart.options.indexAxis==="x"?a.xAxisID:a.yAxisID,t)]=!0;return Object.keys(e)}_getStackIndex(e,t,a){let r=this._getStacks(e,a),o=t!==void 0?r.indexOf(t):-1;return o===-1?r.length-1:o}_getRuler(){let e=this.options,t=this._cachedMeta,a=t.iScale,r=[],o,s;for(o=0,s=t.data.length;o<s;++o)r.push(a.getPixelForValue(this.getParsed(o)[a.axis],o));let l=e.barThickness;return{min:l||LS(t),pixels:r,start:a._startPixel,end:a._endPixel,stackCount:this._getStackCount(),scale:a,grouped:e.grouped,ratio:l?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){let{_cachedMeta:{vScale:t,_stacked:a,index:r},options:{base:o,minBarLength:s}}=this,l=o||0,c=this.getParsed(e),d=c._custom,h=zu(d),u=c[t.axis],p=0,f=a?this.applyStack(t,c,a):u,_,y;f!==u&&(p=f-u,f=u),h&&(u=d.barStart,f=d.barEnd-d.barStart,u!==0&&Mi(u)!==Mi(d.barEnd)&&(p=0),p+=u);let x=!me(o)&&!h?o:p,w=t.getPixelForValue(x);if(this.chart.getDataVisibility(e)?_=t.getPixelForValue(p+f):_=w,y=_-w,Math.abs(y)<s){y=jS(y,t,l)*s,u===l&&(w-=y/2);let S=t.getPixelForDecimal(0),D=t.getPixelForDecimal(1),M=Math.min(S,D),k=Math.max(S,D);w=Math.max(Math.min(w,k),M),_=w+y,a&&!h&&(c._stacks[t.axis]._visualValues[r]=t.getValueForPixel(_)-t.getValueForPixel(w))}if(w===t.getPixelForValue(l)){let S=Mi(y)*t.getLineWidthForValue(l)/2;w+=S,y-=S}return{size:y,base:w,head:_,center:_+y/2}}_calculateBarIndexPixels(e,t){let a=t.scale,r=this.options,o=r.skipNull,s=re(r.maxBarThickness,1/0),l,c,d=this._getAxisCount();if(t.grouped){let h=o?this._getStackCount(e):t.stackCount,u=r.barThickness==="flex"?zS(e,t,r,h*d):VS(e,t,r,h*d),p=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,f=this._getAxis().indexOf(re(p,this.getFirstScaleIdForIndexAxis())),_=this._getStackIndex(this.index,this._cachedMeta.stack,o?e:void 0)+f;l=u.start+u.chunk*_+u.chunk/2,c=Math.min(s,u.chunk*u.ratio)}else l=a.getPixelForValue(this.getParsed(e)[a.axis],e),c=Math.min(s,t.min*t.ratio);return{base:l-c/2,head:l+c/2,center:l,size:c}}draw(){let e=this._cachedMeta,t=e.vScale,a=e.data,r=a.length,o=0;for(;o<r;++o)this.getParsed(o)[t.axis]!==null&&!a[o].hidden&&a[o].draw(this._ctx)}}return n})(),qS=(()=>{class n extends zn{static id="bubble";static defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};static overrides={scales:{x:{type:"linear"},y:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,t,a,r){let o=super.parsePrimitiveData(e,t,a,r);for(let s=0;s<o.length;s++)o[s]._custom=this.resolveDataElementOptions(s+a).radius;return o}parseArrayData(e,t,a,r){let o=super.parseArrayData(e,t,a,r);for(let s=0;s<o.length;s++){let l=t[a+s];o[s]._custom=re(l[2],this.resolveDataElementOptions(s+a).radius)}return o}parseObjectData(e,t,a,r){let o=super.parseObjectData(e,t,a,r);for(let s=0;s<o.length;s++){let l=t[a+s];o[s]._custom=re(l&&l.r&&+l.r,this.resolveDataElementOptions(s+a).radius)}return o}getMaxOverflow(){let e=this._cachedMeta.data,t=0;for(let a=e.length-1;a>=0;--a)t=Math.max(t,e[a].size(this.resolveDataElementOptions(a))/2);return t>0&&t}getLabelAndValue(e){let t=this._cachedMeta,a=this.chart.data.labels||[],{xScale:r,yScale:o}=t,s=this.getParsed(e),l=r.getLabelForValue(s.x),c=o.getLabelForValue(s.y),d=s._custom;return{label:a[e]||"",value:"("+l+", "+c+(d?", "+d:"")+")"}}update(e){let t=this._cachedMeta.data;this.updateElements(t,0,t.length,e)}updateElements(e,t,a,r){let o=r==="reset",{iScale:s,vScale:l}=this._cachedMeta,{sharedOptions:c,includeOptions:d}=this._getSharedOptions(t,r),h=s.axis,u=l.axis;for(let p=t;p<t+a;p++){let f=e[p],_=!o&&this.getParsed(p),y={},x=y[h]=o?s.getPixelForDecimal(.5):s.getPixelForValue(_[h]),w=y[u]=o?l.getBasePixel():l.getPixelForValue(_[u]);y.skip=isNaN(x)||isNaN(w),d&&(y.options=c||this.resolveDataElementOptions(p,f.active?"active":r),o&&(y.options.radius=0)),this.updateElement(f,p,y,r)}}resolveDataElementOptions(e,t){let a=this.getParsed(e),r=super.resolveDataElementOptions(e,t);r.$shared&&(r=Object.assign({},r,{$shared:!1}));let o=r.radius;return t!=="active"&&(r.radius=0),r.radius+=re(a&&a._custom,o),r}}return n})();function GS(n,i,e){let t=1,a=1,r=0,o=0;if(i<Fe){let s=n,l=s+i,c=Math.cos(s),d=Math.sin(s),h=Math.cos(l),u=Math.sin(l),p=(S,D,M)=>pr(S,s,l,!0)?1:Math.max(D,D*e,M,M*e),f=(S,D,M)=>pr(S,s,l,!0)?-1:Math.min(D,D*e,M,M*e),_=p(0,c,h),y=p(Ge,d,u),x=f(ve,c,h),w=f(ve+Ge,d,u);t=(_-x)/2,a=(y-w)/2,r=-(_+x)/2,o=-(y+w)/2}return{ratioX:t,ratioY:a,offsetX:r,offsetY:o}}var mp=(()=>{class n extends zn{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){let t=e.data,{labels:{pointStyle:a,textAlign:r,color:o,useBorderRadius:s,borderRadius:l}}=e.legend.options;return t.labels.length&&t.datasets.length?t.labels.map((c,d)=>{let u=e.getDatasetMeta(0).controller.getStyle(d);return{text:c,fillStyle:u.backgroundColor,fontColor:o,hidden:!e.getDataVisibility(d),lineDash:u.borderDash,lineDashOffset:u.borderDashOffset,lineJoin:u.borderJoinStyle,lineWidth:u.borderWidth,strokeStyle:u.borderColor,textAlign:r,pointStyle:a,borderRadius:s&&(l||u.borderRadius),index:d}}):[]}},onClick(e,t,a){a.chart.toggleDataVisibility(t.index),a.chart.update()}}}};constructor(e,t){super(e,t),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,t){let a=this.getDataset().data,r=this._cachedMeta;if(this._parsing===!1)r._parsed=a;else{let o=c=>+a[c];if(fe(a[e])){let{key:c="value"}=this._parsing;o=d=>+on(a[d],c)}let s,l;for(s=e,l=e+t;s<l;++s)r._parsed[s]=o(s)}}_getRotation(){return pi(this.options.rotation-90)}_getCircumference(){return pi(this.options.circumference)}_getRotationExtents(){let e=Fe,t=-Fe;for(let a=0;a<this.chart.data.datasets.length;++a)if(this.chart.isDatasetVisible(a)&&this.chart.getDatasetMeta(a).type===this._type){let r=this.chart.getDatasetMeta(a).controller,o=r._getRotation(),s=r._getCircumference();e=Math.min(e,o),t=Math.max(t,o+s)}return{rotation:e,circumference:t-e}}update(e){let t=this.chart,{chartArea:a}=t,r=this._cachedMeta,o=r.data,s=this.getMaxBorderWidth()+this.getMaxOffset(o)+this.options.spacing,l=Math.max((Math.min(a.width,a.height)-s)/2,0),c=Math.min(eb(this.options.cutout,l),1),d=this._getRingWeight(this.index),{circumference:h,rotation:u}=this._getRotationExtents(),{ratioX:p,ratioY:f,offsetX:_,offsetY:y}=GS(u,h,c),x=(a.width-s)/p,w=(a.height-s)/f,S=Math.max(Math.min(x,w)/2,0),D=lu(this.options.radius,S),M=Math.max(D*c,0),k=(D-M)/this._getVisibleDatasetWeightTotal();this.offsetX=_*D,this.offsetY=y*D,r.total=this.calculateTotal(),this.outerRadius=D-k*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-k*d,0),this.updateElements(o,0,o.length,e)}_circumference(e,t){let a=this.options,r=this._cachedMeta,o=this._getCircumference();return t&&a.animation.animateRotate||!this.chart.getDataVisibility(e)||r._parsed[e]===null||r.data[e].hidden?0:this.calculateCircumference(r._parsed[e]*o/Fe)}updateElements(e,t,a,r){let o=r==="reset",s=this.chart,l=s.chartArea,d=s.options.animation,h=(l.left+l.right)/2,u=(l.top+l.bottom)/2,p=o&&d.animateScale,f=p?0:this.innerRadius,_=p?0:this.outerRadius,{sharedOptions:y,includeOptions:x}=this._getSharedOptions(t,r),w=this._getRotation(),S;for(S=0;S<t;++S)w+=this._circumference(S,o);for(S=t;S<t+a;++S){let D=this._circumference(S,o),M=e[S],k={x:h+this.offsetX,y:u+this.offsetY,startAngle:w,endAngle:w+D,circumference:D,outerRadius:_,innerRadius:f};x&&(k.options=y||this.resolveDataElementOptions(S,M.active?"active":r)),w+=D,this.updateElement(M,S,k,r)}}calculateTotal(){let e=this._cachedMeta,t=e.data,a=0,r;for(r=0;r<t.length;r++){let o=e._parsed[r];o!==null&&!isNaN(o)&&this.chart.getDataVisibility(r)&&!t[r].hidden&&(a+=Math.abs(o))}return a}calculateCircumference(e){let t=this._cachedMeta.total;return t>0&&!isNaN(e)?Fe*(Math.abs(e)/t):0}getLabelAndValue(e){let t=this._cachedMeta,a=this.chart,r=a.data.labels||[],o=mr(t._parsed[e],a.options.locale);return{label:r[e]||"",value:o}}getMaxBorderWidth(e){let t=0,a=this.chart,r,o,s,l,c;if(!e){for(r=0,o=a.data.datasets.length;r<o;++r)if(a.isDatasetVisible(r)){s=a.getDatasetMeta(r),e=s.data,l=s.controller;break}}if(!e)return 0;for(r=0,o=e.length;r<o;++r)c=l.resolveDataElementOptions(r),c.borderAlign!=="inner"&&(t=Math.max(t,c.borderWidth||0,c.hoverBorderWidth||0));return t}getMaxOffset(e){let t=0;for(let a=0,r=e.length;a<r;++a){let o=this.resolveDataElementOptions(a);t=Math.max(t,o.offset||0,o.hoverOffset||0)}return t}_getRingWeightOffset(e){let t=0;for(let a=0;a<e;++a)this.chart.isDatasetVisible(a)&&(t+=this._getRingWeight(a));return t}_getRingWeight(e){return Math.max(re(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}return n})(),KS=(()=>{class n extends zn{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){let t=this._cachedMeta,{dataset:a,data:r=[],_dataset:o}=t,s=this.chart._animationsDisabled,{start:l,count:c}=bu(t,r,s);this._drawStart=l,this._drawCount=c,yu(t)&&(l=0,c=r.length),a._chart=this.chart,a._datasetIndex=this.index,a._decimated=!!o._decimated,a.points=r;let d=this.resolveDatasetElementOptions(e);this.options.showLine||(d.borderWidth=0),d.segment=this.options.segment,this.updateElement(a,void 0,{animated:!s,options:d},e),this.updateElements(r,l,c,e)}updateElements(e,t,a,r){let o=r==="reset",{iScale:s,vScale:l,_stacked:c,_dataset:d}=this._cachedMeta,{sharedOptions:h,includeOptions:u}=this._getSharedOptions(t,r),p=s.axis,f=l.axis,{spanGaps:_,segment:y}=this.options,x=Ca(_)?_:Number.POSITIVE_INFINITY,w=this.chart._animationsDisabled||o||r==="none",S=t+a,D=e.length,M=t>0&&this.getParsed(t-1);for(let k=0;k<D;++k){let R=e[k],P=w?R:{};if(k<t||k>=S){P.skip=!0;continue}let N=this.getParsed(k),ne=me(N[f]),oe=P[p]=s.getPixelForValue(N[p],k),se=P[f]=o||ne?l.getBasePixel():l.getPixelForValue(c?this.applyStack(l,N,c):N[f],k);P.skip=isNaN(oe)||isNaN(se)||ne,P.stop=k>0&&Math.abs(N[p]-M[p])>x,y&&(P.parsed=N,P.raw=d.data[k]),u&&(P.options=h||this.resolveDataElementOptions(k,R.active?"active":r)),w||this.updateElement(R,k,P,r),M=N}}getMaxOverflow(){let e=this._cachedMeta,t=e.dataset,a=t.options&&t.options.borderWidth||0,r=e.data||[];if(!r.length)return a;let o=r[0].size(this.resolveDataElementOptions(0)),s=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(a,o,s)/2}draw(){let e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}return n})(),Oy=(()=>{class n extends zn{static id="polarArea";static defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){let t=e.data;if(t.labels.length&&t.datasets.length){let{labels:{pointStyle:a,color:r}}=e.legend.options;return t.labels.map((o,s)=>{let c=e.getDatasetMeta(0).controller.getStyle(s);return{text:o,fillStyle:c.backgroundColor,strokeStyle:c.borderColor,fontColor:r,lineWidth:c.borderWidth,pointStyle:a,hidden:!e.getDataVisibility(s),index:s}})}return[]}},onClick(e,t,a){a.chart.toggleDataVisibility(t.index),a.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};constructor(e,t){super(e,t),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){let t=this._cachedMeta,a=this.chart,r=a.data.labels||[],o=mr(t._parsed[e].r,a.options.locale);return{label:r[e]||"",value:o}}parseObjectData(e,t,a,r){return ku.bind(this)(e,t,a,r)}update(e){let t=this._cachedMeta.data;this._updateRadius(),this.updateElements(t,0,t.length,e)}getMinMax(){let e=this._cachedMeta,t={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach((a,r)=>{let o=this.getParsed(r).r;!isNaN(o)&&this.chart.getDataVisibility(r)&&(o<t.min&&(t.min=o),o>t.max&&(t.max=o))}),t}_updateRadius(){let e=this.chart,t=e.chartArea,a=e.options,r=Math.min(t.right-t.left,t.bottom-t.top),o=Math.max(r/2,0),s=Math.max(a.cutoutPercentage?o/100*a.cutoutPercentage:1,0),l=(o-s)/e.getVisibleDatasetCount();this.outerRadius=o-l*this.index,this.innerRadius=this.outerRadius-l}updateElements(e,t,a,r){let o=r==="reset",s=this.chart,c=s.options.animation,d=this._cachedMeta.rScale,h=d.xCenter,u=d.yCenter,p=d.getIndexAngle(0)-.5*ve,f=p,_,y=360/this.countVisibleElements();for(_=0;_<t;++_)f+=this._computeAngle(_,r,y);for(_=t;_<t+a;_++){let x=e[_],w=f,S=f+this._computeAngle(_,r,y),D=s.getDataVisibility(_)?d.getDistanceFromCenterForValue(this.getParsed(_).r):0;f=S,o&&(c.animateScale&&(D=0),c.animateRotate&&(w=S=p));let M={x:h,y:u,innerRadius:0,outerRadius:D,startAngle:w,endAngle:S,options:this.resolveDataElementOptions(_,x.active?"active":r)};this.updateElement(x,_,M,r)}}countVisibleElements(){let e=this._cachedMeta,t=0;return e.data.forEach((a,r)=>{!isNaN(this.getParsed(r).r)&&this.chart.getDataVisibility(r)&&t++}),t}_computeAngle(e,t,a){return this.chart.getDataVisibility(e)?pi(this.resolveDataElementOptions(e,t).angle||a):0}}return n})(),QS=(()=>{class n extends mp{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}return n})(),XS=(()=>{class n extends zn{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(e){let t=this._cachedMeta.vScale,a=this.getParsed(e);return{label:t.getLabels()[e],value:""+t.getLabelForValue(a[t.axis])}}parseObjectData(e,t,a,r){return ku.bind(this)(e,t,a,r)}update(e){let t=this._cachedMeta,a=t.dataset,r=t.data||[],o=t.iScale.getLabels();if(a.points=r,e!=="resize"){let s=this.resolveDatasetElementOptions(e);this.options.showLine||(s.borderWidth=0);let l={_loop:!0,_fullLoop:o.length===r.length,options:s};this.updateElement(a,void 0,l,e)}this.updateElements(r,0,r.length,e)}updateElements(e,t,a,r){let o=this._cachedMeta.rScale,s=r==="reset";for(let l=t;l<t+a;l++){let c=e[l],d=this.resolveDataElementOptions(l,c.active?"active":r),h=o.getPointPositionForValue(l,this.getParsed(l).r),u=s?o.xCenter:h.x,p=s?o.yCenter:h.y,f={x:u,y:p,angle:h.angle,skip:isNaN(u)||isNaN(p),options:d};this.updateElement(c,l,f,r)}}}return n})(),ZS=(()=>{class n extends zn{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(e){let t=this._cachedMeta,a=this.chart.data.labels||[],{xScale:r,yScale:o}=t,s=this.getParsed(e),l=r.getLabelForValue(s.x),c=o.getLabelForValue(s.y);return{label:a[e]||"",value:"("+l+", "+c+")"}}update(e){let t=this._cachedMeta,{data:a=[]}=t,r=this.chart._animationsDisabled,{start:o,count:s}=bu(t,a,r);if(this._drawStart=o,this._drawCount=s,yu(t)&&(o=0,s=a.length),this.options.showLine){this.datasetElementType||this.addElements();let{dataset:l,_dataset:c}=t;l._chart=this.chart,l._datasetIndex=this.index,l._decimated=!!c._decimated,l.points=a;let d=this.resolveDatasetElementOptions(e);d.segment=this.options.segment,this.updateElement(l,void 0,{animated:!r,options:d},e)}else this.datasetElementType&&(delete t.dataset,this.datasetElementType=!1);this.updateElements(a,o,s,e)}addElements(){let{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,t,a,r){let o=r==="reset",{iScale:s,vScale:l,_stacked:c,_dataset:d}=this._cachedMeta,h=this.resolveDataElementOptions(t,r),u=this.getSharedOptions(h),p=this.includeOptions(r,u),f=s.axis,_=l.axis,{spanGaps:y,segment:x}=this.options,w=Ca(y)?y:Number.POSITIVE_INFINITY,S=this.chart._animationsDisabled||o||r==="none",D=t>0&&this.getParsed(t-1);for(let M=t;M<t+a;++M){let k=e[M],R=this.getParsed(M),P=S?k:{},N=me(R[_]),ne=P[f]=s.getPixelForValue(R[f],M),oe=P[_]=o||N?l.getBasePixel():l.getPixelForValue(c?this.applyStack(l,R,c):R[_],M);P.skip=isNaN(ne)||isNaN(oe)||N,P.stop=M>0&&Math.abs(R[f]-D[f])>w,x&&(P.parsed=R,P.raw=d.data[M]),p&&(P.options=u||this.resolveDataElementOptions(M,k.active?"active":r)),S||this.updateElement(k,M,P,r),D=R}this.updateSharedOptions(u,r,h)}getMaxOverflow(){let e=this._cachedMeta,t=e.data||[];if(!this.options.showLine){let l=0;for(let c=t.length-1;c>=0;--c)l=Math.max(l,t[c].size(this.resolveDataElementOptions(c))/2);return l>0&&l}let a=e.dataset,r=a.options&&a.options.borderWidth||0;if(!t.length)return r;let o=t[0].size(this.resolveDataElementOptions(0)),s=t[t.length-1].size(this.resolveDataElementOptions(t.length-1));return Math.max(r,o,s)/2}}return n})(),JS=Object.freeze({__proto__:null,BarController:YS,BubbleController:qS,DoughnutController:mp,LineController:KS,PieController:QS,PolarAreaController:Oy,RadarController:XS,ScatterController:ZS});function wa(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}var Ku=class n{static override(i){Object.assign(n.prototype,i)}options;constructor(i){this.options=i||{}}init(){}formats(){return wa()}parse(){return wa()}format(){return wa()}add(){return wa()}diff(){return wa()}startOf(){return wa()}endOf(){return wa()}},eD={_date:Ku};function tD(n,i,e,t){let{controller:a,data:r,_sorted:o}=n,s=a._cachedMeta.iScale,l=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(s&&i===s.axis&&i!=="r"&&o&&r.length){let c=s._reversePixels?ob:Ni;if(t){if(a._sharedOptions){let d=r[0],h=typeof d.getRange=="function"&&d.getRange(i);if(h){let u=c(r,i,e-h),p=c(r,i,e+h);return{lo:u.lo,hi:p.hi}}}}else{let d=c(r,i,e);if(l){let{vScale:h}=a._cachedMeta,{_parsed:u}=n,p=u.slice(0,d.lo+1).reverse().findIndex(_=>!me(_[h.axis]));d.lo-=Math.max(0,p);let f=u.slice(d.hi).findIndex(_=>!me(_[h.axis]));d.hi+=Math.max(0,f)}return d}}return{lo:0,hi:r.length-1}}function Bo(n,i,e,t,a){let r=n.getSortedVisibleDatasetMetas(),o=e[i];for(let s=0,l=r.length;s<l;++s){let{index:c,data:d}=r[s],{lo:h,hi:u}=tD(r[s],i,o,a);for(let p=h;p<=u;++p){let f=d[p];f.skip||t(f,c,p)}}}function iD(n){let i=n.indexOf("x")!==-1,e=n.indexOf("y")!==-1;return function(t,a){let r=i?Math.abs(t.x-a.x):0,o=e?Math.abs(t.y-a.y):0;return Math.sqrt(Math.pow(r,2)+Math.pow(o,2))}}function Bu(n,i,e,t,a){let r=[];return!a&&!n.isPointInArea(i)||Bo(n,e,i,function(s,l,c){!a&&!Li(s,n.chartArea,0)||s.inRange(i.x,i.y,t)&&r.push({element:s,datasetIndex:l,index:c})},!0),r}function nD(n,i,e,t){let a=[];function r(o,s,l){let{startAngle:c,endAngle:d}=o.getProps(["startAngle","endAngle"],t),{angle:h}=pu(o,{x:i.x,y:i.y});pr(h,c,d)&&a.push({element:o,datasetIndex:s,index:l})}return Bo(n,e,i,r),a}function aD(n,i,e,t,a,r){let o=[],s=iD(e),l=Number.POSITIVE_INFINITY;function c(d,h,u){let p=d.inRange(i.x,i.y,a);if(t&&!p)return;let f=d.getCenterPoint(a);if(!(!!r||n.isPointInArea(f))&&!p)return;let y=s(i,f);y<l?(o=[{element:d,datasetIndex:h,index:u}],l=y):y===l&&o.push({element:d,datasetIndex:h,index:u})}return Bo(n,e,i,c),o}function ju(n,i,e,t,a,r){return!r&&!n.isPointInArea(i)?[]:e==="r"&&!t?nD(n,i,e,a):aD(n,i,e,t,a,r)}function Lb(n,i,e,t,a){let r=[],o=e==="x"?"inXRange":"inYRange",s=!1;return Bo(n,e,i,(l,c,d)=>{l[o]&&l[o](i[e],a)&&(r.push({element:l,datasetIndex:c,index:d}),s=s||l.inRange(i.x,i.y,a))}),t&&!s?[]:r}var rD={evaluateInteractionItems:Bo,modes:{index(n,i,e,t){let a=Ln(i,n),r=e.axis||"x",o=e.includeInvisible||!1,s=e.intersect?Bu(n,a,r,t,o):ju(n,a,r,!1,t,o),l=[];return s.length?(n.getSortedVisibleDatasetMetas().forEach(c=>{let d=s[0].index,h=c.data[d];h&&!h.skip&&l.push({element:h,datasetIndex:c.index,index:d})}),l):[]},dataset(n,i,e,t){let a=Ln(i,n),r=e.axis||"xy",o=e.includeInvisible||!1,s=e.intersect?Bu(n,a,r,t,o):ju(n,a,r,!1,t,o);if(s.length>0){let l=s[0].datasetIndex,c=n.getDatasetMeta(l).data;s=[];for(let d=0;d<c.length;++d)s.push({element:c[d],datasetIndex:l,index:d})}return s},point(n,i,e,t){let a=Ln(i,n),r=e.axis||"xy",o=e.includeInvisible||!1;return Bu(n,a,r,t,o)},nearest(n,i,e,t){let a=Ln(i,n),r=e.axis||"xy",o=e.includeInvisible||!1;return ju(n,a,r,e.intersect,t,o)},x(n,i,e,t){let a=Ln(i,n);return Lb(n,a,"x",e.intersect,t)},y(n,i,e,t){let a=Ln(i,n);return Lb(n,a,"y",e.intersect,t)}}},Ay=["left","top","right","bottom"];function Ao(n,i){return n.filter(e=>e.pos===i)}function Vb(n,i){return n.filter(e=>Ay.indexOf(e.pos)===-1&&e.box.axis===i)}function To(n,i){return n.sort((e,t)=>{let a=i?t:e,r=i?e:t;return a.weight===r.weight?a.index-r.index:a.weight-r.weight})}function oD(n){let i=[],e,t,a,r,o,s;for(e=0,t=(n||[]).length;e<t;++e)a=n[e],{position:r,options:{stack:o,stackWeight:s=1}}=a,i.push({index:e,box:a,pos:r,horizontal:a.isHorizontal(),weight:a.weight,stack:o&&r+o,stackWeight:s});return i}function sD(n){let i={};for(let e of n){let{stack:t,pos:a,stackWeight:r}=e;if(!t||!Ay.includes(a))continue;let o=i[t]||(i[t]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=r}return i}function lD(n,i){let e=sD(n),{vBoxMaxWidth:t,hBoxMaxHeight:a}=i,r,o,s;for(r=0,o=n.length;r<o;++r){s=n[r];let{fullSize:l}=s.box,c=e[s.stack],d=c&&s.stackWeight/c.weight;s.horizontal?(s.width=d?d*t:l&&i.availableWidth,s.height=a):(s.width=t,s.height=d?d*a:l&&i.availableHeight)}return e}function cD(n){let i=oD(n),e=To(i.filter(c=>c.box.fullSize),!0),t=To(Ao(i,"left"),!0),a=To(Ao(i,"right")),r=To(Ao(i,"top"),!0),o=To(Ao(i,"bottom")),s=Vb(i,"x"),l=Vb(i,"y");return{fullSize:e,leftAndTop:t.concat(r),rightAndBottom:a.concat(l).concat(o).concat(s),chartArea:Ao(i,"chartArea"),vertical:t.concat(a).concat(l),horizontal:r.concat(o).concat(s)}}function zb(n,i,e,t){return Math.max(n[e],i[e])+Math.max(n[t],i[t])}function Ty(n,i){n.top=Math.max(n.top,i.top),n.left=Math.max(n.left,i.left),n.bottom=Math.max(n.bottom,i.bottom),n.right=Math.max(n.right,i.right)}function dD(n,i,e,t){let{pos:a,box:r}=e,o=n.maxPadding;if(!fe(a)){e.size&&(n[a]-=e.size);let h=t[e.stack]||{size:0,count:1};h.size=Math.max(h.size,e.horizontal?r.height:r.width),e.size=h.size/h.count,n[a]+=e.size}r.getPadding&&Ty(o,r.getPadding());let s=Math.max(0,i.outerWidth-zb(o,n,"left","right")),l=Math.max(0,i.outerHeight-zb(o,n,"top","bottom")),c=s!==n.w,d=l!==n.h;return n.w=s,n.h=l,e.horizontal?{same:c,other:d}:{same:d,other:c}}function hD(n){let i=n.maxPadding;function e(t){let a=Math.max(i[t]-n[t],0);return n[t]+=a,a}n.y+=e("top"),n.x+=e("left"),e("right"),e("bottom")}function uD(n,i){let e=i.maxPadding;function t(a){let r={left:0,top:0,right:0,bottom:0};return a.forEach(o=>{r[o]=Math.max(i[o],e[o])}),r}return t(n?["left","right"]:["top","bottom"])}function Fo(n,i,e,t){let a=[],r,o,s,l,c,d;for(r=0,o=n.length,c=0;r<o;++r){s=n[r],l=s.box,l.update(s.width||i.w,s.height||i.h,uD(s.horizontal,i));let{same:h,other:u}=dD(i,e,s,t);c|=h&&a.length,d=d||u,l.fullSize||a.push(s)}return c&&Fo(a,i,e,t)||d}function hc(n,i,e,t,a){n.top=e,n.left=i,n.right=i+t,n.bottom=e+a,n.width=t,n.height=a}function Bb(n,i,e,t){let a=e.padding,{x:r,y:o}=i;for(let s of n){let l=s.box,c=t[s.stack]||{count:1,placed:0,weight:1},d=s.stackWeight/c.weight||1;if(s.horizontal){let h=i.w*d,u=c.size||l.height;hr(c.start)&&(o=c.start),l.fullSize?hc(l,a.left,o,e.outerWidth-a.right-a.left,u):hc(l,i.left+c.placed,o,h,u),c.start=o,c.placed+=h,o=l.bottom}else{let h=i.h*d,u=c.size||l.width;hr(c.start)&&(r=c.start),l.fullSize?hc(l,r,a.top,u,e.outerHeight-a.bottom-a.top):hc(l,r,i.top+c.placed,u,h),c.start=r,c.placed+=h,r=l.right}}i.x=r,i.y=o}var wt={addBox(n,i){n.boxes||(n.boxes=[]),i.fullSize=i.fullSize||!1,i.position=i.position||"top",i.weight=i.weight||0,i._layers=i._layers||function(){return[{z:0,draw(e){i.draw(e)}}]},n.boxes.push(i)},removeBox(n,i){let e=n.boxes?n.boxes.indexOf(i):-1;e!==-1&&n.boxes.splice(e,1)},configure(n,i,e){i.fullSize=e.fullSize,i.position=e.position,i.weight=e.weight},update(n,i,e,t){if(!n)return;let a=mt(n.options.layout.padding),r=Math.max(i-a.width,0),o=Math.max(e-a.height,0),s=cD(n.boxes),l=s.vertical,c=s.horizontal;Pe(n.boxes,_=>{typeof _.beforeLayout=="function"&&_.beforeLayout()});let d=l.reduce((_,y)=>y.box.options&&y.box.options.display===!1?_:_+1,0)||1,h=Object.freeze({outerWidth:i,outerHeight:e,padding:a,availableWidth:r,availableHeight:o,vBoxMaxWidth:r/2/d,hBoxMaxHeight:o/2}),u=Object.assign({},a);Ty(u,mt(t));let p=Object.assign({maxPadding:u,w:r,h:o,x:a.left,y:a.top},a),f=lD(l.concat(c),h);Fo(s.fullSize,p,h,f),Fo(l,p,h,f),Fo(c,p,h,f)&&Fo(l,p,h,f),hD(p),Bb(s.leftAndTop,p,h,f),p.x+=p.w,p.y+=p.h,Bb(s.rightAndBottom,p,h,f),n.chartArea={left:p.left,top:p.top,right:p.left+p.w,bottom:p.top+p.h,height:p.h,width:p.w},Pe(s.chartArea,_=>{let y=_.box;Object.assign(y,n.chartArea),y.update(p.w,p.h,{left:0,top:0,right:0,bottom:0})})}},vc=class{acquireContext(i,e){}releaseContext(i){return!1}addEventListener(i,e,t){}removeEventListener(i,e,t){}getDevicePixelRatio(){return 1}getMaximumSize(i,e,t,a){return e=Math.max(0,e||i.width),t=t||i.height,{width:e,height:Math.max(0,a?Math.floor(e/a):t)}}isAttached(i){return!0}updateConfig(i){}},Qu=class extends vc{acquireContext(i){return i&&i.getContext&&i.getContext("2d")||null}updateConfig(i){i.options.animation=!1}},_c="$chartjs",pD={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},jb=n=>n===null||n==="";function mD(n,i){let e=n.style,t=n.getAttribute("height"),a=n.getAttribute("width");if(n[_c]={initial:{height:t,width:a,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",jb(a)){let r=Ou(n,"width");r!==void 0&&(n.width=r)}if(jb(t))if(n.style.height==="")n.height=n.width/(i||2);else{let r=Ou(n,"height");r!==void 0&&(n.height=r)}return n}var Ry=wb?{passive:!0}:!1;function fD(n,i,e){n&&n.addEventListener(i,e,Ry)}function gD(n,i,e){n&&n.canvas&&n.canvas.removeEventListener(i,e,Ry)}function _D(n,i){let e=pD[n.type]||n.type,{x:t,y:a}=Ln(n,i);return{type:e,chart:i,native:n,x:t!==void 0?t:null,y:a!==void 0?a:null}}function Cc(n,i){for(let e of n)if(e===i||e.contains(i))return!0}function bD(n,i,e){let t=n.canvas,a=new MutationObserver(r=>{let o=!1;for(let s of r)o=o||Cc(s.addedNodes,t),o=o&&!Cc(s.removedNodes,t);o&&e()});return a.observe(document,{childList:!0,subtree:!0}),a}function yD(n,i,e){let t=n.canvas,a=new MutationObserver(r=>{let o=!1;for(let s of r)o=o||Cc(s.removedNodes,t),o=o&&!Cc(s.addedNodes,t);o&&e()});return a.observe(document,{childList:!0,subtree:!0}),a}var Lo=new Map,Hb=0;function Iy(){let n=window.devicePixelRatio;n!==Hb&&(Hb=n,Lo.forEach((i,e)=>{e.currentDevicePixelRatio!==n&&i()}))}function vD(n,i){Lo.size||window.addEventListener("resize",Iy),Lo.set(n,i)}function CD(n){Lo.delete(n),Lo.size||window.removeEventListener("resize",Iy)}function xD(n,i,e){let t=n.canvas,a=t&&cc(t);if(!a)return;let r=_u((s,l)=>{let c=a.clientWidth;e(s,l),c<a.clientWidth&&e()},window),o=new ResizeObserver(s=>{let l=s[0],c=l.contentRect.width,d=l.contentRect.height;c===0&&d===0||r(c,d)});return o.observe(a),vD(n,r),o}function Hu(n,i,e){e&&e.disconnect(),i==="resize"&&CD(n)}function wD(n,i,e){let t=n.canvas,a=_u(r=>{n.ctx!==null&&e(_D(r,n))},n);return fD(t,i,a),a}var Xu=class extends vc{acquireContext(i,e){let t=i&&i.getContext&&i.getContext("2d");return t&&t.canvas===i?(mD(i,e),t):null}releaseContext(i){let e=i.canvas;if(!e[_c])return!1;let t=e[_c].initial;["height","width"].forEach(r=>{let o=t[r];me(o)?e.removeAttribute(r):e.setAttribute(r,o)});let a=t.style||{};return Object.keys(a).forEach(r=>{e.style[r]=a[r]}),e.width=e.width,delete e[_c],!0}addEventListener(i,e,t){this.removeEventListener(i,e);let a=i.$proxies||(i.$proxies={}),o={attach:bD,detach:yD,resize:xD}[e]||wD;a[e]=o(i,e,t)}removeEventListener(i,e){let t=i.$proxies||(i.$proxies={}),a=t[e];if(!a)return;({attach:Hu,detach:Hu,resize:Hu}[e]||gD)(i,e,a),t[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(i,e,t,a){return xb(i,e,t,a)}isAttached(i){let e=i&&cc(i);return!!(e&&e.isConnected)}};function MD(n){return!lc()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?Qu:Xu}var Si=class{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(i){let{x:e,y:t}=this.getProps(["x","y"],i);return{x:e,y:t}}hasValue(){return Ca(this.x)&&Ca(this.y)}getProps(i,e){let t=this.$animations;if(!e||!t)return this;let a={};return i.forEach(r=>{a[r]=t[r]&&t[r].active()?t[r]._to:this[r]}),a}};function SD(n,i){let e=n.options.ticks,t=DD(n),a=Math.min(e.maxTicksLimit||t,t),r=e.major.enabled?kD(i):[],o=r.length,s=r[0],l=r[o-1],c=[];if(o>a)return PD(i,c,r,o/a),c;let d=ED(r,i,a);if(o>0){let h,u,p=o>1?Math.round((l-s)/(o-1)):null;for(uc(i,c,d,me(p)?0:s-p,s),h=0,u=o-1;h<u;h++)uc(i,c,d,r[h],r[h+1]);return uc(i,c,d,l,me(p)?i.length:l+p),c}return uc(i,c,d),c}function DD(n){let i=n.options.offset,e=n._tickSize(),t=n._length/e+(i?0:1),a=n._maxLength/e;return Math.floor(Math.min(t,a))}function ED(n,i,e){let t=OD(n),a=i.length/e;if(!t)return Math.max(a,1);let r=nb(t);for(let o=0,s=r.length-1;o<s;o++){let l=r[o];if(l>a)return l}return Math.max(a,1)}function kD(n){let i=[],e,t;for(e=0,t=n.length;e<t;e++)n[e].major&&i.push(e);return i}function PD(n,i,e,t){let a=0,r=e[0],o;for(t=Math.ceil(t),o=0;o<n.length;o++)o===r&&(i.push(n[o]),a++,r=e[a*t])}function uc(n,i,e,t,a){let r=re(t,0),o=Math.min(re(a,n.length),n.length),s=0,l,c,d;for(e=Math.ceil(e),a&&(l=a-t,e=l/Math.floor(l/e)),d=r;d<0;)s++,d=Math.round(r+s*e);for(c=Math.max(r,0);c<o;c++)c===d&&(i.push(n[c]),s++,d=Math.round(r+s*e))}function OD(n){let i=n.length,e,t;if(i<2)return!1;for(t=n[0],e=1;e<i;++e)if(n[e]-n[e-1]!==t)return!1;return t}var AD=n=>n==="left"?"right":n==="right"?"left":n,Ub=(n,i,e)=>i==="top"||i==="left"?n[i]+e:n[i]-e,Wb=(n,i)=>Math.min(i||n,n);function $b(n,i){let e=[],t=n.length/i,a=n.length,r=0;for(;r<a;r+=t)e.push(n[Math.floor(r)]);return e}function TD(n,i,e){let t=n.ticks.length,a=Math.min(i,t-1),r=n._startPixel,o=n._endPixel,s=1e-6,l=n.getPixelForTick(a),c;if(!(e&&(t===1?c=Math.max(l-r,o-l):i===0?c=(n.getPixelForTick(1)-l)/2:c=(l-n.getPixelForTick(a-1))/2,l+=a<i?c:-c,l<r-s||l>o+s)))return l}function RD(n,i){Pe(n,e=>{let t=e.gc,a=t.length/2,r;if(a>i){for(r=0;r<a;++r)delete e.data[t[r]];t.splice(0,a)}})}function Ro(n){return n.drawTicks?n.tickLength:0}function Yb(n,i){if(!n.display)return 0;let e=tt(n.font,i),t=mt(n.padding);return(Ie(n.text)?n.text.length:1)*e.lineHeight+t.height}function ID(n,i){return sn(n,{scale:i,type:"scale"})}function FD(n,i,e){return sn(n,{tick:e,index:i,type:"tick"})}function ND(n,i,e){let t=nc(n);return(e&&i!=="right"||!e&&i==="right")&&(t=AD(t)),t}function LD(n,i,e,t){let{top:a,left:r,bottom:o,right:s,chart:l}=n,{chartArea:c,scales:d}=l,h=0,u,p,f,_=o-a,y=s-r;if(n.isHorizontal()){if(p=pt(t,r,s),fe(e)){let x=Object.keys(e)[0],w=e[x];f=d[x].getPixelForValue(w)+_-i}else e==="center"?f=(c.bottom+c.top)/2+_-i:f=Ub(n,e,i);u=s-r}else{if(fe(e)){let x=Object.keys(e)[0],w=e[x];p=d[x].getPixelForValue(w)-y+i}else e==="center"?p=(c.left+c.right)/2-y+i:p=Ub(n,e,i);f=pt(t,o,a),h=e==="left"?-Ge:Ge}return{titleX:p,titleY:f,maxWidth:u,rotation:h}}var Sa=class n extends Si{constructor(i){super(),this.id=i.id,this.type=i.type,this.options=void 0,this.ctx=i.ctx,this.chart=i.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(i){this.options=i.setContext(this.getContext()),this.axis=i.axis,this._userMin=this.parse(i.min),this._userMax=this.parse(i.max),this._suggestedMin=this.parse(i.suggestedMin),this._suggestedMax=this.parse(i.suggestedMax)}parse(i,e){return i}getUserBounds(){let{_userMin:i,_userMax:e,_suggestedMin:t,_suggestedMax:a}=this;return i=Nt(i,Number.POSITIVE_INFINITY),e=Nt(e,Number.NEGATIVE_INFINITY),t=Nt(t,Number.POSITIVE_INFINITY),a=Nt(a,Number.NEGATIVE_INFINITY),{min:Nt(i,t),max:Nt(e,a),minDefined:$e(i),maxDefined:$e(e)}}getMinMax(i){let{min:e,max:t,minDefined:a,maxDefined:r}=this.getUserBounds(),o;if(a&&r)return{min:e,max:t};let s=this.getMatchingVisibleMetas();for(let l=0,c=s.length;l<c;++l)o=s[l].controller.getMinMax(this,i),a||(e=Math.min(e,o.min)),r||(t=Math.max(t,o.max));return e=r&&e>t?t:e,t=a&&e>t?e:t,{min:Nt(e,Nt(t,e)),max:Nt(t,Nt(e,t))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){let i=this.chart.data;return this.options.labels||(this.isHorizontal()?i.xLabels:i.yLabels)||i.labels||[]}getLabelItems(i=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(i))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Ae(this.options.beforeUpdate,[this])}update(i,e,t){let{beginAtZero:a,grace:r,ticks:o}=this.options,s=o.sampleSize;this.beforeUpdate(),this.maxWidth=i,this.maxHeight=e,this._margins=t=Object.assign({left:0,right:0,top:0,bottom:0},t),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+t.left+t.right:this.height+t.top+t.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=gb(this,r,a),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();let l=s<this.ticks.length;this._convertTicksToLabels(l?$b(this.ticks,s):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=SD(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let i=this.options.reverse,e,t;this.isHorizontal()?(e=this.left,t=this.right):(e=this.top,t=this.bottom,i=!i),this._startPixel=e,this._endPixel=t,this._reversePixels=i,this._length=t-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Ae(this.options.afterUpdate,[this])}beforeSetDimensions(){Ae(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Ae(this.options.afterSetDimensions,[this])}_callHooks(i){this.chart.notifyPlugins(i,this.getContext()),Ae(this.options[i],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Ae(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(i){let e=this.options.ticks,t,a,r;for(t=0,a=i.length;t<a;t++)r=i[t],r.label=Ae(e.callback,[r.value,t,i],this)}afterTickToLabelConversion(){Ae(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Ae(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){let i=this.options,e=i.ticks,t=Wb(this.ticks.length,i.ticks.maxTicksLimit),a=e.minRotation||0,r=e.maxRotation,o=a,s,l,c;if(!this._isVisible()||!e.display||a>=r||t<=1||!this.isHorizontal()){this.labelRotation=a;return}let d=this._getLabelSizes(),h=d.widest.width,u=d.highest.height,p=rt(this.chart.width-h,0,this.maxWidth);s=i.offset?this.maxWidth/t:p/(t-1),h+6>s&&(s=p/(t-(i.offset?.5:1)),l=this.maxHeight-Ro(i.grid)-e.padding-Yb(i.title,this.chart.options.font),c=Math.sqrt(h*h+u*u),o=tc(Math.min(Math.asin(rt((d.highest.height+6)/s,-1,1)),Math.asin(rt(l/c,-1,1))-Math.asin(rt(u/c,-1,1)))),o=Math.max(a,Math.min(r,o))),this.labelRotation=o}afterCalculateLabelRotation(){Ae(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Ae(this.options.beforeFit,[this])}fit(){let i={width:0,height:0},{chart:e,options:{ticks:t,title:a,grid:r}}=this,o=this._isVisible(),s=this.isHorizontal();if(o){let l=Yb(a,e.options.font);if(s?(i.width=this.maxWidth,i.height=Ro(r)+l):(i.height=this.maxHeight,i.width=Ro(r)+l),t.display&&this.ticks.length){let{first:c,last:d,widest:h,highest:u}=this._getLabelSizes(),p=t.padding*2,f=pi(this.labelRotation),_=Math.cos(f),y=Math.sin(f);if(s){let x=t.mirror?0:y*h.width+_*u.height;i.height=Math.min(this.maxHeight,i.height+x+p)}else{let x=t.mirror?0:_*h.width+y*u.height;i.width=Math.min(this.maxWidth,i.width+x+p)}this._calculatePadding(c,d,y,_)}}this._handleMargins(),s?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=i.height):(this.width=i.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(i,e,t,a){let{ticks:{align:r,padding:o},position:s}=this.options,l=this.labelRotation!==0,c=s!=="top"&&this.axis==="x";if(this.isHorizontal()){let d=this.getPixelForTick(0)-this.left,h=this.right-this.getPixelForTick(this.ticks.length-1),u=0,p=0;l?c?(u=a*i.width,p=t*e.height):(u=t*i.height,p=a*e.width):r==="start"?p=e.width:r==="end"?u=i.width:r!=="inner"&&(u=i.width/2,p=e.width/2),this.paddingLeft=Math.max((u-d+o)*this.width/(this.width-d),0),this.paddingRight=Math.max((p-h+o)*this.width/(this.width-h),0)}else{let d=e.height/2,h=i.height/2;r==="start"?(d=0,h=i.height):r==="end"&&(d=e.height,h=0),this.paddingTop=d+o,this.paddingBottom=h+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Ae(this.options.afterFit,[this])}isHorizontal(){let{axis:i,position:e}=this.options;return e==="top"||e==="bottom"||i==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(i){this.beforeTickToLabelConversion(),this.generateTickLabels(i);let e,t;for(e=0,t=i.length;e<t;e++)me(i[e].label)&&(i.splice(e,1),t--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let i=this._labelSizes;if(!i){let e=this.options.ticks.sampleSize,t=this.ticks;e<t.length&&(t=$b(t,e)),this._labelSizes=i=this._computeLabelSizes(t,t.length,this.options.ticks.maxTicksLimit)}return i}_computeLabelSizes(i,e,t){let{ctx:a,_longestTextCache:r}=this,o=[],s=[],l=Math.floor(e/Wb(e,t)),c=0,d=0,h,u,p,f,_,y,x,w,S,D,M;for(h=0;h<e;h+=l){if(f=i[h].label,_=this._resolveTickFontOptions(h),a.font=y=_.string,x=r[y]=r[y]||{data:{},gc:[]},w=_.lineHeight,S=D=0,!me(f)&&!Ie(f))S=So(a,x.data,x.gc,S,f),D=w;else if(Ie(f))for(u=0,p=f.length;u<p;++u)M=f[u],!me(M)&&!Ie(M)&&(S=So(a,x.data,x.gc,S,M),D+=w);o.push(S),s.push(D),c=Math.max(S,c),d=Math.max(D,d)}RD(r,e);let k=o.indexOf(c),R=s.indexOf(d),P=N=>({width:o[N]||0,height:s[N]||0});return{first:P(0),last:P(e-1),widest:P(k),highest:P(R),widths:o,heights:s}}getLabelForValue(i){return i}getPixelForValue(i,e){return NaN}getValueForPixel(i){}getPixelForTick(i){let e=this.ticks;return i<0||i>e.length-1?null:this.getPixelForValue(e[i].value)}getPixelForDecimal(i){this._reversePixels&&(i=1-i);let e=this._startPixel+i*this._length;return rb(this._alignToPixels?In(this.chart,e,0):e)}getDecimalForPixel(i){let e=(i-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){let{min:i,max:e}=this;return i<0&&e<0?e:i>0&&e>0?i:0}getContext(i){let e=this.ticks||[];if(i>=0&&i<e.length){let t=e[i];return t.$context||(t.$context=FD(this.getContext(),i,t))}return this.$context||(this.$context=ID(this.chart.getContext(),this))}_tickSize(){let i=this.options.ticks,e=pi(this.labelRotation),t=Math.abs(Math.cos(e)),a=Math.abs(Math.sin(e)),r=this._getLabelSizes(),o=i.autoSkipPadding||0,s=r?r.widest.width+o:0,l=r?r.highest.height+o:0;return this.isHorizontal()?l*t>s*a?s/t:l/a:l*a<s*t?l/t:s/a}_isVisible(){let i=this.options.display;return i!=="auto"?!!i:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(i){let e=this.axis,t=this.chart,a=this.options,{grid:r,position:o,border:s}=a,l=r.offset,c=this.isHorizontal(),h=this.ticks.length+(l?1:0),u=Ro(r),p=[],f=s.setContext(this.getContext()),_=f.display?f.width:0,y=_/2,x=function(T){return In(t,T,_)},w,S,D,M,k,R,P,N,ne,oe,se,Ke;if(o==="top")w=x(this.bottom),R=this.bottom-u,N=w-y,oe=x(i.top)+y,Ke=i.bottom;else if(o==="bottom")w=x(this.top),oe=i.top,Ke=x(i.bottom)-y,R=w+y,N=this.top+u;else if(o==="left")w=x(this.right),k=this.right-u,P=w-y,ne=x(i.left)+y,se=i.right;else if(o==="right")w=x(this.left),ne=i.left,se=x(i.right)-y,k=w+y,P=this.left+u;else if(e==="x"){if(o==="center")w=x((i.top+i.bottom)/2+.5);else if(fe(o)){let T=Object.keys(o)[0],F=o[T];w=x(this.chart.scales[T].getPixelForValue(F))}oe=i.top,Ke=i.bottom,R=w+y,N=R+u}else if(e==="y"){if(o==="center")w=x((i.left+i.right)/2);else if(fe(o)){let T=Object.keys(o)[0],F=o[T];w=x(this.chart.scales[T].getPixelForValue(F))}k=w-y,P=k-u,ne=i.left,se=i.right}let gt=re(a.ticks.maxTicksLimit,h),xe=Math.max(1,Math.ceil(h/gt));for(S=0;S<h;S+=xe){let T=this.getContext(S),F=r.setContext(T),L=s.setContext(T),Q=F.lineWidth,Ne=F.color,St=L.dash||[],Je=L.dashOffset,Ot=F.tickWidth,we=F.tickColor,hn=F.tickBorderDash||[],Yi=F.tickBorderDashOffset;D=TD(this,S,l),D!==void 0&&(M=In(t,D,Q),c?k=P=ne=se=M:R=N=oe=Ke=M,p.push({tx1:k,ty1:R,tx2:P,ty2:N,x1:ne,y1:oe,x2:se,y2:Ke,width:Q,color:Ne,borderDash:St,borderDashOffset:Je,tickWidth:Ot,tickColor:we,tickBorderDash:hn,tickBorderDashOffset:Yi}))}return this._ticksLength=h,this._borderValue=w,p}_computeLabelItems(i){let e=this.axis,t=this.options,{position:a,ticks:r}=t,o=this.isHorizontal(),s=this.ticks,{align:l,crossAlign:c,padding:d,mirror:h}=r,u=Ro(t.grid),p=u+d,f=h?-d:p,_=-pi(this.labelRotation),y=[],x,w,S,D,M,k,R,P,N,ne,oe,se,Ke="middle";if(a==="top")k=this.bottom-f,R=this._getXAxisLabelAlignment();else if(a==="bottom")k=this.top+f,R=this._getXAxisLabelAlignment();else if(a==="left"){let xe=this._getYAxisLabelAlignment(u);R=xe.textAlign,M=xe.x}else if(a==="right"){let xe=this._getYAxisLabelAlignment(u);R=xe.textAlign,M=xe.x}else if(e==="x"){if(a==="center")k=(i.top+i.bottom)/2+p;else if(fe(a)){let xe=Object.keys(a)[0],T=a[xe];k=this.chart.scales[xe].getPixelForValue(T)+p}R=this._getXAxisLabelAlignment()}else if(e==="y"){if(a==="center")M=(i.left+i.right)/2-p;else if(fe(a)){let xe=Object.keys(a)[0],T=a[xe];M=this.chart.scales[xe].getPixelForValue(T)}R=this._getYAxisLabelAlignment(u).textAlign}e==="y"&&(l==="start"?Ke="top":l==="end"&&(Ke="bottom"));let gt=this._getLabelSizes();for(x=0,w=s.length;x<w;++x){S=s[x],D=S.label;let xe=r.setContext(this.getContext(x));P=this.getPixelForTick(x)+r.labelOffset,N=this._resolveTickFontOptions(x),ne=N.lineHeight,oe=Ie(D)?D.length:1;let T=oe/2,F=xe.color,L=xe.textStrokeColor,Q=xe.textStrokeWidth,Ne=R;o?(M=P,R==="inner"&&(x===w-1?Ne=this.options.reverse?"left":"right":x===0?Ne=this.options.reverse?"right":"left":Ne="center"),a==="top"?c==="near"||_!==0?se=-oe*ne+ne/2:c==="center"?se=-gt.highest.height/2-T*ne+ne:se=-gt.highest.height+ne/2:c==="near"||_!==0?se=ne/2:c==="center"?se=gt.highest.height/2-T*ne:se=gt.highest.height-oe*ne,h&&(se*=-1),_!==0&&!xe.showLabelBackdrop&&(M+=ne/2*Math.sin(_))):(k=P,se=(1-oe)*ne/2);let St;if(xe.showLabelBackdrop){let Je=mt(xe.backdropPadding),Ot=gt.heights[x],we=gt.widths[x],hn=se-Je.top,Yi=0-Je.left;switch(Ke){case"middle":hn-=Ot/2;break;case"bottom":hn-=Ot;break}switch(R){case"center":Yi-=we/2;break;case"right":Yi-=we;break;case"inner":x===w-1?Yi-=we:x>0&&(Yi-=we/2);break}St={left:Yi,top:hn,width:we+Je.width,height:Ot+Je.height,color:xe.backdropColor}}y.push({label:D,font:N,textOffset:se,options:{rotation:_,color:F,strokeColor:L,strokeWidth:Q,textAlign:Ne,textBaseline:Ke,translation:[M,k],backdrop:St}})}return y}_getXAxisLabelAlignment(){let{position:i,ticks:e}=this.options;if(-pi(this.labelRotation))return i==="top"?"left":"right";let a="center";return e.align==="start"?a="left":e.align==="end"?a="right":e.align==="inner"&&(a="inner"),a}_getYAxisLabelAlignment(i){let{position:e,ticks:{crossAlign:t,mirror:a,padding:r}}=this.options,o=this._getLabelSizes(),s=i+r,l=o.widest.width,c,d;return e==="left"?a?(d=this.right+r,t==="near"?c="left":t==="center"?(c="center",d+=l/2):(c="right",d+=l)):(d=this.right-s,t==="near"?c="right":t==="center"?(c="center",d-=l/2):(c="left",d=this.left)):e==="right"?a?(d=this.left+r,t==="near"?c="right":t==="center"?(c="center",d-=l/2):(c="left",d-=l)):(d=this.left+s,t==="near"?c="left":t==="center"?(c="center",d+=l/2):(c="right",d=this.right)):c="right",{textAlign:c,x:d}}_computeLabelArea(){if(this.options.ticks.mirror)return;let i=this.chart,e=this.options.position;if(e==="left"||e==="right")return{top:0,left:this.left,bottom:i.height,right:this.right};if(e==="top"||e==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:i.width}}drawBackground(){let{ctx:i,options:{backgroundColor:e},left:t,top:a,width:r,height:o}=this;e&&(i.save(),i.fillStyle=e,i.fillRect(t,a,r,o),i.restore())}getLineWidthForValue(i){let e=this.options.grid;if(!this._isVisible()||!e.display)return 0;let a=this.ticks.findIndex(r=>r.value===i);return a>=0?e.setContext(this.getContext(a)).lineWidth:0}drawGrid(i){let e=this.options.grid,t=this.ctx,a=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(i)),r,o,s=(l,c,d)=>{!d.width||!d.color||(t.save(),t.lineWidth=d.width,t.strokeStyle=d.color,t.setLineDash(d.borderDash||[]),t.lineDashOffset=d.borderDashOffset,t.beginPath(),t.moveTo(l.x,l.y),t.lineTo(c.x,c.y),t.stroke(),t.restore())};if(e.display)for(r=0,o=a.length;r<o;++r){let l=a[r];e.drawOnChartArea&&s({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),e.drawTicks&&s({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){let{chart:i,ctx:e,options:{border:t,grid:a}}=this,r=t.setContext(this.getContext()),o=t.display?r.width:0;if(!o)return;let s=a.setContext(this.getContext(0)).lineWidth,l=this._borderValue,c,d,h,u;this.isHorizontal()?(c=In(i,this.left,o)-o/2,d=In(i,this.right,s)+s/2,h=u=l):(h=In(i,this.top,o)-o/2,u=In(i,this.bottom,s)+s/2,c=d=l),e.save(),e.lineWidth=r.width,e.strokeStyle=r.color,e.beginPath(),e.moveTo(c,h),e.lineTo(d,u),e.stroke(),e.restore()}drawLabels(i){if(!this.options.ticks.display)return;let t=this.ctx,a=this._computeLabelArea();a&&ko(t,a);let r=this.getLabelItems(i);for(let o of r){let s=o.options,l=o.font,c=o.label,d=o.textOffset;Fn(t,c,0,d,l,s)}a&&Po(t)}drawTitle(){let{ctx:i,options:{position:e,title:t,reverse:a}}=this;if(!t.display)return;let r=tt(t.font),o=mt(t.padding),s=t.align,l=r.lineHeight/2;e==="bottom"||e==="center"||fe(e)?(l+=o.bottom,Ie(t.text)&&(l+=r.lineHeight*(t.text.length-1))):l+=o.top;let{titleX:c,titleY:d,maxWidth:h,rotation:u}=LD(this,l,e,s);Fn(i,t.text,0,0,r,{color:t.color,maxWidth:h,rotation:u,textAlign:ND(s,e,a),textBaseline:"middle",translation:[c,d]})}draw(i){this._isVisible()&&(this.drawBackground(),this.drawGrid(i),this.drawBorder(),this.drawTitle(),this.drawLabels(i))}_layers(){let i=this.options,e=i.ticks&&i.ticks.z||0,t=re(i.grid&&i.grid.z,-1),a=re(i.border&&i.border.z,0);return!this._isVisible()||this.draw!==n.prototype.draw?[{z:e,draw:r=>{this.draw(r)}}]:[{z:t,draw:r=>{this.drawBackground(),this.drawGrid(r),this.drawTitle()}},{z:a,draw:()=>{this.drawBorder()}},{z:e,draw:r=>{this.drawLabels(r)}}]}getMatchingVisibleMetas(i){let e=this.chart.getSortedVisibleDatasetMetas(),t=this.axis+"AxisID",a=[],r,o;for(r=0,o=e.length;r<o;++r){let s=e[r];s[t]===this.id&&(!i||s.type===i)&&a.push(s)}return a}_resolveTickFontOptions(i){let e=this.options.ticks.setContext(this.getContext(i));return tt(e.font)}_maxDigits(){let i=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/i}},br=class{constructor(i,e,t){this.type=i,this.scope=e,this.override=t,this.items=Object.create(null)}isForType(i){return Object.prototype.isPrototypeOf.call(this.type.prototype,i.prototype)}register(i){let e=Object.getPrototypeOf(i),t;BD(e)&&(t=this.register(e));let a=this.items,r=i.id,o=this.scope+"."+r;if(!r)throw new Error("class does not have id: "+i);return r in a||(a[r]=i,VD(i,o,t),this.override&&Te.override(i.id,i.overrides)),o}get(i){return this.items[i]}unregister(i){let e=this.items,t=i.id,a=this.scope;t in e&&delete e[t],a&&t in Te[a]&&(delete Te[a][t],this.override&&delete Rn[t])}};function VD(n,i,e){let t=lr(Object.create(null),[e?Te.get(e):{},Te.get(i),n.defaults]);Te.set(i,t),n.defaultRoutes&&zD(i,n.defaultRoutes),n.descriptors&&Te.describe(i,n.descriptors)}function zD(n,i){Object.keys(i).forEach(e=>{let t=e.split("."),a=t.pop(),r=[n].concat(t).join("."),o=i[e].split("."),s=o.pop(),l=o.join(".");Te.route(r,a,l,s)})}function BD(n){return"id"in n&&"defaults"in n}var Zu=class{constructor(){this.controllers=new br(zn,"datasets",!0),this.elements=new br(Si,"elements"),this.plugins=new br(Object,"plugins"),this.scales=new br(Sa,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...i){this._each("register",i)}remove(...i){this._each("unregister",i)}addControllers(...i){this._each("register",i,this.controllers)}addElements(...i){this._each("register",i,this.elements)}addPlugins(...i){this._each("register",i,this.plugins)}addScales(...i){this._each("register",i,this.scales)}getController(i){return this._get(i,this.controllers,"controller")}getElement(i){return this._get(i,this.elements,"element")}getPlugin(i){return this._get(i,this.plugins,"plugin")}getScale(i){return this._get(i,this.scales,"scale")}removeControllers(...i){this._each("unregister",i,this.controllers)}removeElements(...i){this._each("unregister",i,this.elements)}removePlugins(...i){this._each("unregister",i,this.plugins)}removeScales(...i){this._each("unregister",i,this.scales)}_each(i,e,t){[...e].forEach(a=>{let r=t||this._getRegistryForType(a);t||r.isForType(a)||r===this.plugins&&a.id?this._exec(i,r,a):Pe(a,o=>{let s=t||this._getRegistryForType(o);this._exec(i,s,o)})})}_exec(i,e,t){let a=ec(i);Ae(t["before"+a],[],t),e[i](t),Ae(t["after"+a],[],t)}_getRegistryForType(i){for(let e=0;e<this._typedRegistries.length;e++){let t=this._typedRegistries[e];if(t.isForType(i))return t}return this.plugins}_get(i,e,t){let a=e.get(i);if(a===void 0)throw new Error('"'+i+'" is not a registered '+t+".");return a}},ji=new Zu,Ju=class{constructor(){this._init=void 0}notify(i,e,t,a){if(e==="beforeInit"&&(this._init=this._createDescriptors(i,!0),this._notify(this._init,i,"install")),this._init===void 0)return;let r=a?this._descriptors(i).filter(a):this._descriptors(i),o=this._notify(r,i,e,t);return e==="afterDestroy"&&(this._notify(r,i,"stop"),this._notify(this._init,i,"uninstall"),this._init=void 0),o}_notify(i,e,t,a){a=a||{};for(let r of i){let o=r.plugin,s=o[t],l=[e,a,r.options];if(Ae(s,l,o)===!1&&a.cancelable)return!1}return!0}invalidate(){me(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(i){if(this._cache)return this._cache;let e=this._cache=this._createDescriptors(i);return this._notifyStateChanges(i),e}_createDescriptors(i,e){let t=i&&i.config,a=re(t.options&&t.options.plugins,{}),r=jD(t);return a===!1&&!e?[]:UD(i,r,a,e)}_notifyStateChanges(i){let e=this._oldCache||[],t=this._cache,a=(r,o)=>r.filter(s=>!o.some(l=>s.plugin.id===l.plugin.id));this._notify(a(e,t),i,"stop"),this._notify(a(t,e),i,"start")}};function jD(n){let i={},e=[],t=Object.keys(ji.plugins.items);for(let r=0;r<t.length;r++)e.push(ji.getPlugin(t[r]));let a=n.plugins||[];for(let r=0;r<a.length;r++){let o=a[r];e.indexOf(o)===-1&&(e.push(o),i[o.id]=!0)}return{plugins:e,localIds:i}}function HD(n,i){return!i&&n===!1?null:n===!0?{}:n}function UD(n,{plugins:i,localIds:e},t,a){let r=[],o=n.getContext();for(let s of i){let l=s.id,c=HD(t[l],a);c!==null&&r.push({plugin:s,options:WD(n.config,{plugin:s,local:e[l]},c,o)})}return r}function WD(n,{plugin:i,local:e},t,a){let r=n.pluginScopeKeys(i),o=n.getOptionScopes(t,r);return e&&i.defaults&&o.push(i.defaults),n.createResolver(o,a,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function ep(n,i){let e=Te.datasets[n]||{};return((i.datasets||{})[n]||{}).indexAxis||i.indexAxis||e.indexAxis||"x"}function $D(n,i){let e=n;return n==="_index_"?e=i:n==="_value_"&&(e=i==="x"?"y":"x"),e}function YD(n,i){return n===i?"_index_":"_value_"}function qb(n){if(n==="x"||n==="y"||n==="r")return n}function qD(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function tp(n,...i){if(qb(n))return n;for(let e of i){let t=e.axis||qD(e.position)||n.length>1&&qb(n[0].toLowerCase());if(t)return t}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function Gb(n,i,e){if(e[i+"AxisID"]===n)return{axis:i}}function GD(n,i){if(i.data&&i.data.datasets){let e=i.data.datasets.filter(t=>t.xAxisID===n||t.yAxisID===n);if(e.length)return Gb(n,"x",e[0])||Gb(n,"y",e[0])}return{}}function KD(n,i){let e=Rn[n.type]||{scales:{}},t=i.scales||{},a=ep(n.type,i),r=Object.create(null);return Object.keys(t).forEach(o=>{let s=t[o];if(!fe(s))return console.error(`Invalid scale configuration for scale: ${o}`);if(s._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);let l=tp(o,s,GD(o,n),Te.scales[s.type]),c=YD(l,a),d=e.scales||{};r[o]=dr(Object.create(null),[{axis:l},s,d[l],d[c]])}),n.data.datasets.forEach(o=>{let s=o.type||n.type,l=o.indexAxis||ep(s,i),d=(Rn[s]||{}).scales||{};Object.keys(d).forEach(h=>{let u=$D(h,l),p=o[u+"AxisID"]||u;r[p]=r[p]||Object.create(null),dr(r[p],[{axis:u},t[p],d[h]])})}),Object.keys(r).forEach(o=>{let s=r[o];dr(s,[Te.scales[s.type],Te.scale])}),r}function Fy(n){let i=n.options||(n.options={});i.plugins=re(i.plugins,{}),i.scales=KD(n,i)}function Ny(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function QD(n){return n=n||{},n.data=Ny(n.data),Fy(n),n}var Kb=new Map,Ly=new Set;function pc(n,i){let e=Kb.get(n);return e||(e=i(),Kb.set(n,e),Ly.add(e)),e}var Io=(n,i,e)=>{let t=on(i,e);t!==void 0&&n.add(t)},ip=class{constructor(i){this._config=QD(i),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(i){this._config.type=i}get data(){return this._config.data}set data(i){this._config.data=Ny(i)}get options(){return this._config.options}set options(i){this._config.options=i}get plugins(){return this._config.plugins}update(){let i=this._config;this.clearCache(),Fy(i)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(i){return pc(i,()=>[[`datasets.${i}`,""]])}datasetAnimationScopeKeys(i,e){return pc(`${i}.transition.${e}`,()=>[[`datasets.${i}.transitions.${e}`,`transitions.${e}`],[`datasets.${i}`,""]])}datasetElementScopeKeys(i,e){return pc(`${i}-${e}`,()=>[[`datasets.${i}.elements.${e}`,`datasets.${i}`,`elements.${e}`,""]])}pluginScopeKeys(i){let e=i.id,t=this.type;return pc(`${t}-plugin-${e}`,()=>[[`plugins.${e}`,...i.additionalOptionScopes||[]]])}_cachedScopes(i,e){let t=this._scopeCache,a=t.get(i);return(!a||e)&&(a=new Map,t.set(i,a)),a}getOptionScopes(i,e,t){let{options:a,type:r}=this,o=this._cachedScopes(i,t),s=o.get(e);if(s)return s;let l=new Set;e.forEach(d=>{i&&(l.add(i),d.forEach(h=>Io(l,i,h))),d.forEach(h=>Io(l,a,h)),d.forEach(h=>Io(l,Rn[r]||{},h)),d.forEach(h=>Io(l,Te,h)),d.forEach(h=>Io(l,ac,h))});let c=Array.from(l);return c.length===0&&c.push(Object.create(null)),Ly.has(e)&&o.set(e,c),c}chartOptionScopes(){let{options:i,type:e}=this;return[i,Rn[e]||{},Te.datasets[e]||{},{type:e},Te,ac]}resolveNamedOptions(i,e,t,a=[""]){let r={$shared:!0},{resolver:o,subPrefixes:s}=Qb(this._resolverCache,i,a),l=o;if(ZD(o,e)){r.$shared=!1,t=an(t)?t():t;let c=this.createResolver(i,t,s);l=va(o,t,c)}for(let c of e)r[c]=l[c];return r}createResolver(i,e,t=[""],a){let{resolver:r}=Qb(this._resolverCache,i,t);return fe(e)?va(r,e,void 0,a):r}};function Qb(n,i,e){let t=n.get(i);t||(t=new Map,n.set(i,t));let a=e.join(),r=t.get(a);return r||(r={resolver:sc(i,e),subPrefixes:e.filter(s=>!s.toLowerCase().includes("hover"))},t.set(a,r)),r}var XD=n=>fe(n)&&Object.getOwnPropertyNames(n).some(i=>an(n[i]));function ZD(n,i){let{isScriptable:e,isIndexable:t}=Su(n);for(let a of i){let r=e(a),o=t(a),s=(o||r)&&n[a];if(r&&(an(s)||XD(s))||o&&Ie(s))return!0}return!1}var JD="4.5.1",e1=["top","bottom","left","right","chartArea"];function Xb(n,i){return n==="top"||n==="bottom"||e1.indexOf(n)===-1&&i==="x"}function Zb(n,i){return function(e,t){return e[n]===t[n]?e[i]-t[i]:e[n]-t[n]}}function Jb(n){let i=n.chart,e=i.options.animation;i.notifyPlugins("afterRender"),Ae(e&&e.onComplete,[n],i)}function t1(n){let i=n.chart,e=i.options.animation;Ae(e&&e.onProgress,[n],i)}function Vy(n){return lc()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}var bc={},ey=n=>{let i=Vy(n);return Object.values(bc).filter(e=>e.canvas===i).pop()};function i1(n,i,e){let t=Object.keys(n);for(let a of t){let r=+a;if(r>=i){let o=n[a];delete n[a],(e>0||r>i)&&(n[r+e]=o)}}}function n1(n,i,e,t){return!e||n.type==="mouseout"?null:t?i:n}var Sc=(()=>{class n{static defaults=Te;static instances=bc;static overrides=Rn;static registry=ji;static version=JD;static getChart=ey;static register(...e){ji.add(...e),ty()}static unregister(...e){ji.remove(...e),ty()}constructor(e,t){let a=this.config=new ip(t),r=Vy(e),o=ey(r);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");let s=a.createResolver(a.chartOptionScopes(),this.getContext());this.platform=new(a.platform||MD(r)),this.platform.updateConfig(a);let l=this.platform.acquireContext(r,s.aspectRatio),c=l&&l.canvas,d=c&&c.height,h=c&&c.width;if(this.id=J_(),this.ctx=l,this.canvas=c,this.width=h,this.height=d,this._options=s,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Ju,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=db(u=>this.update(u),s.resizeDelay||0),this._dataChanges=[],bc[this.id]=this,!l||!c){console.error("Failed to create chart: can't acquire context from the given item");return}ln.listen(this,"complete",Jb),ln.listen(this,"progress",t1),this._initialize(),this.attached&&this.update()}get aspectRatio(){let{options:{aspectRatio:e,maintainAspectRatio:t},width:a,height:r,_aspectRatio:o}=this;return me(e)?t&&o?o:r?a/r:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return ji}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Pu(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return xu(this.canvas,this.ctx),this}stop(){return ln.stop(this),this}resize(e,t){ln.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){let a=this.options,r=this.canvas,o=a.maintainAspectRatio&&this.aspectRatio,s=this.platform.getMaximumSize(r,e,t,o),l=a.devicePixelRatio||this.platform.getDevicePixelRatio(),c=this.width?"resize":"attach";this.width=s.width,this.height=s.height,this._aspectRatio=this.aspectRatio,Pu(this,l,!0)&&(this.notifyPlugins("resize",{size:s}),Ae(a.onResize,[this,s],this),this.attached&&this._doResize(c)&&this.render())}ensureScalesHaveIDs(){let t=this.options.scales||{};Pe(t,(a,r)=>{a.id=r})}buildOrUpdateScales(){let e=this.options,t=e.scales,a=this.scales,r=Object.keys(a).reduce((s,l)=>(s[l]=!1,s),{}),o=[];t&&(o=o.concat(Object.keys(t).map(s=>{let l=t[s],c=tp(s,l),d=c==="r",h=c==="x";return{options:l,dposition:d?"chartArea":h?"bottom":"left",dtype:d?"radialLinear":h?"category":"linear"}}))),Pe(o,s=>{let l=s.options,c=l.id,d=tp(c,l),h=re(l.type,s.dtype);(l.position===void 0||Xb(l.position,d)!==Xb(s.dposition))&&(l.position=s.dposition),r[c]=!0;let u=null;if(c in a&&a[c].type===h)u=a[c];else{let p=ji.getScale(h);u=new p({id:c,type:h,ctx:this.ctx,chart:this}),a[u.id]=u}u.init(l,e)}),Pe(r,(s,l)=>{s||delete a[l]}),Pe(a,s=>{wt.configure(this,s,s.options),wt.addBox(this,s)})}_updateMetasets(){let e=this._metasets,t=this.data.datasets.length,a=e.length;if(e.sort((r,o)=>r.index-o.index),a>t){for(let r=t;r<a;++r)this._destroyDatasetMeta(r);e.splice(t,a-t)}this._sortedMetasets=e.slice(0).sort(Zb("order","index"))}_removeUnreferencedMetasets(){let{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach((a,r)=>{t.filter(o=>o===a._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){let e=[],t=this.data.datasets,a,r;for(this._removeUnreferencedMetasets(),a=0,r=t.length;a<r;a++){let o=t[a],s=this.getDatasetMeta(a),l=o.type||this.config.type;if(s.type&&s.type!==l&&(this._destroyDatasetMeta(a),s=this.getDatasetMeta(a)),s.type=l,s.indexAxis=o.indexAxis||ep(l,this.options),s.order=o.order||0,s.index=a,s.label=""+o.label,s.visible=this.isDatasetVisible(a),s.controller)s.controller.updateIndex(a),s.controller.linkScales();else{let c=ji.getController(l),{datasetElementType:d,dataElementType:h}=Te.datasets[l];Object.assign(c,{dataElementType:ji.getElement(h),datasetElementType:d&&ji.getElement(d)}),s.controller=new c(this,a),e.push(s.controller)}}return this._updateMetasets(),e}_resetElements(){Pe(this.data.datasets,(e,t)=>{this.getDatasetMeta(t).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){let t=this.config;t.update();let a=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!a.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;let o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let s=0;for(let d=0,h=this.data.datasets.length;d<h;d++){let{controller:u}=this.getDatasetMeta(d),p=!r&&o.indexOf(u)===-1;u.buildOrUpdateElements(p),s=Math.max(+u.getMaxOverflow(),s)}s=this._minPadding=a.layout.autoPadding?s:0,this._updateLayout(s),r||Pe(o,d=>{d.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(Zb("z","_idx"));let{_active:l,_lastEvent:c}=this;c?this._eventHandler(c,!0):l.length&&this._updateHoverStyles(l,l,!0),this.render()}_updateScales(){Pe(this.scales,e=>{wt.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){let e=this.options,t=new Set(Object.keys(this._listeners)),a=new Set(e.events);(!cu(t,a)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){let{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(let{method:a,start:r,count:o}of t){let s=a==="_removeElements"?-o:o;i1(e,r,s)}}_getUniformDataChanges(){let e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];let t=this.data.datasets.length,a=o=>new Set(e.filter(s=>s[0]===o).map((s,l)=>l+","+s.splice(1).join(","))),r=a(0);for(let o=1;o<t;o++)if(!cu(r,a(o)))return;return Array.from(r).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;wt.update(this,this.width,this.height,e);let t=this.chartArea,a=t.width<=0||t.height<=0;this._layers=[],Pe(this.boxes,r=>{a&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,o)=>{r._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let t=0,a=this.data.datasets.length;t<a;++t)this.getDatasetMeta(t).controller.configure();for(let t=0,a=this.data.datasets.length;t<a;++t)this._updateDataset(t,an(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){let a=this.getDatasetMeta(e),r={meta:a,index:e,mode:t,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(a.controller._update(t),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(ln.has(this)?this.attached&&!ln.running(this)&&ln.start(this):(this.draw(),Jb({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){let{width:a,height:r}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(a,r)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;let t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){let t=this._sortedMetasets,a=[],r,o;for(r=0,o=t.length;r<o;++r){let s=t[r];(!e||s.visible)&&a.push(s)}return a}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;let e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){let t=this.ctx,a={meta:e,index:e.index,cancelable:!0},r=Fu(this,e);this.notifyPlugins("beforeDatasetDraw",a)!==!1&&(r&&ko(t,r),e.controller.draw(),r&&Po(t),a.cancelable=!1,this.notifyPlugins("afterDatasetDraw",a))}isPointInArea(e){return Li(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,a,r){let o=rD.modes[t];return typeof o=="function"?o(this,e,a,r):[]}getDatasetMeta(e){let t=this.data.datasets[e],a=this._metasets,r=a.filter(o=>o&&o._dataset===t).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},a.push(r)),r}getContext(){return this.$context||(this.$context=sn(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){let t=this.data.datasets[e];if(!t)return!1;let a=this.getDatasetMeta(e);return typeof a.hidden=="boolean"?!a.hidden:!t.hidden}setDatasetVisibility(e,t){let a=this.getDatasetMeta(e);a.hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,a){let r=a?"show":"hide",o=this.getDatasetMeta(e),s=o.controller._resolveAnimations(void 0,r);hr(t)?(o.data[t].hidden=!a,this.update()):(this.setDatasetVisibility(e,a),s.update(o,{visible:a}),this.update(l=>l.datasetIndex===e?r:void 0))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){let t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),ln.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");let{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),xu(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete bc[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){let e=this._listeners,t=this.platform,a=(o,s)=>{t.addEventListener(this,o,s),e[o]=s},r=(o,s,l)=>{o.offsetX=s,o.offsetY=l,this._eventHandler(o)};Pe(this.options.events,o=>a(o,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});let e=this._responsiveListeners,t=this.platform,a=(c,d)=>{t.addEventListener(this,c,d),e[c]=d},r=(c,d)=>{e[c]&&(t.removeEventListener(this,c,d),delete e[c])},o=(c,d)=>{this.canvas&&this.resize(c,d)},s,l=()=>{r("attach",l),this.attached=!0,this.resize(),a("resize",o),a("detach",s)};s=()=>{this.attached=!1,r("resize",o),this._stop(),this._resize(0,0),a("attach",l)},t.isAttached(this.canvas)?l():s()}unbindEvents(){Pe(this._listeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._listeners={},Pe(this._responsiveListeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,t,a){let r=a?"set":"remove",o,s,l,c;for(t==="dataset"&&(o=this.getDatasetMeta(e[0].datasetIndex),o.controller["_"+r+"DatasetHoverStyle"]()),l=0,c=e.length;l<c;++l){s=e[l];let d=s&&this.getDatasetMeta(s.datasetIndex).controller;d&&d[r+"HoverStyle"](s.element,s.datasetIndex,s.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){let t=this._active||[],a=e.map(({datasetIndex:o,index:s})=>{let l=this.getDatasetMeta(o);if(!l)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:l.data[s],index:s}});!Do(a,t)&&(this._active=a,this._lastEvent=null,this._updateHoverStyles(a,t))}notifyPlugins(e,t,a){return this._plugins.notify(this,e,t,a)}isPluginEnabled(e){return this._plugins._cache.filter(t=>t.plugin.id===e).length===1}_updateHoverStyles(e,t,a){let r=this.options.hover,o=(c,d)=>c.filter(h=>!d.some(u=>h.datasetIndex===u.datasetIndex&&h.index===u.index)),s=o(t,e),l=a?e:o(e,t);s.length&&this.updateHoverStyle(s,r.mode,!1),l.length&&r.mode&&this.updateHoverStyle(l,r.mode,!0)}_eventHandler(e,t){let a={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},r=s=>(s.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",a,r)===!1)return;let o=this._handleEvent(e,t,a.inChartArea);return a.cancelable=!1,this.notifyPlugins("afterEvent",a,r),(o||a.changed)&&this.render(),this}_handleEvent(e,t,a){let{_active:r=[],options:o}=this,s=t,l=this._getActiveElements(e,r,a,s),c=ib(e),d=n1(e,this._lastEvent,a,c);a&&(this._lastEvent=null,Ae(o.onHover,[e,l,this],this),c&&Ae(o.onClick,[e,l,this],this));let h=!Do(l,r);return(h||t)&&(this._active=l,this._updateHoverStyles(l,r,t)),this._lastEvent=d,h}_getActiveElements(e,t,a,r){if(e.type==="mouseout")return[];if(!a)return t;let o=this.options.hover;return this.getElementsAtEventForMode(e,o.mode,o,r)}}return n})();function ty(){return Pe(Sc.instances,n=>n._plugins.invalidate())}function a1(n,i,e){let{startAngle:t,x:a,y:r,outerRadius:o,innerRadius:s,options:l}=i,{borderWidth:c,borderJoinStyle:d}=l,h=Math.min(c/o,ut(t-e));if(n.beginPath(),n.arc(a,r,o-c/2,t+h/2,e-h/2),s>0){let u=Math.min(c/s,ut(t-e));n.arc(a,r,s+c/2,e-u/2,t+u/2,!0)}else{let u=Math.min(c/2,o*ut(t-e));if(d==="round")n.arc(a,r,u,e-ve/2,t+ve/2,!0);else if(d==="bevel"){let p=2*u*u,f=-p*Math.cos(e+ve/2)+a,_=-p*Math.sin(e+ve/2)+r,y=p*Math.cos(t+ve/2)+a,x=p*Math.sin(t+ve/2)+r;n.lineTo(f,_),n.lineTo(y,x)}}n.closePath(),n.moveTo(0,0),n.rect(0,0,n.canvas.width,n.canvas.height),n.clip("evenodd")}function r1(n,i,e){let{startAngle:t,pixelMargin:a,x:r,y:o,outerRadius:s,innerRadius:l}=i,c=a/s;n.beginPath(),n.arc(r,o,s,t-c,e+c),l>a?(c=a/l,n.arc(r,o,l,e+c,t-c,!0)):n.arc(r,o,a,e+Ge,t-Ge),n.closePath(),n.clip()}function o1(n){return oc(n,["outerStart","outerEnd","innerStart","innerEnd"])}function s1(n,i,e,t){let a=o1(n.options.borderRadius),r=(e-i)/2,o=Math.min(r,t*i/2),s=l=>{let c=(e-Math.min(r,l))*t/2;return rt(l,0,Math.min(r,c))};return{outerStart:s(a.outerStart),outerEnd:s(a.outerEnd),innerStart:rt(a.innerStart,0,o),innerEnd:rt(a.innerEnd,0,o)}}function _r(n,i,e,t){return{x:e+n*Math.cos(i),y:t+n*Math.sin(i)}}function xc(n,i,e,t,a,r){let{x:o,y:s,startAngle:l,pixelMargin:c,innerRadius:d}=i,h=Math.max(i.outerRadius+t+e-c,0),u=d>0?d+t+e+c:0,p=0,f=a-l;if(t){let xe=d>0?d-t:0,T=h>0?h-t:0,F=(xe+T)/2,L=F!==0?f*F/(F+t):f;p=(f-L)/2}let _=Math.max(.001,f*h-e/ve)/h,y=(f-_)/2,x=l+y+p,w=a-y-p,{outerStart:S,outerEnd:D,innerStart:M,innerEnd:k}=s1(i,u,h,w-x),R=h-S,P=h-D,N=x+S/R,ne=w-D/P,oe=u+M,se=u+k,Ke=x+M/oe,gt=w-k/se;if(n.beginPath(),r){let xe=(N+ne)/2;if(n.arc(o,s,h,N,xe),n.arc(o,s,h,xe,ne),D>0){let Q=_r(P,ne,o,s);n.arc(Q.x,Q.y,D,ne,w+Ge)}let T=_r(se,w,o,s);if(n.lineTo(T.x,T.y),k>0){let Q=_r(se,gt,o,s);n.arc(Q.x,Q.y,k,w+Ge,gt+Math.PI)}let F=(w-k/u+(x+M/u))/2;if(n.arc(o,s,u,w-k/u,F,!0),n.arc(o,s,u,F,x+M/u,!0),M>0){let Q=_r(oe,Ke,o,s);n.arc(Q.x,Q.y,M,Ke+Math.PI,x-Ge)}let L=_r(R,x,o,s);if(n.lineTo(L.x,L.y),S>0){let Q=_r(R,N,o,s);n.arc(Q.x,Q.y,S,x-Ge,N)}}else{n.moveTo(o,s);let xe=Math.cos(N)*h+o,T=Math.sin(N)*h+s;n.lineTo(xe,T);let F=Math.cos(ne)*h+o,L=Math.sin(ne)*h+s;n.lineTo(F,L)}n.closePath()}function l1(n,i,e,t,a){let{fullCircles:r,startAngle:o,circumference:s}=i,l=i.endAngle;if(r){xc(n,i,e,t,l,a);for(let c=0;c<r;++c)n.fill();isNaN(s)||(l=o+(s%Fe||Fe))}return xc(n,i,e,t,l,a),n.fill(),l}function c1(n,i,e,t,a){let{fullCircles:r,startAngle:o,circumference:s,options:l}=i,{borderWidth:c,borderJoinStyle:d,borderDash:h,borderDashOffset:u,borderRadius:p}=l,f=l.borderAlign==="inner";if(!c)return;n.setLineDash(h||[]),n.lineDashOffset=u,f?(n.lineWidth=c*2,n.lineJoin=d||"round"):(n.lineWidth=c,n.lineJoin=d||"bevel");let _=i.endAngle;if(r){xc(n,i,e,t,_,a);for(let y=0;y<r;++y)n.stroke();isNaN(s)||(_=o+(s%Fe||Fe))}f&&r1(n,i,_),l.selfJoin&&_-o>=ve&&p===0&&d!=="miter"&&a1(n,i,_),r||(xc(n,i,e,t,_,a),n.stroke())}var np=class extends Si{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:i=>i!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(i){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,i&&Object.assign(this,i)}inRange(i,e,t){let a=this.getProps(["x","y"],t),{angle:r,distance:o}=pu(a,{x:i,y:e}),{startAngle:s,endAngle:l,innerRadius:c,outerRadius:d,circumference:h}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],t),u=(this.options.spacing+this.options.borderWidth)/2,p=re(h,l-s),f=pr(r,s,l)&&s!==l,_=p>=Fe||f,y=zi(o,c+u,d+u);return _&&y}getCenterPoint(i){let{x:e,y:t,startAngle:a,endAngle:r,innerRadius:o,outerRadius:s}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],i),{offset:l,spacing:c}=this.options,d=(a+r)/2,h=(o+s+c+l)/2;return{x:e+Math.cos(d)*h,y:t+Math.sin(d)*h}}tooltipPosition(i){return this.getCenterPoint(i)}draw(i){let{options:e,circumference:t}=this,a=(e.offset||0)/4,r=(e.spacing||0)/2,o=e.circular;if(this.pixelMargin=e.borderAlign==="inner"?.33:0,this.fullCircles=t>Fe?Math.floor(t/Fe):0,t===0||this.innerRadius<0||this.outerRadius<0)return;i.save();let s=(this.startAngle+this.endAngle)/2;i.translate(Math.cos(s)*a,Math.sin(s)*a);let l=1-Math.sin(Math.min(ve,t||0)),c=a*l;i.fillStyle=e.backgroundColor,i.strokeStyle=e.borderColor,l1(i,this,c,r,o),c1(i,this,c,r,o),i.restore()}};function zy(n,i,e=i){n.lineCap=re(e.borderCapStyle,i.borderCapStyle),n.setLineDash(re(e.borderDash,i.borderDash)),n.lineDashOffset=re(e.borderDashOffset,i.borderDashOffset),n.lineJoin=re(e.borderJoinStyle,i.borderJoinStyle),n.lineWidth=re(e.borderWidth,i.borderWidth),n.strokeStyle=re(e.borderColor,i.borderColor)}function d1(n,i,e){n.lineTo(e.x,e.y)}function h1(n){return n.stepped?mb:n.tension||n.cubicInterpolationMode==="monotone"?fb:d1}function By(n,i,e={}){let t=n.length,{start:a=0,end:r=t-1}=e,{start:o,end:s}=i,l=Math.max(a,o),c=Math.min(r,s),d=a<o&&r<o||a>s&&r>s;return{count:t,start:l,loop:i.loop,ilen:c<l&&!d?t+c-l:c-l}}function u1(n,i,e,t){let{points:a,options:r}=i,{count:o,start:s,loop:l,ilen:c}=By(a,e,t),d=h1(r),{move:h=!0,reverse:u}=t||{},p,f,_;for(p=0;p<=c;++p)f=a[(s+(u?c-p:p))%o],!f.skip&&(h?(n.moveTo(f.x,f.y),h=!1):d(n,_,f,u,r.stepped),_=f);return l&&(f=a[(s+(u?c:0))%o],d(n,_,f,u,r.stepped)),!!l}function p1(n,i,e,t){let a=i.points,{count:r,start:o,ilen:s}=By(a,e,t),{move:l=!0,reverse:c}=t||{},d=0,h=0,u,p,f,_,y,x,w=D=>(o+(c?s-D:D))%r,S=()=>{_!==y&&(n.lineTo(d,y),n.lineTo(d,_),n.lineTo(d,x))};for(l&&(p=a[w(0)],n.moveTo(p.x,p.y)),u=0;u<=s;++u){if(p=a[w(u)],p.skip)continue;let D=p.x,M=p.y,k=D|0;k===f?(M<_?_=M:M>y&&(y=M),d=(h*d+D)/++h):(S(),n.lineTo(D,M),f=k,h=0,_=y=M),x=M}S()}function ap(n){let i=n.options,e=i.borderDash&&i.borderDash.length;return!n._decimated&&!n._loop&&!i.tension&&i.cubicInterpolationMode!=="monotone"&&!i.stepped&&!e?p1:u1}function m1(n){return n.stepped?Mb:n.tension||n.cubicInterpolationMode==="monotone"?Sb:An}function f1(n,i,e,t){let a=i._path;a||(a=i._path=new Path2D,i.path(a,e,t)&&a.closePath()),zy(n,i.options),n.stroke(a)}function g1(n,i,e,t){let{segments:a,options:r}=i,o=ap(i);for(let s of a)zy(n,r,s.style),n.beginPath(),o(n,i,s,{start:e,end:e+t-1})&&n.closePath(),n.stroke()}var _1=typeof Path2D=="function";function b1(n,i,e,t){_1&&!i.options.segment?f1(n,i,e,t):g1(n,i,e,t)}var Dc=(()=>{class n extends Si{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"};constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,t){let a=this.options;if((a.tension||a.cubicInterpolationMode==="monotone")&&!a.stepped&&!this._pointsUpdated){let r=a.spanGaps?this._loop:this._fullLoop;Cb(this._points,a,e,r,t),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=Eb(this,this.options.segment))}first(){let e=this.segments,t=this.points;return e.length&&t[e[0].start]}last(){let e=this.segments,t=this.points,a=e.length;return a&&t[e[a-1].end]}interpolate(e,t){let a=this.options,r=e[t],o=this.points,s=Iu(this,{property:t,start:r,end:r});if(!s.length)return;let l=[],c=m1(a),d,h;for(d=0,h=s.length;d<h;++d){let{start:u,end:p}=s[d],f=o[u],_=o[p];if(f===_){l.push(f);continue}let y=Math.abs((r-f[t])/(_[t]-f[t])),x=c(f,_,y,a.stepped);x[t]=e[t],l.push(x)}return l.length===1?l[0]:l}pathSegment(e,t,a){return ap(this)(e,this,t,a)}path(e,t,a){let r=this.segments,o=ap(this),s=this._loop;t=t||0,a=a||this.points.length-t;for(let l of r)s&=o(e,this,l,{start:t,end:t+a-1});return!!s}draw(e,t,a,r){let o=this.options||{};(this.points||[]).length&&o.borderWidth&&(e.save(),b1(e,this,a,r),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}return n})();function iy(n,i,e,t){let a=n.options,{[e]:r}=n.getProps([e],t);return Math.abs(i-r)<a.radius+a.hitRadius}var y1=(()=>{class n extends Si{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,t,a){let r=this.options,{x:o,y:s}=this.getProps(["x","y"],a);return Math.pow(e-o,2)+Math.pow(t-s,2)<Math.pow(r.hitRadius+r.radius,2)}inXRange(e,t){return iy(this,e,"x",t)}inYRange(e,t){return iy(this,e,"y",t)}getCenterPoint(e){let{x:t,y:a}=this.getProps(["x","y"],e);return{x:t,y:a}}size(e){e=e||this.options||{};let t=e.radius||0;t=Math.max(t,t&&e.hoverRadius||0);let a=t&&e.borderWidth||0;return(t+a)*2}draw(e,t){let a=this.options;this.skip||a.radius<.1||!Li(this,t,this.size(a)/2)||(e.strokeStyle=a.borderColor,e.lineWidth=a.borderWidth,e.fillStyle=a.backgroundColor,rc(e,a,this.x,this.y))}getRange(){let e=this.options||{};return e.radius+e.hitRadius}}return n})();function jy(n,i){let{x:e,y:t,base:a,width:r,height:o}=n.getProps(["x","y","base","width","height"],i),s,l,c,d,h;return n.horizontal?(h=o/2,s=Math.min(e,a),l=Math.max(e,a),c=t-h,d=t+h):(h=r/2,s=e-h,l=e+h,c=Math.min(t,a),d=Math.max(t,a)),{left:s,top:c,right:l,bottom:d}}function Vn(n,i,e,t){return n?0:rt(i,e,t)}function v1(n,i,e){let t=n.options.borderWidth,a=n.borderSkipped,r=Mu(t);return{t:Vn(a.top,r.top,0,e),r:Vn(a.right,r.right,0,i),b:Vn(a.bottom,r.bottom,0,e),l:Vn(a.left,r.left,0,i)}}function C1(n,i,e){let{enableBorderRadius:t}=n.getProps(["enableBorderRadius"]),a=n.options.borderRadius,r=Nn(a),o=Math.min(i,e),s=n.borderSkipped,l=t||fe(a);return{topLeft:Vn(!l||s.top||s.left,r.topLeft,0,o),topRight:Vn(!l||s.top||s.right,r.topRight,0,o),bottomLeft:Vn(!l||s.bottom||s.left,r.bottomLeft,0,o),bottomRight:Vn(!l||s.bottom||s.right,r.bottomRight,0,o)}}function x1(n){let i=jy(n),e=i.right-i.left,t=i.bottom-i.top,a=v1(n,e/2,t/2),r=C1(n,e/2,t/2);return{outer:{x:i.left,y:i.top,w:e,h:t,radius:r},inner:{x:i.left+a.l,y:i.top+a.t,w:e-a.l-a.r,h:t-a.t-a.b,radius:{topLeft:Math.max(0,r.topLeft-Math.max(a.t,a.l)),topRight:Math.max(0,r.topRight-Math.max(a.t,a.r)),bottomLeft:Math.max(0,r.bottomLeft-Math.max(a.b,a.l)),bottomRight:Math.max(0,r.bottomRight-Math.max(a.b,a.r))}}}}function Uu(n,i,e,t){let a=i===null,r=e===null,s=n&&!(a&&r)&&jy(n,t);return s&&(a||zi(i,s.left,s.right))&&(r||zi(e,s.top,s.bottom))}function w1(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}function M1(n,i){n.rect(i.x,i.y,i.w,i.h)}function Wu(n,i,e={}){let t=n.x!==e.x?-i:0,a=n.y!==e.y?-i:0,r=(n.x+n.w!==e.x+e.w?i:0)-t,o=(n.y+n.h!==e.y+e.h?i:0)-a;return{x:n.x+t,y:n.y+a,w:n.w+r,h:n.h+o,radius:n.radius}}var rp=class extends Si{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(i){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,i&&Object.assign(this,i)}draw(i){let{inflateAmount:e,options:{borderColor:t,backgroundColor:a}}=this,{inner:r,outer:o}=x1(this),s=w1(o.radius)?fr:M1;i.save(),(o.w!==r.w||o.h!==r.h)&&(i.beginPath(),s(i,Wu(o,e,r)),i.clip(),s(i,Wu(r,-e,o)),i.fillStyle=t,i.fill("evenodd")),i.beginPath(),s(i,Wu(r,e)),i.fillStyle=a,i.fill(),i.restore()}inRange(i,e,t){return Uu(this,i,e,t)}inXRange(i,e){return Uu(this,i,null,e)}inYRange(i,e){return Uu(this,null,i,e)}getCenterPoint(i){let{x:e,y:t,base:a,horizontal:r}=this.getProps(["x","y","base","horizontal"],i);return{x:r?(e+a)/2:e,y:r?t:(t+a)/2}}getRange(i){return i==="x"?this.width/2:this.height/2}},S1=Object.freeze({__proto__:null,ArcElement:np,BarElement:rp,LineElement:Dc,PointElement:y1}),op=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],ny=op.map(n=>n.replace("rgb(","rgba(").replace(")",", 0.5)"));function Hy(n){return op[n%op.length]}function Uy(n){return ny[n%ny.length]}function D1(n,i){return n.borderColor=Hy(i),n.backgroundColor=Uy(i),++i}function E1(n,i){return n.backgroundColor=n.data.map(()=>Hy(i++)),i}function k1(n,i){return n.backgroundColor=n.data.map(()=>Uy(i++)),i}function P1(n){let i=0;return(e,t)=>{let a=n.getDatasetMeta(t).controller;a instanceof mp?i=E1(e,i):a instanceof Oy?i=k1(e,i):a&&(i=D1(e,i))}}function ay(n){let i;for(i in n)if(n[i].borderColor||n[i].backgroundColor)return!0;return!1}function O1(n){return n&&(n.borderColor||n.backgroundColor)}function A1(){return Te.borderColor!=="rgba(0,0,0,0.1)"||Te.backgroundColor!=="rgba(0,0,0,0.1)"}var T1={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(n,i,e){if(!e.enabled)return;let{data:{datasets:t},options:a}=n.config,{elements:r}=a,o=ay(t)||O1(a)||r&&ay(r)||A1();if(!e.forceOverride&&o)return;let s=P1(n);t.forEach(s)}};function R1(n,i,e,t,a){let r=a.samples||t;if(r>=e)return n.slice(i,i+e);let o=[],s=(e-2)/(r-2),l=0,c=i+e-1,d=i,h,u,p,f,_;for(o[l++]=n[d],h=0;h<r-2;h++){let y=0,x=0,w,S=Math.floor((h+1)*s)+1+i,D=Math.min(Math.floor((h+2)*s)+1,e)+i,M=D-S;for(w=S;w<D;w++)y+=n[w].x,x+=n[w].y;y/=M,x/=M;let k=Math.floor(h*s)+1+i,R=Math.min(Math.floor((h+1)*s)+1,e)+i,{x:P,y:N}=n[d];for(p=f=-1,w=k;w<R;w++)f=.5*Math.abs((P-y)*(n[w].y-N)-(P-n[w].x)*(x-N)),f>p&&(p=f,u=n[w],_=w);o[l++]=u,d=_}return o[l++]=n[c],o}function I1(n,i,e,t){let a=0,r=0,o,s,l,c,d,h,u,p,f,_,y=[],x=i+e-1,w=n[i].x,D=n[x].x-w;for(o=i;o<i+e;++o){s=n[o],l=(s.x-w)/D*t,c=s.y;let M=l|0;if(M===d)c<f?(f=c,h=o):c>_&&(_=c,u=o),a=(r*a+s.x)/++r;else{let k=o-1;if(!me(h)&&!me(u)){let R=Math.min(h,u),P=Math.max(h,u);R!==p&&R!==k&&y.push(be(O({},n[R]),{x:a})),P!==p&&P!==k&&y.push(be(O({},n[P]),{x:a}))}o>0&&k!==p&&y.push(n[k]),y.push(s),d=M,r=0,f=_=c,h=u=p=o}}return y}function Wy(n){if(n._decimated){let i=n._data;delete n._decimated,delete n._data,Object.defineProperty(n,"data",{configurable:!0,enumerable:!0,writable:!0,value:i})}}function ry(n){n.data.datasets.forEach(i=>{Wy(i)})}function F1(n,i){let e=i.length,t=0,a,{iScale:r}=n,{min:o,max:s,minDefined:l,maxDefined:c}=r.getUserBounds();return l&&(t=rt(Ni(i,r.axis,o).lo,0,e-1)),c?a=rt(Ni(i,r.axis,s).hi+1,t,e)-t:a=e-t,{start:t,count:a}}var N1={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(n,i,e)=>{if(!e.enabled){ry(n);return}let t=n.width;n.data.datasets.forEach((a,r)=>{let{_data:o,indexAxis:s}=a,l=n.getDatasetMeta(r),c=o||a.data;if(gr([s,n.options.indexAxis])==="y"||!l.controller.supportsDecimation)return;let d=n.scales[l.xAxisID];if(d.type!=="linear"&&d.type!=="time"||n.options.parsing)return;let{start:h,count:u}=F1(l,c),p=e.threshold||4*t;if(u<=p){Wy(a);return}me(o)&&(a._data=c,delete a.data,Object.defineProperty(a,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(_){this._data=_}}));let f;switch(e.algorithm){case"lttb":f=R1(c,h,u,t,e);break;case"min-max":f=I1(c,h,u,t);break;default:throw new Error(`Unsupported decimation algorithm '${e.algorithm}'`)}a._decimated=f})},destroy(n){ry(n)}};function L1(n,i,e){let t=n.segments,a=n.points,r=i.points,o=[];for(let s of t){let{start:l,end:c}=s;c=Ec(l,c,a);let d=sp(e,a[l],a[c],s.loop);if(!i.segments){o.push({source:s,target:d,start:a[l],end:a[c]});continue}let h=Iu(i,d);for(let u of h){let p=sp(e,r[u.start],r[u.end],u.loop),f=Ru(s,a,p);for(let _ of f)o.push({source:_,target:u,start:{[e]:oy(d,p,"start",Math.max)},end:{[e]:oy(d,p,"end",Math.min)}})}}return o}function sp(n,i,e,t){if(t)return;let a=i[n],r=e[n];return n==="angle"&&(a=ut(a),r=ut(r)),{property:n,start:a,end:r}}function V1(n,i){let{x:e=null,y:t=null}=n||{},a=i.points,r=[];return i.segments.forEach(({start:o,end:s})=>{s=Ec(o,s,a);let l=a[o],c=a[s];t!==null?(r.push({x:l.x,y:t}),r.push({x:c.x,y:t})):e!==null&&(r.push({x:e,y:l.y}),r.push({x:e,y:c.y}))}),r}function Ec(n,i,e){for(;i>n;i--){let t=e[i];if(!isNaN(t.x)&&!isNaN(t.y))break}return i}function oy(n,i,e,t){return n&&i?t(n[e],i[e]):n?n[e]:i?i[e]:0}function $y(n,i){let e=[],t=!1;return Ie(n)?(t=!0,e=n):e=V1(n,i),e.length?new Dc({points:e,options:{tension:0},_loop:t,_fullLoop:t}):null}function sy(n){return n&&n.fill!==!1}function z1(n,i,e){let a=n[i].fill,r=[i],o;if(!e)return a;for(;a!==!1&&r.indexOf(a)===-1;){if(!$e(a))return a;if(o=n[a],!o)return!1;if(o.visible)return a;r.push(a),a=o.fill}return!1}function B1(n,i,e){let t=W1(n);if(fe(t))return isNaN(t.value)?!1:t;let a=parseFloat(t);return $e(a)&&Math.floor(a)===a?j1(t[0],i,a,e):["origin","start","end","stack","shape"].indexOf(t)>=0&&t}function j1(n,i,e,t){return(n==="-"||n==="+")&&(e=i+e),e===i||e<0||e>=t?!1:e}function H1(n,i){let e=null;return n==="start"?e=i.bottom:n==="end"?e=i.top:fe(n)?e=i.getPixelForValue(n.value):i.getBasePixel&&(e=i.getBasePixel()),e}function U1(n,i,e){let t;return n==="start"?t=e:n==="end"?t=i.options.reverse?i.min:i.max:fe(n)?t=n.value:t=i.getBaseValue(),t}function W1(n){let i=n.options,e=i.fill,t=re(e&&e.target,e);return t===void 0&&(t=!!i.backgroundColor),t===!1||t===null?!1:t===!0?"origin":t}function $1(n){let{scale:i,index:e,line:t}=n,a=[],r=t.segments,o=t.points,s=Y1(i,e);s.push($y({x:null,y:i.bottom},t));for(let l=0;l<r.length;l++){let c=r[l];for(let d=c.start;d<=c.end;d++)q1(a,o[d],s)}return new Dc({points:a,options:{}})}function Y1(n,i){let e=[],t=n.getMatchingVisibleMetas("line");for(let a=0;a<t.length;a++){let r=t[a];if(r.index===i)break;r.hidden||e.unshift(r.dataset)}return e}function q1(n,i,e){let t=[];for(let a=0;a<e.length;a++){let r=e[a],{first:o,last:s,point:l}=G1(r,i,"x");if(!(!l||o&&s)){if(o)t.unshift(l);else if(n.push(l),!s)break}}n.push(...t)}function G1(n,i,e){let t=n.interpolate(i,e);if(!t)return{};let a=t[e],r=n.segments,o=n.points,s=!1,l=!1;for(let c=0;c<r.length;c++){let d=r[c],h=o[d.start][e],u=o[d.end][e];if(zi(a,h,u)){s=a===h,l=a===u;break}}return{first:s,last:l,point:t}}var wc=class{constructor(i){this.x=i.x,this.y=i.y,this.radius=i.radius}pathSegment(i,e,t){let{x:a,y:r,radius:o}=this;return e=e||{start:0,end:Fe},i.arc(a,r,o,e.end,e.start,!0),!t.bounds}interpolate(i){let{x:e,y:t,radius:a}=this,r=i.angle;return{x:e+Math.cos(r)*a,y:t+Math.sin(r)*a,angle:r}}};function K1(n){let{chart:i,fill:e,line:t}=n;if($e(e))return Q1(i,e);if(e==="stack")return $1(n);if(e==="shape")return!0;let a=X1(n);return a instanceof wc?a:$y(a,t)}function Q1(n,i){let e=n.getDatasetMeta(i);return e&&n.isDatasetVisible(i)?e.dataset:null}function X1(n){return(n.scale||{}).getPointPositionForValue?J1(n):Z1(n)}function Z1(n){let{scale:i={},fill:e}=n,t=H1(e,i);if($e(t)){let a=i.isHorizontal();return{x:a?t:null,y:a?null:t}}return null}function J1(n){let{scale:i,fill:e}=n,t=i.options,a=i.getLabels().length,r=t.reverse?i.max:i.min,o=U1(e,i,r),s=[];if(t.grid.circular){let l=i.getPointPositionForValue(0,r);return new wc({x:l.x,y:l.y,radius:i.getDistanceFromCenterForValue(o)})}for(let l=0;l<a;++l)s.push(i.getPointPositionForValue(l,o));return s}function $u(n,i,e){let t=K1(i),{chart:a,index:r,line:o,scale:s,axis:l}=i,c=o.options,d=c.fill,h=c.backgroundColor,{above:u=h,below:p=h}=d||{},f=a.getDatasetMeta(r),_=Fu(a,f);t&&o.points.length&&(ko(n,e),eE(n,{line:o,target:t,above:u,below:p,area:e,scale:s,axis:l,clip:_}),Po(n))}function eE(n,i){let{line:e,target:t,above:a,below:r,area:o,scale:s,clip:l}=i,c=e._loop?"angle":i.axis;n.save();let d=r;r!==a&&(c==="x"?(ly(n,t,o.top),Yu(n,{line:e,target:t,color:a,scale:s,property:c,clip:l}),n.restore(),n.save(),ly(n,t,o.bottom)):c==="y"&&(cy(n,t,o.left),Yu(n,{line:e,target:t,color:r,scale:s,property:c,clip:l}),n.restore(),n.save(),cy(n,t,o.right),d=a)),Yu(n,{line:e,target:t,color:d,scale:s,property:c,clip:l}),n.restore()}function ly(n,i,e){let{segments:t,points:a}=i,r=!0,o=!1;n.beginPath();for(let s of t){let{start:l,end:c}=s,d=a[l],h=a[Ec(l,c,a)];r?(n.moveTo(d.x,d.y),r=!1):(n.lineTo(d.x,e),n.lineTo(d.x,d.y)),o=!!i.pathSegment(n,s,{move:o}),o?n.closePath():n.lineTo(h.x,e)}n.lineTo(i.first().x,e),n.closePath(),n.clip()}function cy(n,i,e){let{segments:t,points:a}=i,r=!0,o=!1;n.beginPath();for(let s of t){let{start:l,end:c}=s,d=a[l],h=a[Ec(l,c,a)];r?(n.moveTo(d.x,d.y),r=!1):(n.lineTo(e,d.y),n.lineTo(d.x,d.y)),o=!!i.pathSegment(n,s,{move:o}),o?n.closePath():n.lineTo(e,h.y)}n.lineTo(e,i.first().y),n.closePath(),n.clip()}function Yu(n,i){let{line:e,target:t,property:a,color:r,scale:o,clip:s}=i,l=L1(e,t,a);for(let{source:c,target:d,start:h,end:u}of l){let{style:{backgroundColor:p=r}={}}=c,f=t!==!0;n.save(),n.fillStyle=p,tE(n,o,s,f&&sp(a,h,u)),n.beginPath();let _=!!e.pathSegment(n,c),y;if(f){_?n.closePath():dy(n,t,u,a);let x=!!t.pathSegment(n,d,{move:_,reverse:!0});y=_&&x,y||dy(n,t,h,a)}n.closePath(),n.fill(y?"evenodd":"nonzero"),n.restore()}}function tE(n,i,e,t){let a=i.chart.chartArea,{property:r,start:o,end:s}=t||{};if(r==="x"||r==="y"){let l,c,d,h;r==="x"?(l=o,c=a.top,d=s,h=a.bottom):(l=a.left,c=o,d=a.right,h=s),n.beginPath(),e&&(l=Math.max(l,e.left),d=Math.min(d,e.right),c=Math.max(c,e.top),h=Math.min(h,e.bottom)),n.rect(l,c,d-l,h-c),n.clip()}}function dy(n,i,e,t){let a=i.interpolate(e,t);a&&n.lineTo(a.x,a.y)}var iE={id:"filler",afterDatasetsUpdate(n,i,e){let t=(n.data.datasets||[]).length,a=[],r,o,s,l;for(o=0;o<t;++o)r=n.getDatasetMeta(o),s=r.dataset,l=null,s&&s.options&&s instanceof Dc&&(l={visible:n.isDatasetVisible(o),index:o,fill:B1(s,o,t),chart:n,axis:r.controller.options.indexAxis,scale:r.vScale,line:s}),r.$filler=l,a.push(l);for(o=0;o<t;++o)l=a[o],!(!l||l.fill===!1)&&(l.fill=z1(a,o,e.propagate))},beforeDraw(n,i,e){let t=e.drawTime==="beforeDraw",a=n.getSortedVisibleDatasetMetas(),r=n.chartArea;for(let o=a.length-1;o>=0;--o){let s=a[o].$filler;s&&(s.line.updateControlPoints(r,s.axis),t&&s.fill&&$u(n.ctx,s,r))}},beforeDatasetsDraw(n,i,e){if(e.drawTime!=="beforeDatasetsDraw")return;let t=n.getSortedVisibleDatasetMetas();for(let a=t.length-1;a>=0;--a){let r=t[a].$filler;sy(r)&&$u(n.ctx,r,n.chartArea)}},beforeDatasetDraw(n,i,e){let t=i.meta.$filler;!sy(t)||e.drawTime!=="beforeDatasetDraw"||$u(n.ctx,t,n.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}},hy=(n,i)=>{let{boxHeight:e=i,boxWidth:t=i}=n;return n.usePointStyle&&(e=Math.min(e,i),t=n.pointStyleWidth||Math.min(t,i)),{boxWidth:t,boxHeight:e,itemHeight:Math.max(i,e)}},nE=(n,i)=>n!==null&&i!==null&&n.datasetIndex===i.datasetIndex&&n.index===i.index,Mc=class extends Si{constructor(i){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=i.chart,this.options=i.options,this.ctx=i.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(i,e,t){this.maxWidth=i,this.maxHeight=e,this._margins=t,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){let i=this.options.labels||{},e=Ae(i.generateLabels,[this.chart],this)||[];i.filter&&(e=e.filter(t=>i.filter(t,this.chart.data))),i.sort&&(e=e.sort((t,a)=>i.sort(t,a,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){let{options:i,ctx:e}=this;if(!i.display){this.width=this.height=0;return}let t=i.labels,a=tt(t.font),r=a.size,o=this._computeTitleHeight(),{boxWidth:s,itemHeight:l}=hy(t,r),c,d;e.font=a.string,this.isHorizontal()?(c=this.maxWidth,d=this._fitRows(o,r,s,l)+10):(d=this.maxHeight,c=this._fitCols(o,a,s,l)+10),this.width=Math.min(c,i.maxWidth||this.maxWidth),this.height=Math.min(d,i.maxHeight||this.maxHeight)}_fitRows(i,e,t,a){let{ctx:r,maxWidth:o,options:{labels:{padding:s}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],d=a+s,h=i;r.textAlign="left",r.textBaseline="middle";let u=-1,p=-d;return this.legendItems.forEach((f,_)=>{let y=t+e/2+r.measureText(f.text).width;(_===0||c[c.length-1]+y+2*s>o)&&(h+=d,c[c.length-(_>0?0:1)]=0,p+=d,u++),l[_]={left:0,top:p,row:u,width:y,height:a},c[c.length-1]+=y+s}),h}_fitCols(i,e,t,a){let{ctx:r,maxHeight:o,options:{labels:{padding:s}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],d=o-i,h=s,u=0,p=0,f=0,_=0;return this.legendItems.forEach((y,x)=>{let{itemWidth:w,itemHeight:S}=aE(t,e,r,y,a);x>0&&p+S+2*s>d&&(h+=u+s,c.push({width:u,height:p}),f+=u+s,_++,u=p=0),l[x]={left:f,top:p,col:_,width:w,height:S},u=Math.max(u,w),p+=S+s}),h+=u,c.push({width:u,height:p}),h}adjustHitBoxes(){if(!this.options.display)return;let i=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:t,labels:{padding:a},rtl:r}}=this,o=xa(r,this.left,this.width);if(this.isHorizontal()){let s=0,l=pt(t,this.left+a,this.right-this.lineWidths[s]);for(let c of e)s!==c.row&&(s=c.row,l=pt(t,this.left+a,this.right-this.lineWidths[s])),c.top+=this.top+i+a,c.left=o.leftForLtr(o.x(l),c.width),l+=c.width+a}else{let s=0,l=pt(t,this.top+i+a,this.bottom-this.columnSizes[s].height);for(let c of e)c.col!==s&&(s=c.col,l=pt(t,this.top+i+a,this.bottom-this.columnSizes[s].height)),c.top=l,c.left+=this.left+a,c.left=o.leftForLtr(o.x(c.left),c.width),l+=c.height+a}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){let i=this.ctx;ko(i,this),this._draw(),Po(i)}}_draw(){let{options:i,columnSizes:e,lineWidths:t,ctx:a}=this,{align:r,labels:o}=i,s=Te.color,l=xa(i.rtl,this.left,this.width),c=tt(o.font),{padding:d}=o,h=c.size,u=h/2,p;this.drawTitle(),a.textAlign=l.textAlign("left"),a.textBaseline="middle",a.lineWidth=.5,a.font=c.string;let{boxWidth:f,boxHeight:_,itemHeight:y}=hy(o,h),x=function(k,R,P){if(isNaN(f)||f<=0||isNaN(_)||_<0)return;a.save();let N=re(P.lineWidth,1);if(a.fillStyle=re(P.fillStyle,s),a.lineCap=re(P.lineCap,"butt"),a.lineDashOffset=re(P.lineDashOffset,0),a.lineJoin=re(P.lineJoin,"miter"),a.lineWidth=N,a.strokeStyle=re(P.strokeStyle,s),a.setLineDash(re(P.lineDash,[])),o.usePointStyle){let ne={radius:_*Math.SQRT2/2,pointStyle:P.pointStyle,rotation:P.rotation,borderWidth:N},oe=l.xPlus(k,f/2),se=R+u;wu(a,ne,oe,se,o.pointStyleWidth&&f)}else{let ne=R+Math.max((h-_)/2,0),oe=l.leftForLtr(k,f),se=Nn(P.borderRadius);a.beginPath(),Object.values(se).some(Ke=>Ke!==0)?fr(a,{x:oe,y:ne,w:f,h:_,radius:se}):a.rect(oe,ne,f,_),a.fill(),N!==0&&a.stroke()}a.restore()},w=function(k,R,P){Fn(a,P.text,k,R+y/2,c,{strikethrough:P.hidden,textAlign:l.textAlign(P.textAlign)})},S=this.isHorizontal(),D=this._computeTitleHeight();S?p={x:pt(r,this.left+d,this.right-t[0]),y:this.top+d+D,line:0}:p={x:this.left+d,y:pt(r,this.top+D+d,this.bottom-e[0].height),line:0},Au(this.ctx,i.textDirection);let M=y+d;this.legendItems.forEach((k,R)=>{a.strokeStyle=k.fontColor,a.fillStyle=k.fontColor;let P=a.measureText(k.text).width,N=l.textAlign(k.textAlign||(k.textAlign=o.textAlign)),ne=f+u+P,oe=p.x,se=p.y;l.setWidth(this.width),S?R>0&&oe+ne+d>this.right&&(se=p.y+=M,p.line++,oe=p.x=pt(r,this.left+d,this.right-t[p.line])):R>0&&se+M>this.bottom&&(oe=p.x=oe+e[p.line].width+d,p.line++,se=p.y=pt(r,this.top+D+d,this.bottom-e[p.line].height));let Ke=l.x(oe);if(x(Ke,se,k),oe=hb(N,oe+f+u,S?oe+ne:this.right,i.rtl),w(l.x(oe),se,k),S)p.x+=ne+d;else if(typeof k.text!="string"){let gt=c.lineHeight;p.y+=Yy(k,gt)+d}else p.y+=M}),Tu(this.ctx,i.textDirection)}drawTitle(){let i=this.options,e=i.title,t=tt(e.font),a=mt(e.padding);if(!e.display)return;let r=xa(i.rtl,this.left,this.width),o=this.ctx,s=e.position,l=t.size/2,c=a.top+l,d,h=this.left,u=this.width;if(this.isHorizontal())u=Math.max(...this.lineWidths),d=this.top+c,h=pt(i.align,h,this.right-u);else{let f=this.columnSizes.reduce((_,y)=>Math.max(_,y.height),0);d=c+pt(i.align,this.top,this.bottom-f-i.labels.padding-this._computeTitleHeight())}let p=pt(s,h,h+u);o.textAlign=r.textAlign(nc(s)),o.textBaseline="middle",o.strokeStyle=e.color,o.fillStyle=e.color,o.font=t.string,Fn(o,e.text,p,d,t)}_computeTitleHeight(){let i=this.options.title,e=tt(i.font),t=mt(i.padding);return i.display?e.lineHeight+t.height:0}_getLegendItemAt(i,e){let t,a,r;if(zi(i,this.left,this.right)&&zi(e,this.top,this.bottom)){for(r=this.legendHitBoxes,t=0;t<r.length;++t)if(a=r[t],zi(i,a.left,a.left+a.width)&&zi(e,a.top,a.top+a.height))return this.legendItems[t]}return null}handleEvent(i){let e=this.options;if(!sE(i.type,e))return;let t=this._getLegendItemAt(i.x,i.y);if(i.type==="mousemove"||i.type==="mouseout"){let a=this._hoveredItem,r=nE(a,t);a&&!r&&Ae(e.onLeave,[i,a,this],this),this._hoveredItem=t,t&&!r&&Ae(e.onHover,[i,t,this],this)}else t&&Ae(e.onClick,[i,t,this],this)}};function aE(n,i,e,t,a){let r=rE(t,n,i,e),o=oE(a,t,i.lineHeight);return{itemWidth:r,itemHeight:o}}function rE(n,i,e,t){let a=n.text;return a&&typeof a!="string"&&(a=a.reduce((r,o)=>r.length>o.length?r:o)),i+e.size/2+t.measureText(a).width}function oE(n,i,e){let t=n;return typeof i.text!="string"&&(t=Yy(i,e)),t}function Yy(n,i){let e=n.text?n.text.length:0;return i*e}function sE(n,i){return!!((n==="mousemove"||n==="mouseout")&&(i.onHover||i.onLeave)||i.onClick&&(n==="click"||n==="mouseup"))}var lE={id:"legend",_element:Mc,start(n,i,e){let t=n.legend=new Mc({ctx:n.ctx,options:e,chart:n});wt.configure(n,t,e),wt.addBox(n,t)},stop(n){wt.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,i,e){let t=n.legend;wt.configure(n,t,e),t.options=e},afterUpdate(n){let i=n.legend;i.buildLabels(),i.adjustHitBoxes()},afterEvent(n,i){i.replay||n.legend.handleEvent(i.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,i,e){let t=i.datasetIndex,a=e.chart;a.isDatasetVisible(t)?(a.hide(t),i.hidden=!0):(a.show(t),i.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){let i=n.data.datasets,{labels:{usePointStyle:e,pointStyle:t,textAlign:a,color:r,useBorderRadius:o,borderRadius:s}}=n.legend.options;return n._getSortedDatasetMetas().map(l=>{let c=l.controller.getStyle(e?0:void 0),d=mt(c.borderWidth);return{text:i[l.index].label,fillStyle:c.backgroundColor,fontColor:r,hidden:!l.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(d.width+d.height)/4,strokeStyle:c.borderColor,pointStyle:t||c.pointStyle,rotation:c.rotation,textAlign:a||c.textAlign,borderRadius:o&&(s||c.borderRadius),datasetIndex:l.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}},Vo=class extends Si{constructor(i){super(),this.chart=i.chart,this.options=i.options,this.ctx=i.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(i,e){let t=this.options;if(this.left=0,this.top=0,!t.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=i,this.height=this.bottom=e;let a=Ie(t.text)?t.text.length:1;this._padding=mt(t.padding);let r=a*tt(t.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=r:this.width=r}isHorizontal(){let i=this.options.position;return i==="top"||i==="bottom"}_drawArgs(i){let{top:e,left:t,bottom:a,right:r,options:o}=this,s=o.align,l=0,c,d,h;return this.isHorizontal()?(d=pt(s,t,r),h=e+i,c=r-t):(o.position==="left"?(d=t+i,h=pt(s,a,e),l=ve*-.5):(d=r-i,h=pt(s,e,a),l=ve*.5),c=a-e),{titleX:d,titleY:h,maxWidth:c,rotation:l}}draw(){let i=this.ctx,e=this.options;if(!e.display)return;let t=tt(e.font),r=t.lineHeight/2+this._padding.top,{titleX:o,titleY:s,maxWidth:l,rotation:c}=this._drawArgs(r);Fn(i,e.text,0,0,t,{color:e.color,maxWidth:l,rotation:c,textAlign:nc(e.align),textBaseline:"middle",translation:[o,s]})}};function cE(n,i){let e=new Vo({ctx:n.ctx,options:i,chart:n});wt.configure(n,e,i),wt.addBox(n,e),n.titleBlock=e}var dE={id:"title",_element:Vo,start(n,i,e){cE(n,e)},stop(n){let i=n.titleBlock;wt.removeBox(n,i),delete n.titleBlock},beforeUpdate(n,i,e){let t=n.titleBlock;wt.configure(n,t,e),t.options=e},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}},mc=new WeakMap,hE={id:"subtitle",start(n,i,e){let t=new Vo({ctx:n.ctx,options:e,chart:n});wt.configure(n,t,e),wt.addBox(n,t),mc.set(n,t)},stop(n){wt.removeBox(n,mc.get(n)),mc.delete(n)},beforeUpdate(n,i,e){let t=mc.get(n);wt.configure(n,t,e),t.options=e},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}},No={average(n){if(!n.length)return!1;let i,e,t=new Set,a=0,r=0;for(i=0,e=n.length;i<e;++i){let s=n[i].element;if(s&&s.hasValue()){let l=s.tooltipPosition();t.add(l.x),a+=l.y,++r}}return r===0||t.size===0?!1:{x:[...t].reduce((s,l)=>s+l)/t.size,y:a/r}},nearest(n,i){if(!n.length)return!1;let e=i.x,t=i.y,a=Number.POSITIVE_INFINITY,r,o,s;for(r=0,o=n.length;r<o;++r){let l=n[r].element;if(l&&l.hasValue()){let c=l.getCenterPoint(),d=Zl(i,c);d<a&&(a=d,s=l)}}if(s){let l=s.tooltipPosition();e=l.x,t=l.y}return{x:e,y:t}}};function Bi(n,i){return i&&(Ie(i)?Array.prototype.push.apply(n,i):n.push(i)),n}function cn(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function uE(n,i){let{element:e,datasetIndex:t,index:a}=i,r=n.getDatasetMeta(t).controller,{label:o,value:s}=r.getLabelAndValue(a);return{chart:n,label:o,parsed:r.getParsed(a),raw:n.data.datasets[t].data[a],formattedValue:s,dataset:r.getDataset(),dataIndex:a,datasetIndex:t,element:e}}function uy(n,i){let e=n.chart.ctx,{body:t,footer:a,title:r}=n,{boxWidth:o,boxHeight:s}=i,l=tt(i.bodyFont),c=tt(i.titleFont),d=tt(i.footerFont),h=r.length,u=a.length,p=t.length,f=mt(i.padding),_=f.height,y=0,x=t.reduce((D,M)=>D+M.before.length+M.lines.length+M.after.length,0);if(x+=n.beforeBody.length+n.afterBody.length,h&&(_+=h*c.lineHeight+(h-1)*i.titleSpacing+i.titleMarginBottom),x){let D=i.displayColors?Math.max(s,l.lineHeight):l.lineHeight;_+=p*D+(x-p)*l.lineHeight+(x-1)*i.bodySpacing}u&&(_+=i.footerMarginTop+u*d.lineHeight+(u-1)*i.footerSpacing);let w=0,S=function(D){y=Math.max(y,e.measureText(D).width+w)};return e.save(),e.font=c.string,Pe(n.title,S),e.font=l.string,Pe(n.beforeBody.concat(n.afterBody),S),w=i.displayColors?o+2+i.boxPadding:0,Pe(t,D=>{Pe(D.before,S),Pe(D.lines,S),Pe(D.after,S)}),w=0,e.font=d.string,Pe(n.footer,S),e.restore(),y+=f.width,{width:y,height:_}}function pE(n,i){let{y:e,height:t}=i;return e<t/2?"top":e>n.height-t/2?"bottom":"center"}function mE(n,i,e,t){let{x:a,width:r}=t,o=e.caretSize+e.caretPadding;if(n==="left"&&a+r+o>i.width||n==="right"&&a-r-o<0)return!0}function fE(n,i,e,t){let{x:a,width:r}=e,{width:o,chartArea:{left:s,right:l}}=n,c="center";return t==="center"?c=a<=(s+l)/2?"left":"right":a<=r/2?c="left":a>=o-r/2&&(c="right"),mE(c,n,i,e)&&(c="center"),c}function py(n,i,e){let t=e.yAlign||i.yAlign||pE(n,e);return{xAlign:e.xAlign||i.xAlign||fE(n,i,e,t),yAlign:t}}function gE(n,i){let{x:e,width:t}=n;return i==="right"?e-=t:i==="center"&&(e-=t/2),e}function _E(n,i,e){let{y:t,height:a}=n;return i==="top"?t+=e:i==="bottom"?t-=a+e:t-=a/2,t}function my(n,i,e,t){let{caretSize:a,caretPadding:r,cornerRadius:o}=n,{xAlign:s,yAlign:l}=e,c=a+r,{topLeft:d,topRight:h,bottomLeft:u,bottomRight:p}=Nn(o),f=gE(i,s),_=_E(i,l,c);return l==="center"?s==="left"?f+=c:s==="right"&&(f-=c):s==="left"?f-=Math.max(d,u)+a:s==="right"&&(f+=Math.max(h,p)+a),{x:rt(f,0,t.width-i.width),y:rt(_,0,t.height-i.height)}}function fc(n,i,e){let t=mt(e.padding);return i==="center"?n.x+n.width/2:i==="right"?n.x+n.width-t.right:n.x+t.left}function fy(n){return Bi([],cn(n))}function bE(n,i,e){return sn(n,{tooltip:i,tooltipItems:e,type:"tooltip"})}function gy(n,i){let e=i&&i.dataset&&i.dataset.tooltip&&i.dataset.tooltip.callbacks;return e?n.override(e):n}var qy={beforeTitle:Vi,title(n){if(n.length>0){let i=n[0],e=i.chart.data.labels,t=e?e.length:0;if(this&&this.options&&this.options.mode==="dataset")return i.dataset.label||"";if(i.label)return i.label;if(t>0&&i.dataIndex<t)return e[i.dataIndex]}return""},afterTitle:Vi,beforeBody:Vi,beforeLabel:Vi,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let i=n.dataset.label||"";i&&(i+=": ");let e=n.formattedValue;return me(e)||(i+=e),i},labelColor(n){let e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){let e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:Vi,afterBody:Vi,beforeFooter:Vi,footer:Vi,afterFooter:Vi};function Lt(n,i,e,t){let a=n[i].call(e,t);return typeof a>"u"?qy[i].call(e,t):a}var _y=(()=>{class n extends Si{static positioners=No;constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){let e=this._cachedAnimations;if(e)return e;let t=this.chart,a=this.options.setContext(this.getContext()),r=a.enabled&&t.options.animation&&a.animations,o=new yc(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=bE(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,t){let{callbacks:a}=t,r=Lt(a,"beforeTitle",this,e),o=Lt(a,"title",this,e),s=Lt(a,"afterTitle",this,e),l=[];return l=Bi(l,cn(r)),l=Bi(l,cn(o)),l=Bi(l,cn(s)),l}getBeforeBody(e,t){return fy(Lt(t.callbacks,"beforeBody",this,e))}getBody(e,t){let{callbacks:a}=t,r=[];return Pe(e,o=>{let s={before:[],lines:[],after:[]},l=gy(a,o);Bi(s.before,cn(Lt(l,"beforeLabel",this,o))),Bi(s.lines,Lt(l,"label",this,o)),Bi(s.after,cn(Lt(l,"afterLabel",this,o))),r.push(s)}),r}getAfterBody(e,t){return fy(Lt(t.callbacks,"afterBody",this,e))}getFooter(e,t){let{callbacks:a}=t,r=Lt(a,"beforeFooter",this,e),o=Lt(a,"footer",this,e),s=Lt(a,"afterFooter",this,e),l=[];return l=Bi(l,cn(r)),l=Bi(l,cn(o)),l=Bi(l,cn(s)),l}_createItems(e){let t=this._active,a=this.chart.data,r=[],o=[],s=[],l=[],c,d;for(c=0,d=t.length;c<d;++c)l.push(uE(this.chart,t[c]));return e.filter&&(l=l.filter((h,u,p)=>e.filter(h,u,p,a))),e.itemSort&&(l=l.sort((h,u)=>e.itemSort(h,u,a))),Pe(l,h=>{let u=gy(e.callbacks,h);r.push(Lt(u,"labelColor",this,h)),o.push(Lt(u,"labelPointStyle",this,h)),s.push(Lt(u,"labelTextColor",this,h))}),this.labelColors=r,this.labelPointStyles=o,this.labelTextColors=s,this.dataPoints=l,l}update(e,t){let a=this.options.setContext(this.getContext()),r=this._active,o,s=[];if(!r.length)this.opacity!==0&&(o={opacity:0});else{let l=No[a.position].call(this,r,this._eventPosition);s=this._createItems(a),this.title=this.getTitle(s,a),this.beforeBody=this.getBeforeBody(s,a),this.body=this.getBody(s,a),this.afterBody=this.getAfterBody(s,a),this.footer=this.getFooter(s,a);let c=this._size=uy(this,a),d=Object.assign({},l,c),h=py(this.chart,a,d),u=my(a,d,h,this.chart);this.xAlign=h.xAlign,this.yAlign=h.yAlign,o={opacity:1,x:u.x,y:u.y,width:c.width,height:c.height,caretX:l.x,caretY:l.y}}this._tooltipItems=s,this.$context=void 0,o&&this._resolveAnimations().update(this,o),e&&a.external&&a.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,a,r){let o=this.getCaretPosition(e,a,r);t.lineTo(o.x1,o.y1),t.lineTo(o.x2,o.y2),t.lineTo(o.x3,o.y3)}getCaretPosition(e,t,a){let{xAlign:r,yAlign:o}=this,{caretSize:s,cornerRadius:l}=a,{topLeft:c,topRight:d,bottomLeft:h,bottomRight:u}=Nn(l),{x:p,y:f}=e,{width:_,height:y}=t,x,w,S,D,M,k;return o==="center"?(M=f+y/2,r==="left"?(x=p,w=x-s,D=M+s,k=M-s):(x=p+_,w=x+s,D=M-s,k=M+s),S=x):(r==="left"?w=p+Math.max(c,h)+s:r==="right"?w=p+_-Math.max(d,u)-s:w=this.caretX,o==="top"?(D=f,M=D-s,x=w-s,S=w+s):(D=f+y,M=D+s,x=w+s,S=w-s),k=D),{x1:x,x2:w,x3:S,y1:D,y2:M,y3:k}}drawTitle(e,t,a){let r=this.title,o=r.length,s,l,c;if(o){let d=xa(a.rtl,this.x,this.width);for(e.x=fc(this,a.titleAlign,a),t.textAlign=d.textAlign(a.titleAlign),t.textBaseline="middle",s=tt(a.titleFont),l=a.titleSpacing,t.fillStyle=a.titleColor,t.font=s.string,c=0;c<o;++c)t.fillText(r[c],d.x(e.x),e.y+s.lineHeight/2),e.y+=s.lineHeight+l,c+1===o&&(e.y+=a.titleMarginBottom-l)}}_drawColorBox(e,t,a,r,o){let s=this.labelColors[a],l=this.labelPointStyles[a],{boxHeight:c,boxWidth:d}=o,h=tt(o.bodyFont),u=fc(this,"left",o),p=r.x(u),f=c<h.lineHeight?(h.lineHeight-c)/2:0,_=t.y+f;if(o.usePointStyle){let y={radius:Math.min(d,c)/2,pointStyle:l.pointStyle,rotation:l.rotation,borderWidth:1},x=r.leftForLtr(p,d)+d/2,w=_+c/2;e.strokeStyle=o.multiKeyBackground,e.fillStyle=o.multiKeyBackground,rc(e,y,x,w),e.strokeStyle=s.borderColor,e.fillStyle=s.backgroundColor,rc(e,y,x,w)}else{e.lineWidth=fe(s.borderWidth)?Math.max(...Object.values(s.borderWidth)):s.borderWidth||1,e.strokeStyle=s.borderColor,e.setLineDash(s.borderDash||[]),e.lineDashOffset=s.borderDashOffset||0;let y=r.leftForLtr(p,d),x=r.leftForLtr(r.xPlus(p,1),d-2),w=Nn(s.borderRadius);Object.values(w).some(S=>S!==0)?(e.beginPath(),e.fillStyle=o.multiKeyBackground,fr(e,{x:y,y:_,w:d,h:c,radius:w}),e.fill(),e.stroke(),e.fillStyle=s.backgroundColor,e.beginPath(),fr(e,{x,y:_+1,w:d-2,h:c-2,radius:w}),e.fill()):(e.fillStyle=o.multiKeyBackground,e.fillRect(y,_,d,c),e.strokeRect(y,_,d,c),e.fillStyle=s.backgroundColor,e.fillRect(x,_+1,d-2,c-2))}e.fillStyle=this.labelTextColors[a]}drawBody(e,t,a){let{body:r}=this,{bodySpacing:o,bodyAlign:s,displayColors:l,boxHeight:c,boxWidth:d,boxPadding:h}=a,u=tt(a.bodyFont),p=u.lineHeight,f=0,_=xa(a.rtl,this.x,this.width),y=function(N){t.fillText(N,_.x(e.x+f),e.y+p/2),e.y+=p+o},x=_.textAlign(s),w,S,D,M,k,R,P;for(t.textAlign=s,t.textBaseline="middle",t.font=u.string,e.x=fc(this,x,a),t.fillStyle=a.bodyColor,Pe(this.beforeBody,y),f=l&&x!=="right"?s==="center"?d/2+h:d+2+h:0,M=0,R=r.length;M<R;++M){for(w=r[M],S=this.labelTextColors[M],t.fillStyle=S,Pe(w.before,y),D=w.lines,l&&D.length&&(this._drawColorBox(t,e,M,_,a),p=Math.max(u.lineHeight,c)),k=0,P=D.length;k<P;++k)y(D[k]),p=u.lineHeight;Pe(w.after,y)}f=0,p=u.lineHeight,Pe(this.afterBody,y),e.y-=o}drawFooter(e,t,a){let r=this.footer,o=r.length,s,l;if(o){let c=xa(a.rtl,this.x,this.width);for(e.x=fc(this,a.footerAlign,a),e.y+=a.footerMarginTop,t.textAlign=c.textAlign(a.footerAlign),t.textBaseline="middle",s=tt(a.footerFont),t.fillStyle=a.footerColor,t.font=s.string,l=0;l<o;++l)t.fillText(r[l],c.x(e.x),e.y+s.lineHeight/2),e.y+=s.lineHeight+a.footerSpacing}}drawBackground(e,t,a,r){let{xAlign:o,yAlign:s}=this,{x:l,y:c}=e,{width:d,height:h}=a,{topLeft:u,topRight:p,bottomLeft:f,bottomRight:_}=Nn(r.cornerRadius);t.fillStyle=r.backgroundColor,t.strokeStyle=r.borderColor,t.lineWidth=r.borderWidth,t.beginPath(),t.moveTo(l+u,c),s==="top"&&this.drawCaret(e,t,a,r),t.lineTo(l+d-p,c),t.quadraticCurveTo(l+d,c,l+d,c+p),s==="center"&&o==="right"&&this.drawCaret(e,t,a,r),t.lineTo(l+d,c+h-_),t.quadraticCurveTo(l+d,c+h,l+d-_,c+h),s==="bottom"&&this.drawCaret(e,t,a,r),t.lineTo(l+f,c+h),t.quadraticCurveTo(l,c+h,l,c+h-f),s==="center"&&o==="left"&&this.drawCaret(e,t,a,r),t.lineTo(l,c+u),t.quadraticCurveTo(l,c,l+u,c),t.closePath(),t.fill(),r.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){let t=this.chart,a=this.$animations,r=a&&a.x,o=a&&a.y;if(r||o){let s=No[e.position].call(this,this._active,this._eventPosition);if(!s)return;let l=this._size=uy(this,e),c=Object.assign({},s,this._size),d=py(t,e,c),h=my(e,c,d,t);(r._to!==h.x||o._to!==h.y)&&(this.xAlign=d.xAlign,this.yAlign=d.yAlign,this.width=l.width,this.height=l.height,this.caretX=s.x,this.caretY=s.y,this._resolveAnimations().update(this,h))}}_willRender(){return!!this.opacity}draw(e){let t=this.options.setContext(this.getContext()),a=this.opacity;if(!a)return;this._updateAnimationTarget(t);let r={width:this.width,height:this.height},o={x:this.x,y:this.y};a=Math.abs(a)<.001?0:a;let s=mt(t.padding),l=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&l&&(e.save(),e.globalAlpha=a,this.drawBackground(o,e,r,t),Au(e,t.textDirection),o.y+=s.top,this.drawTitle(o,e,t),this.drawBody(o,e,t),this.drawFooter(o,e,t),Tu(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){let a=this._active,r=e.map(({datasetIndex:l,index:c})=>{let d=this.chart.getDatasetMeta(l);if(!d)throw new Error("Cannot find a dataset at index "+l);return{datasetIndex:l,element:d.data[c],index:c}}),o=!Do(a,r),s=this._positionChanged(r,t);(o||s)&&(this._active=r,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t,a=!0){if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;let r=this.options,o=this._active||[],s=this._getActiveElements(e,o,t,a),l=this._positionChanged(s,e),c=t||!Do(s,o)||l;return c&&(this._active=s,(r.enabled||r.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),c}_getActiveElements(e,t,a,r){let o=this.options;if(e.type==="mouseout")return[];if(!r)return t.filter(l=>this.chart.data.datasets[l.datasetIndex]&&this.chart.getDatasetMeta(l.datasetIndex).controller.getParsed(l.index)!==void 0);let s=this.chart.getElementsAtEventForMode(e,o.mode,o,a);return o.reverse&&s.reverse(),s}_positionChanged(e,t){let{caretX:a,caretY:r,options:o}=this,s=No[o.position].call(this,e,t);return s!==!1&&(a!==s.x||r!==s.y)}}return n})(),yE={id:"tooltip",_element:_y,positioners:No,afterInit(n,i,e){e&&(n.tooltip=new _y({chart:n,options:e}))},beforeUpdate(n,i,e){n.tooltip&&n.tooltip.initialize(e)},reset(n,i,e){n.tooltip&&n.tooltip.initialize(e)},afterDraw(n){let i=n.tooltip;if(i&&i._willRender()){let e={tooltip:i};if(n.notifyPlugins("beforeTooltipDraw",be(O({},e),{cancelable:!0}))===!1)return;i.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",e)}},afterEvent(n,i){if(n.tooltip){let e=i.replay;n.tooltip.handleEvent(i.event,e,i.inChartArea)&&(i.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,i)=>i.bodyFont.size,boxWidth:(n,i)=>i.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:qy},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},vE=Object.freeze({__proto__:null,Colors:T1,Decimation:N1,Filler:iE,Legend:lE,SubTitle:hE,Title:dE,Tooltip:yE}),CE=(n,i,e,t)=>(typeof i=="string"?(e=n.push(i)-1,t.unshift({index:e,label:i})):isNaN(i)&&(e=null),e);function xE(n,i,e,t){let a=n.indexOf(i);if(a===-1)return CE(n,i,e,t);let r=n.lastIndexOf(i);return a!==r?e:a}var wE=(n,i)=>n===null?null:rt(Math.round(n),0,i);function by(n){let i=this.getLabels();return n>=0&&n<i.length?i[n]:n}var ME=(()=>{class n extends Sa{static id="category";static defaults={ticks:{callback:by}};constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){let t=this._addedLabels;if(t.length){let a=this.getLabels();for(let{index:r,label:o}of t)a[r]===o&&a.splice(r,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(me(e))return null;let a=this.getLabels();return t=isFinite(t)&&a[t]===e?t:xE(a,e,re(t,e),this._addedLabels),wE(t,a.length-1)}determineDataLimits(){let{minDefined:e,maxDefined:t}=this.getUserBounds(),{min:a,max:r}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(a=0),t||(r=this.getLabels().length-1)),this.min=a,this.max=r}buildTicks(){let e=this.min,t=this.max,a=this.options.offset,r=[],o=this.getLabels();o=e===0&&t===o.length-1?o:o.slice(e,t+1),this._valueRange=Math.max(o.length-(a?0:1),1),this._startValue=this.min-(a?.5:0);for(let s=e;s<=t;s++)r.push({value:s});return r}getLabelForValue(e){return by.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){let t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}return n})();function SE(n,i){let e=[],{bounds:a,step:r,min:o,max:s,precision:l,count:c,maxTicks:d,maxDigits:h,includeBounds:u}=n,p=r||1,f=d-1,{min:_,max:y}=i,x=!me(o),w=!me(s),S=!me(c),D=(y-_)/(h+1),M=du((y-_)/f/p)*p,k,R,P,N;if(M<1e-14&&!x&&!w)return[{value:_},{value:y}];N=Math.ceil(y/M)-Math.floor(_/M),N>f&&(M=du(N*M/f/p)*p),me(l)||(k=Math.pow(10,l),M=Math.ceil(M*k)/k),a==="ticks"?(R=Math.floor(_/M)*M,P=Math.ceil(y/M)*M):(R=_,P=y),x&&w&&r&&ab((s-o)/r,M/1e3)?(N=Math.round(Math.min((s-o)/M,d)),M=(s-o)/N,R=o,P=s):S?(R=x?o:R,P=w?s:P,N=c-1,M=(P-R)/N):(N=(P-R)/M,ur(N,Math.round(N),M/1e3)?N=Math.round(N):N=Math.ceil(N));let ne=Math.max(uu(M),uu(R));k=Math.pow(10,me(l)?ne:l),R=Math.round(R*k)/k,P=Math.round(P*k)/k;let oe=0;for(x&&(u&&R!==o?(e.push({value:o}),R<o&&oe++,ur(Math.round((R+oe*M)*k)/k,o,yy(o,D,n))&&oe++):R<o&&oe++);oe<N;++oe){let se=Math.round((R+oe*M)*k)/k;if(w&&se>s)break;e.push({value:se})}return w&&u&&P!==s?e.length&&ur(e[e.length-1].value,s,yy(s,D,n))?e[e.length-1].value=s:e.push({value:s}):(!w||P===s)&&e.push({value:P}),e}function yy(n,i,{horizontal:e,minRotation:t}){let a=pi(t),r=(e?Math.sin(a):Math.cos(a))||.001,o=.75*i*(""+n).length;return Math.min(i/r,o)}var yr=class extends Sa{constructor(i){super(i),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(i,e){return me(i)||(typeof i=="number"||i instanceof Number)&&!isFinite(+i)?null:+i}handleTickRangeOptions(){let{beginAtZero:i}=this.options,{minDefined:e,maxDefined:t}=this.getUserBounds(),{min:a,max:r}=this,o=l=>a=e?a:l,s=l=>r=t?r:l;if(i){let l=Mi(a),c=Mi(r);l<0&&c<0?s(0):l>0&&c>0&&o(0)}if(a===r){let l=r===0?1:Math.abs(r*.05);s(r+l),i||o(a-l)}this.min=a,this.max=r}getTickLimit(){let i=this.options.ticks,{maxTicksLimit:e,stepSize:t}=i,a;return t?(a=Math.ceil(this.max/t)-Math.floor(this.min/t)+1,a>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${t} would result generating up to ${a} ticks. Limiting to 1000.`),a=1e3)):(a=this.computeTickLimit(),e=e||11),e&&(a=Math.min(e,a)),a}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){let i=this.options,e=i.ticks,t=this.getTickLimit();t=Math.max(2,t);let a={maxTicks:t,bounds:i.bounds,min:i.min,max:i.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:e.includeBounds!==!1},r=this._range||this,o=SE(a,r);return i.bounds==="ticks"&&hu(o,this,"value"),i.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){let i=this.ticks,e=this.min,t=this.max;if(super.configure(),this.options.offset&&i.length){let a=(t-e)/Math.max(i.length-1,1)/2;e-=a,t+=a}this._startValue=e,this._endValue=t,this._valueRange=t-e}getLabelForValue(i){return mr(i,this.chart.options.locale,this.options.ticks.format)}},lp=class extends yr{static id="linear";static defaults={ticks:{callback:Eo.formatters.numeric}};determineDataLimits(){let{min:i,max:e}=this.getMinMax(!0);this.min=$e(i)?i:0,this.max=$e(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){let i=this.isHorizontal(),e=i?this.width:this.height,t=pi(this.options.ticks.minRotation),a=(i?Math.sin(t):Math.cos(t))||.001,r=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,r.lineHeight/a))}getPixelForValue(i){return i===null?NaN:this.getPixelForDecimal((i-this._startValue)/this._valueRange)}getValueForPixel(i){return this._startValue+this.getDecimalForPixel(i)*this._valueRange}},zo=n=>Math.floor(rn(n)),Ma=(n,i)=>Math.pow(10,zo(n)+i);function vy(n){return n/Math.pow(10,zo(n))===1}function Cy(n,i,e){let t=Math.pow(10,e),a=Math.floor(n/t);return Math.ceil(i/t)-a}function DE(n,i){let e=i-n,t=zo(e);for(;Cy(n,i,t)>10;)t++;for(;Cy(n,i,t)<10;)t--;return Math.min(t,zo(n))}function EE(n,{min:i,max:e}){i=Nt(n.min,i);let t=[],a=zo(i),r=DE(i,e),o=r<0?Math.pow(10,Math.abs(r)):1,s=Math.pow(10,r),l=a>r?Math.pow(10,a):0,c=Math.round((i-l)*o)/o,d=Math.floor((i-l)/s/10)*s*10,h=Math.floor((c-d)/Math.pow(10,r)),u=Nt(n.min,Math.round((l+d+h*Math.pow(10,r))*o)/o);for(;u<e;)t.push({value:u,major:vy(u),significand:h}),h>=10?h=h<15?15:20:h++,h>=20&&(r++,h=2,o=r>=0?1:o),u=Math.round((l+d+h*Math.pow(10,r))*o)/o;let p=Nt(n.max,u);return t.push({value:p,major:vy(p),significand:h}),t}var cp=class extends Sa{static id="logarithmic";static defaults={ticks:{callback:Eo.formatters.logarithmic,major:{enabled:!0}}};constructor(i){super(i),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(i,e){let t=yr.prototype.parse.apply(this,[i,e]);if(t===0){this._zero=!0;return}return $e(t)&&t>0?t:null}determineDataLimits(){let{min:i,max:e}=this.getMinMax(!0);this.min=$e(i)?Math.max(0,i):null,this.max=$e(e)?Math.max(0,e):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!$e(this._userMin)&&(this.min=i===Ma(this.min,0)?Ma(this.min,-1):Ma(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){let{minDefined:i,maxDefined:e}=this.getUserBounds(),t=this.min,a=this.max,r=s=>t=i?t:s,o=s=>a=e?a:s;t===a&&(t<=0?(r(1),o(10)):(r(Ma(t,-1)),o(Ma(a,1)))),t<=0&&r(Ma(a,-1)),a<=0&&o(Ma(t,1)),this.min=t,this.max=a}buildTicks(){let i=this.options,e={min:this._userMin,max:this._userMax},t=EE(e,this);return i.bounds==="ticks"&&hu(t,this,"value"),i.reverse?(t.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),t}getLabelForValue(i){return i===void 0?"0":mr(i,this.chart.options.locale,this.options.ticks.format)}configure(){let i=this.min;super.configure(),this._startValue=rn(i),this._valueRange=rn(this.max)-rn(i)}getPixelForValue(i){return(i===void 0||i===0)&&(i=this.min),i===null||isNaN(i)?NaN:this.getPixelForDecimal(i===this.min?0:(rn(i)-this._startValue)/this._valueRange)}getValueForPixel(i){let e=this.getDecimalForPixel(i);return Math.pow(10,this._startValue+e*this._valueRange)}};function dp(n){let i=n.ticks;if(i.display&&n.display){let e=mt(i.backdropPadding);return re(i.font&&i.font.size,Te.font.size)+e.height}return 0}function kE(n,i,e){return e=Ie(e)?e:[e],{w:pb(n,i.string,e),h:e.length*i.lineHeight}}function xy(n,i,e,t,a){return n===t||n===a?{start:i-e/2,end:i+e/2}:n<t||n>a?{start:i-e,end:i}:{start:i,end:i+e}}function PE(n){let i={l:n.left+n._padding.left,r:n.right-n._padding.right,t:n.top+n._padding.top,b:n.bottom-n._padding.bottom},e=Object.assign({},i),t=[],a=[],r=n._pointLabels.length,o=n.options.pointLabels,s=o.centerPointLabels?ve/r:0;for(let l=0;l<r;l++){let c=o.setContext(n.getPointLabelContext(l));a[l]=c.padding;let d=n.getPointPosition(l,n.drawingArea+a[l],s),h=tt(c.font),u=kE(n.ctx,h,n._pointLabels[l]);t[l]=u;let p=ut(n.getIndexAngle(l)+s),f=Math.round(tc(p)),_=xy(f,d.x,u.w,0,180),y=xy(f,d.y,u.h,90,270);OE(e,i,p,_,y)}n.setCenterPoint(i.l-e.l,e.r-i.r,i.t-e.t,e.b-i.b),n._pointLabelItems=RE(n,t,a)}function OE(n,i,e,t,a){let r=Math.abs(Math.sin(e)),o=Math.abs(Math.cos(e)),s=0,l=0;t.start<i.l?(s=(i.l-t.start)/r,n.l=Math.min(n.l,i.l-s)):t.end>i.r&&(s=(t.end-i.r)/r,n.r=Math.max(n.r,i.r+s)),a.start<i.t?(l=(i.t-a.start)/o,n.t=Math.min(n.t,i.t-l)):a.end>i.b&&(l=(a.end-i.b)/o,n.b=Math.max(n.b,i.b+l))}function AE(n,i,e){let t=n.drawingArea,{extra:a,additionalAngle:r,padding:o,size:s}=e,l=n.getPointPosition(i,t+a+o,r),c=Math.round(tc(ut(l.angle+Ge))),d=NE(l.y,s.h,c),h=IE(c),u=FE(l.x,s.w,h);return{visible:!0,x:l.x,y:d,textAlign:h,left:u,top:d,right:u+s.w,bottom:d+s.h}}function TE(n,i){if(!i)return!0;let{left:e,top:t,right:a,bottom:r}=n;return!(Li({x:e,y:t},i)||Li({x:e,y:r},i)||Li({x:a,y:t},i)||Li({x:a,y:r},i))}function RE(n,i,e){let t=[],a=n._pointLabels.length,r=n.options,{centerPointLabels:o,display:s}=r.pointLabels,l={extra:dp(r)/2,additionalAngle:o?ve/a:0},c;for(let d=0;d<a;d++){l.padding=e[d],l.size=i[d];let h=AE(n,d,l);t.push(h),s==="auto"&&(h.visible=TE(h,c),h.visible&&(c=h))}return t}function IE(n){return n===0||n===180?"center":n<180?"left":"right"}function FE(n,i,e){return e==="right"?n-=i:e==="center"&&(n-=i/2),n}function NE(n,i,e){return e===90||e===270?n-=i/2:(e>270||e<90)&&(n-=i),n}function LE(n,i,e){let{left:t,top:a,right:r,bottom:o}=e,{backdropColor:s}=i;if(!me(s)){let l=Nn(i.borderRadius),c=mt(i.backdropPadding);n.fillStyle=s;let d=t-c.left,h=a-c.top,u=r-t+c.width,p=o-a+c.height;Object.values(l).some(f=>f!==0)?(n.beginPath(),fr(n,{x:d,y:h,w:u,h:p,radius:l}),n.fill()):n.fillRect(d,h,u,p)}}function VE(n,i){let{ctx:e,options:{pointLabels:t}}=n;for(let a=i-1;a>=0;a--){let r=n._pointLabelItems[a];if(!r.visible)continue;let o=t.setContext(n.getPointLabelContext(a));LE(e,o,r);let s=tt(o.font),{x:l,y:c,textAlign:d}=r;Fn(e,n._pointLabels[a],l,c+s.lineHeight/2,s,{color:o.color,textAlign:d,textBaseline:"middle"})}}function Gy(n,i,e,t){let{ctx:a}=n;if(e)a.arc(n.xCenter,n.yCenter,i,0,Fe);else{let r=n.getPointPosition(0,i);a.moveTo(r.x,r.y);for(let o=1;o<t;o++)r=n.getPointPosition(o,i),a.lineTo(r.x,r.y)}}function zE(n,i,e,t,a){let r=n.ctx,o=i.circular,{color:s,lineWidth:l}=i;!o&&!t||!s||!l||e<0||(r.save(),r.strokeStyle=s,r.lineWidth=l,r.setLineDash(a.dash||[]),r.lineDashOffset=a.dashOffset,r.beginPath(),Gy(n,e,o,t),r.closePath(),r.stroke(),r.restore())}function BE(n,i,e){return sn(n,{label:e,index:i,type:"pointLabel"})}var hp=class extends yr{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Eo.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(i){return i},padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(i){super(i),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){let i=this._padding=mt(dp(this.options)/2),e=this.width=this.maxWidth-i.width,t=this.height=this.maxHeight-i.height;this.xCenter=Math.floor(this.left+e/2+i.left),this.yCenter=Math.floor(this.top+t/2+i.top),this.drawingArea=Math.floor(Math.min(e,t)/2)}determineDataLimits(){let{min:i,max:e}=this.getMinMax(!1);this.min=$e(i)&&!isNaN(i)?i:0,this.max=$e(e)&&!isNaN(e)?e:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/dp(this.options))}generateTickLabels(i){yr.prototype.generateTickLabels.call(this,i),this._pointLabels=this.getLabels().map((e,t)=>{let a=Ae(this.options.pointLabels.callback,[e,t],this);return a||a===0?a:""}).filter((e,t)=>this.chart.getDataVisibility(t))}fit(){let i=this.options;i.display&&i.pointLabels.display?PE(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(i,e,t,a){this.xCenter+=Math.floor((i-e)/2),this.yCenter+=Math.floor((t-a)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(i,e,t,a))}getIndexAngle(i){let e=Fe/(this._pointLabels.length||1),t=this.options.startAngle||0;return ut(i*e+pi(t))}getDistanceFromCenterForValue(i){if(me(i))return NaN;let e=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-i)*e:(i-this.min)*e}getValueForDistanceFromCenter(i){if(me(i))return NaN;let e=i/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-e:this.min+e}getPointLabelContext(i){let e=this._pointLabels||[];if(i>=0&&i<e.length){let t=e[i];return BE(this.getContext(),i,t)}}getPointPosition(i,e,t=0){let a=this.getIndexAngle(i)-Ge+t;return{x:Math.cos(a)*e+this.xCenter,y:Math.sin(a)*e+this.yCenter,angle:a}}getPointPositionForValue(i,e){return this.getPointPosition(i,this.getDistanceFromCenterForValue(e))}getBasePosition(i){return this.getPointPositionForValue(i||0,this.getBaseValue())}getPointLabelPosition(i){let{left:e,top:t,right:a,bottom:r}=this._pointLabelItems[i];return{left:e,top:t,right:a,bottom:r}}drawBackground(){let{backgroundColor:i,grid:{circular:e}}=this.options;if(i){let t=this.ctx;t.save(),t.beginPath(),Gy(this,this.getDistanceFromCenterForValue(this._endValue),e,this._pointLabels.length),t.closePath(),t.fillStyle=i,t.fill(),t.restore()}}drawGrid(){let i=this.ctx,e=this.options,{angleLines:t,grid:a,border:r}=e,o=this._pointLabels.length,s,l,c;if(e.pointLabels.display&&VE(this,o),a.display&&this.ticks.forEach((d,h)=>{if(h!==0||h===0&&this.min<0){l=this.getDistanceFromCenterForValue(d.value);let u=this.getContext(h),p=a.setContext(u),f=r.setContext(u);zE(this,p,l,o,f)}}),t.display){for(i.save(),s=o-1;s>=0;s--){let d=t.setContext(this.getPointLabelContext(s)),{color:h,lineWidth:u}=d;!u||!h||(i.lineWidth=u,i.strokeStyle=h,i.setLineDash(d.borderDash),i.lineDashOffset=d.borderDashOffset,l=this.getDistanceFromCenterForValue(e.reverse?this.min:this.max),c=this.getPointPosition(s,l),i.beginPath(),i.moveTo(this.xCenter,this.yCenter),i.lineTo(c.x,c.y),i.stroke())}i.restore()}}drawBorder(){}drawLabels(){let i=this.ctx,e=this.options,t=e.ticks;if(!t.display)return;let a=this.getIndexAngle(0),r,o;i.save(),i.translate(this.xCenter,this.yCenter),i.rotate(a),i.textAlign="center",i.textBaseline="middle",this.ticks.forEach((s,l)=>{if(l===0&&this.min>=0&&!e.reverse)return;let c=t.setContext(this.getContext(l)),d=tt(c.font);if(r=this.getDistanceFromCenterForValue(this.ticks[l].value),c.showLabelBackdrop){i.font=d.string,o=i.measureText(s.label).width,i.fillStyle=c.backdropColor;let h=mt(c.backdropPadding);i.fillRect(-o/2-h.left,-r-d.size/2-h.top,o+h.width,d.size+h.height)}Fn(i,s.label,0,-r,d,{color:c.color,strokeColor:c.textStrokeColor,strokeWidth:c.textStrokeWidth})}),i.restore()}drawTitle(){}},kc={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Vt=Object.keys(kc);function wy(n,i){return n-i}function My(n,i){if(me(i))return null;let e=n._adapter,{parser:t,round:a,isoWeekday:r}=n._parseOpts,o=i;return typeof t=="function"&&(o=t(o)),$e(o)||(o=typeof t=="string"?e.parse(o,t):e.parse(o)),o===null?null:(a&&(o=a==="week"&&(Ca(r)||r===!0)?e.startOf(o,"isoWeek",r):e.startOf(o,a)),+o)}function Sy(n,i,e,t){let a=Vt.length;for(let r=Vt.indexOf(n);r<a-1;++r){let o=kc[Vt[r]],s=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((e-i)/(s*o.size))<=t)return Vt[r]}return Vt[a-1]}function jE(n,i,e,t,a){for(let r=Vt.length-1;r>=Vt.indexOf(e);r--){let o=Vt[r];if(kc[o].common&&n._adapter.diff(a,t,o)>=i-1)return o}return Vt[e?Vt.indexOf(e):0]}function HE(n){for(let i=Vt.indexOf(n)+1,e=Vt.length;i<e;++i)if(kc[Vt[i]].common)return Vt[i]}function Dy(n,i,e){if(!e)n[i]=!0;else if(e.length){let{lo:t,hi:a}=ic(e,i),r=e[t]>=i?e[t]:e[a];n[r]=!0}}function UE(n,i,e,t){let a=n._adapter,r=+a.startOf(i[0].value,t),o=i[i.length-1].value,s,l;for(s=r;s<=o;s=+a.add(s,1,t))l=e[s],l>=0&&(i[l].major=!0);return i}function Ey(n,i,e){let t=[],a={},r=i.length,o,s;for(o=0;o<r;++o)s=i[o],a[s]=o,t.push({value:s,major:!1});return r===0||!e?t:UE(n,t,a,e)}var up=(()=>{class n extends Sa{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,t={}){let a=e.time||(e.time={}),r=this._adapter=new eD._date(e.adapters.date);r.init(t),dr(a.displayFormats,r.formats()),this._parseOpts={parser:a.parser,round:a.round,isoWeekday:a.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return e===void 0?null:My(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){let e=this.options,t=this._adapter,a=e.time.unit||"day",{min:r,max:o,minDefined:s,maxDefined:l}=this.getUserBounds();function c(d){!s&&!isNaN(d.min)&&(r=Math.min(r,d.min)),!l&&!isNaN(d.max)&&(o=Math.max(o,d.max))}(!s||!l)&&(c(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&c(this.getMinMax(!1))),r=$e(r)&&!isNaN(r)?r:+t.startOf(Date.now(),a),o=$e(o)&&!isNaN(o)?o:+t.endOf(Date.now(),a)+1,this.min=Math.min(r,o-1),this.max=Math.max(r+1,o)}_getLabelBounds(){let e=this.getLabelTimestamps(),t=Number.POSITIVE_INFINITY,a=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],a=e[e.length-1]),{min:t,max:a}}buildTicks(){let e=this.options,t=e.time,a=e.ticks,r=a.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);let o=this.min,s=this.max,l=sb(r,o,s);return this._unit=t.unit||(a.autoSkip?Sy(t.minUnit,this.min,this.max,this._getLabelCapacity(o)):jE(this,l.length,t.minUnit,this.min,this.max)),this._majorUnit=!a.major.enabled||this._unit==="year"?void 0:HE(this._unit),this.initOffsets(r),e.reverse&&l.reverse(),Ey(this,l,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let t=0,a=0,r,o;this.options.offset&&e.length&&(r=this.getDecimalForValue(e[0]),e.length===1?t=1-r:t=(this.getDecimalForValue(e[1])-r)/2,o=this.getDecimalForValue(e[e.length-1]),e.length===1?a=o:a=(o-this.getDecimalForValue(e[e.length-2]))/2);let s=e.length<3?.5:.25;t=rt(t,0,s),a=rt(a,0,s),this._offsets={start:t,end:a,factor:1/(t+1+a)}}_generate(){let e=this._adapter,t=this.min,a=this.max,r=this.options,o=r.time,s=o.unit||Sy(o.minUnit,t,a,this._getLabelCapacity(t)),l=re(r.ticks.stepSize,1),c=s==="week"?o.isoWeekday:!1,d=Ca(c)||c===!0,h={},u=t,p,f;if(d&&(u=+e.startOf(u,"isoWeek",c)),u=+e.startOf(u,d?"day":s),e.diff(a,t,s)>1e5*l)throw new Error(t+" and "+a+" are too far apart with stepSize of "+l+" "+s);let _=r.ticks.source==="data"&&this.getDataTimestamps();for(p=u,f=0;p<a;p=+e.add(p,l,s),f++)Dy(h,p,_);return(p===a||r.bounds==="ticks"||f===1)&&Dy(h,p,_),Object.keys(h).sort(wy).map(y=>+y)}getLabelForValue(e){let t=this._adapter,a=this.options.time;return a.tooltipFormat?t.format(e,a.tooltipFormat):t.format(e,a.displayFormats.datetime)}format(e,t){let r=this.options.time.displayFormats,o=this._unit,s=t||r[o];return this._adapter.format(e,s)}_tickFormatFunction(e,t,a,r){let o=this.options,s=o.ticks.callback;if(s)return Ae(s,[e,t,a],this);let l=o.time.displayFormats,c=this._unit,d=this._majorUnit,h=c&&l[c],u=d&&l[d],p=a[t],f=d&&u&&p&&p.major;return this._adapter.format(e,r||(f?u:h))}generateTickLabels(e){let t,a,r;for(t=0,a=e.length;t<a;++t)r=e[t],r.label=this._tickFormatFunction(r.value,t,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){let t=this._offsets,a=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+a)*t.factor)}getValueForPixel(e){let t=this._offsets,a=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+a*(this.max-this.min)}_getLabelSize(e){let t=this.options.ticks,a=this.ctx.measureText(e).width,r=pi(this.isHorizontal()?t.maxRotation:t.minRotation),o=Math.cos(r),s=Math.sin(r),l=this._resolveTickFontOptions(0).size;return{w:a*o+l*s,h:a*s+l*o}}_getLabelCapacity(e){let t=this.options.time,a=t.displayFormats,r=a[t.unit]||a.millisecond,o=this._tickFormatFunction(e,0,Ey(this,[e],this._majorUnit),r),s=this._getLabelSize(o),l=Math.floor(this.isHorizontal()?this.width/s.w:this.height/s.h)-1;return l>0?l:1}getDataTimestamps(){let e=this._cache.data||[],t,a;if(e.length)return e;let r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(t=0,a=r.length;t<a;++t)e=e.concat(r[t].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){let e=this._cache.labels||[],t,a;if(e.length)return e;let r=this.getLabels();for(t=0,a=r.length;t<a;++t)e.push(My(this,r[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return fu(e.sort(wy))}}return n})();function gc(n,i,e){let t=0,a=n.length-1,r,o,s,l;e?(i>=n[t].pos&&i<=n[a].pos&&({lo:t,hi:a}=Ni(n,"pos",i)),{pos:r,time:s}=n[t],{pos:o,time:l}=n[a]):(i>=n[t].time&&i<=n[a].time&&({lo:t,hi:a}=Ni(n,"time",i)),{time:r,pos:s}=n[t],{time:o,pos:l}=n[a]);let c=o-r;return c?s+(l-s)*(i-r)/c:s}var pp=class extends up{static id="timeseries";static defaults=up.defaults;constructor(i){super(i),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){let i=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(i);this._minPos=gc(e,this.min),this._tableRange=gc(e,this.max)-this._minPos,super.initOffsets(i)}buildLookupTable(i){let{min:e,max:t}=this,a=[],r=[],o,s,l,c,d;for(o=0,s=i.length;o<s;++o)c=i[o],c>=e&&c<=t&&a.push(c);if(a.length<2)return[{time:e,pos:0},{time:t,pos:1}];for(o=0,s=a.length;o<s;++o)d=a[o+1],l=a[o-1],c=a[o],Math.round((d+l)/2)!==c&&r.push({time:c,pos:o/(s-1)});return r}_generate(){let i=this.min,e=this.max,t=super.getDataTimestamps();return(!t.includes(i)||!t.length)&&t.splice(0,0,i),(!t.includes(e)||t.length===1)&&t.push(e),t.sort((a,r)=>a-r)}_getTimestampsForTable(){let i=this._cache.all||[];if(i.length)return i;let e=this.getDataTimestamps(),t=this.getLabelTimestamps();return e.length&&t.length?i=this.normalize(e.concat(t)):i=e.length?e:t,i=this._cache.all=i,i}getDecimalForValue(i){return(gc(this._table,i)-this._minPos)/this._tableRange}getValueForPixel(i){let e=this._offsets,t=this.getDecimalForPixel(i)/e.factor-e.end;return gc(this._table,t*this._tableRange+this._minPos,!0)}},WE=Object.freeze({__proto__:null,CategoryScale:ME,LinearScale:lp,LogarithmicScale:cp,RadialLinearScale:hp,TimeScale:up,TimeSeriesScale:pp}),Ky=[JS,S1,vE,WE];var $E=typeof global=="object"&&global&&global.Object===Object&&global,Pc=$E;var YE=typeof self=="object"&&self&&self.Object===Object&&self,qE=Pc||YE||Function("return this")(),mi=qE;var GE=mi.Symbol,vr=GE;var Qy=Object.prototype,KE=Qy.hasOwnProperty,QE=Qy.toString,jo=vr?vr.toStringTag:void 0;function XE(n){var i=KE.call(n,jo),e=n[jo];try{n[jo]=void 0;var t=!0}catch{}var a=QE.call(n);return t&&(i?n[jo]=e:delete n[jo]),a}var Xy=XE;var ZE=Object.prototype,JE=ZE.toString;function ek(n){return JE.call(n)}var Zy=ek;var tk="[object Null]",ik="[object Undefined]",Jy=vr?vr.toStringTag:void 0;function nk(n){return n==null?n===void 0?ik:tk:Jy&&Jy in Object(n)?Xy(n):Zy(n)}var Bn=nk;function ak(n){return n!=null&&typeof n=="object"}var Hi=ak;var rk=Array.isArray,Ho=rk;function ok(n){var i=typeof n;return n!=null&&(i=="object"||i=="function")}var zt=ok;function sk(n){return n}var Oc=sk;var lk="[object AsyncFunction]",ck="[object Function]",dk="[object GeneratorFunction]",hk="[object Proxy]";function uk(n){if(!zt(n))return!1;var i=Bn(n);return i==ck||i==dk||i==lk||i==hk}var Cr=uk;var pk=mi["__core-js_shared__"],Ac=pk;var e0=(function(){var n=/[^.]+$/.exec(Ac&&Ac.keys&&Ac.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""})();function mk(n){return!!e0&&e0 in n}var t0=mk;var fk=Function.prototype,gk=fk.toString;function _k(n){if(n!=null){try{return gk.call(n)}catch{}try{return n+""}catch{}}return""}var i0=_k;var bk=/[\\^$.*+?()[\]{}|]/g,yk=/^\[object .+?Constructor\]$/,vk=Function.prototype,Ck=Object.prototype,xk=vk.toString,wk=Ck.hasOwnProperty,Mk=RegExp("^"+xk.call(wk).replace(bk,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Sk(n){if(!zt(n)||t0(n))return!1;var i=Cr(n)?Mk:yk;return i.test(i0(n))}var n0=Sk;function Dk(n,i){return n?.[i]}var a0=Dk;function Ek(n,i){var e=a0(n,i);return n0(e)?e:void 0}var xr=Ek;var r0=Object.create,kk=(function(){function n(){}return function(i){if(!zt(i))return{};if(r0)return r0(i);n.prototype=i;var e=new n;return n.prototype=void 0,e}})(),o0=kk;function Pk(n,i,e){switch(e.length){case 0:return n.call(i);case 1:return n.call(i,e[0]);case 2:return n.call(i,e[0],e[1]);case 3:return n.call(i,e[0],e[1],e[2])}return n.apply(i,e)}var s0=Pk;function Ok(n,i){var e=-1,t=n.length;for(i||(i=Array(t));++e<t;)i[e]=n[e];return i}var l0=Ok;var Ak=800,Tk=16,Rk=Date.now;function Ik(n){var i=0,e=0;return function(){var t=Rk(),a=Tk-(t-e);if(e=t,a>0){if(++i>=Ak)return arguments[0]}else i=0;return n.apply(void 0,arguments)}}var c0=Ik;function Fk(n){return function(){return n}}var d0=Fk;var Nk=(function(){try{var n=xr(Object,"defineProperty");return n({},"",{}),n}catch{}})(),wr=Nk;var Lk=wr?function(n,i){return wr(n,"toString",{configurable:!0,enumerable:!1,value:d0(i),writable:!0})}:Oc,h0=Lk;var Vk=c0(h0),u0=Vk;var zk=9007199254740991,Bk=/^(?:0|[1-9]\d*)$/;function jk(n,i){var e=typeof n;return i=i??zk,!!i&&(e=="number"||e!="symbol"&&Bk.test(n))&&n>-1&&n%1==0&&n<i}var Tc=jk;function Hk(n,i,e){i=="__proto__"&&wr?wr(n,i,{configurable:!0,enumerable:!0,value:e,writable:!0}):n[i]=e}var Mr=Hk;function Uk(n,i){return n===i||n!==n&&i!==i}var jn=Uk;var Wk=Object.prototype,$k=Wk.hasOwnProperty;function Yk(n,i,e){var t=n[i];(!($k.call(n,i)&&jn(t,e))||e===void 0&&!(i in n))&&Mr(n,i,e)}var p0=Yk;function qk(n,i,e,t){var a=!e;e||(e={});for(var r=-1,o=i.length;++r<o;){var s=i[r],l=t?t(e[s],n[s],s,e,n):void 0;l===void 0&&(l=n[s]),a?Mr(e,s,l):p0(e,s,l)}return e}var m0=qk;var f0=Math.max;function Gk(n,i,e){return i=f0(i===void 0?n.length-1:i,0),function(){for(var t=arguments,a=-1,r=f0(t.length-i,0),o=Array(r);++a<r;)o[a]=t[i+a];a=-1;for(var s=Array(i+1);++a<i;)s[a]=t[a];return s[i]=e(o),s0(n,this,s)}}var g0=Gk;function Kk(n,i){return u0(g0(n,i,Oc),n+"")}var _0=Kk;var Qk=9007199254740991;function Xk(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=Qk}var Rc=Xk;function Zk(n){return n!=null&&Rc(n.length)&&!Cr(n)}var Sr=Zk;function Jk(n,i,e){if(!zt(e))return!1;var t=typeof i;return(t=="number"?Sr(e)&&Tc(i,e.length):t=="string"&&i in e)?jn(e[i],n):!1}var b0=Jk;function eP(n){return _0(function(i,e){var t=-1,a=e.length,r=a>1?e[a-1]:void 0,o=a>2?e[2]:void 0;for(r=n.length>3&&typeof r=="function"?(a--,r):void 0,o&&b0(e[0],e[1],o)&&(r=a<3?void 0:r,a=1),i=Object(i);++t<a;){var s=e[t];s&&n(i,s,t,r)}return i})}var y0=eP;var tP=Object.prototype;function iP(n){var i=n&&n.constructor,e=typeof i=="function"&&i.prototype||tP;return n===e}var Ic=iP;function nP(n,i){for(var e=-1,t=Array(n);++e<n;)t[e]=i(e);return t}var v0=nP;var aP="[object Arguments]";function rP(n){return Hi(n)&&Bn(n)==aP}var fp=rP;var C0=Object.prototype,oP=C0.hasOwnProperty,sP=C0.propertyIsEnumerable,lP=fp((function(){return arguments})())?fp:function(n){return Hi(n)&&oP.call(n,"callee")&&!sP.call(n,"callee")},Uo=lP;function cP(){return!1}var x0=cP;var S0=typeof exports=="object"&&exports&&!exports.nodeType&&exports,w0=S0&&typeof module=="object"&&module&&!module.nodeType&&module,dP=w0&&w0.exports===S0,M0=dP?mi.Buffer:void 0,hP=M0?M0.isBuffer:void 0,uP=hP||x0,Fc=uP;var pP="[object Arguments]",mP="[object Array]",fP="[object Boolean]",gP="[object Date]",_P="[object Error]",bP="[object Function]",yP="[object Map]",vP="[object Number]",CP="[object Object]",xP="[object RegExp]",wP="[object Set]",MP="[object String]",SP="[object WeakMap]",DP="[object ArrayBuffer]",EP="[object DataView]",kP="[object Float32Array]",PP="[object Float64Array]",OP="[object Int8Array]",AP="[object Int16Array]",TP="[object Int32Array]",RP="[object Uint8Array]",IP="[object Uint8ClampedArray]",FP="[object Uint16Array]",NP="[object Uint32Array]",Le={};Le[kP]=Le[PP]=Le[OP]=Le[AP]=Le[TP]=Le[RP]=Le[IP]=Le[FP]=Le[NP]=!0;Le[pP]=Le[mP]=Le[DP]=Le[fP]=Le[EP]=Le[gP]=Le[_P]=Le[bP]=Le[yP]=Le[vP]=Le[CP]=Le[xP]=Le[wP]=Le[MP]=Le[SP]=!1;function LP(n){return Hi(n)&&Rc(n.length)&&!!Le[Bn(n)]}var D0=LP;function VP(n){return function(i){return n(i)}}var E0=VP;var k0=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Wo=k0&&typeof module=="object"&&module&&!module.nodeType&&module,zP=Wo&&Wo.exports===k0,gp=zP&&Pc.process,BP=(function(){try{var n=Wo&&Wo.require&&Wo.require("util").types;return n||gp&&gp.binding&&gp.binding("util")}catch{}})(),_p=BP;var P0=_p&&_p.isTypedArray,jP=P0?E0(P0):D0,Nc=jP;var HP=Object.prototype,UP=HP.hasOwnProperty;function WP(n,i){var e=Ho(n),t=!e&&Uo(n),a=!e&&!t&&Fc(n),r=!e&&!t&&!a&&Nc(n),o=e||t||a||r,s=o?v0(n.length,String):[],l=s.length;for(var c in n)(i||UP.call(n,c))&&!(o&&(c=="length"||a&&(c=="offset"||c=="parent")||r&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||Tc(c,l)))&&s.push(c);return s}var O0=WP;function $P(n,i){return function(e){return n(i(e))}}var A0=$P;function YP(n){var i=[];if(n!=null)for(var e in Object(n))i.push(e);return i}var T0=YP;var qP=Object.prototype,GP=qP.hasOwnProperty;function KP(n){if(!zt(n))return T0(n);var i=Ic(n),e=[];for(var t in n)t=="constructor"&&(i||!GP.call(n,t))||e.push(t);return e}var R0=KP;function QP(n){return Sr(n)?O0(n,!0):R0(n)}var Lc=QP;var XP=xr(Object,"create"),dn=XP;function ZP(){this.__data__=dn?dn(null):{},this.size=0}var I0=ZP;function JP(n){var i=this.has(n)&&delete this.__data__[n];return this.size-=i?1:0,i}var F0=JP;var eO="__lodash_hash_undefined__",tO=Object.prototype,iO=tO.hasOwnProperty;function nO(n){var i=this.__data__;if(dn){var e=i[n];return e===eO?void 0:e}return iO.call(i,n)?i[n]:void 0}var N0=nO;var aO=Object.prototype,rO=aO.hasOwnProperty;function oO(n){var i=this.__data__;return dn?i[n]!==void 0:rO.call(i,n)}var L0=oO;var sO="__lodash_hash_undefined__";function lO(n,i){var e=this.__data__;return this.size+=this.has(n)?0:1,e[n]=dn&&i===void 0?sO:i,this}var V0=lO;function Dr(n){var i=-1,e=n==null?0:n.length;for(this.clear();++i<e;){var t=n[i];this.set(t[0],t[1])}}Dr.prototype.clear=I0;Dr.prototype.delete=F0;Dr.prototype.get=N0;Dr.prototype.has=L0;Dr.prototype.set=V0;var bp=Dr;function cO(){this.__data__=[],this.size=0}var z0=cO;function dO(n,i){for(var e=n.length;e--;)if(jn(n[e][0],i))return e;return-1}var Hn=dO;var hO=Array.prototype,uO=hO.splice;function pO(n){var i=this.__data__,e=Hn(i,n);if(e<0)return!1;var t=i.length-1;return e==t?i.pop():uO.call(i,e,1),--this.size,!0}var B0=pO;function mO(n){var i=this.__data__,e=Hn(i,n);return e<0?void 0:i[e][1]}var j0=mO;function fO(n){return Hn(this.__data__,n)>-1}var H0=fO;function gO(n,i){var e=this.__data__,t=Hn(e,n);return t<0?(++this.size,e.push([n,i])):e[t][1]=i,this}var U0=gO;function Er(n){var i=-1,e=n==null?0:n.length;for(this.clear();++i<e;){var t=n[i];this.set(t[0],t[1])}}Er.prototype.clear=z0;Er.prototype.delete=B0;Er.prototype.get=j0;Er.prototype.has=H0;Er.prototype.set=U0;var Un=Er;var _O=xr(mi,"Map"),Vc=_O;function bO(){this.size=0,this.__data__={hash:new bp,map:new(Vc||Un),string:new bp}}var W0=bO;function yO(n){var i=typeof n;return i=="string"||i=="number"||i=="symbol"||i=="boolean"?n!=="__proto__":n===null}var $0=yO;function vO(n,i){var e=n.__data__;return $0(i)?e[typeof i=="string"?"string":"hash"]:e.map}var Wn=vO;function CO(n){var i=Wn(this,n).delete(n);return this.size-=i?1:0,i}var Y0=CO;function xO(n){return Wn(this,n).get(n)}var q0=xO;function wO(n){return Wn(this,n).has(n)}var G0=wO;function MO(n,i){var e=Wn(this,n),t=e.size;return e.set(n,i),this.size+=e.size==t?0:1,this}var K0=MO;function kr(n){var i=-1,e=n==null?0:n.length;for(this.clear();++i<e;){var t=n[i];this.set(t[0],t[1])}}kr.prototype.clear=W0;kr.prototype.delete=Y0;kr.prototype.get=q0;kr.prototype.has=G0;kr.prototype.set=K0;var Q0=kr;var SO=A0(Object.getPrototypeOf,Object),zc=SO;var DO="[object Object]",EO=Function.prototype,kO=Object.prototype,X0=EO.toString,PO=kO.hasOwnProperty,OO=X0.call(Object);function AO(n){if(!Hi(n)||Bn(n)!=DO)return!1;var i=zc(n);if(i===null)return!0;var e=PO.call(i,"constructor")&&i.constructor;return typeof e=="function"&&e instanceof e&&X0.call(e)==OO}var Z0=AO;function TO(){this.__data__=new Un,this.size=0}var J0=TO;function RO(n){var i=this.__data__,e=i.delete(n);return this.size=i.size,e}var ev=RO;function IO(n){return this.__data__.get(n)}var tv=IO;function FO(n){return this.__data__.has(n)}var iv=FO;var NO=200;function LO(n,i){var e=this.__data__;if(e instanceof Un){var t=e.__data__;if(!Vc||t.length<NO-1)return t.push([n,i]),this.size=++e.size,this;e=this.__data__=new Q0(t)}return e.set(n,i),this.size=e.size,this}var nv=LO;function Pr(n){var i=this.__data__=new Un(n);this.size=i.size}Pr.prototype.clear=J0;Pr.prototype.delete=ev;Pr.prototype.get=tv;Pr.prototype.has=iv;Pr.prototype.set=nv;var av=Pr;var lv=typeof exports=="object"&&exports&&!exports.nodeType&&exports,rv=lv&&typeof module=="object"&&module&&!module.nodeType&&module,VO=rv&&rv.exports===lv,ov=VO?mi.Buffer:void 0,sv=ov?ov.allocUnsafe:void 0;function zO(n,i){if(i)return n.slice();var e=n.length,t=sv?sv(e):new n.constructor(e);return n.copy(t),t}var cv=zO;var BO=mi.Uint8Array,yp=BO;function jO(n){var i=new n.constructor(n.byteLength);return new yp(i).set(new yp(n)),i}var dv=jO;function HO(n,i){var e=i?dv(n.buffer):n.buffer;return new n.constructor(e,n.byteOffset,n.length)}var hv=HO;function UO(n){return typeof n.constructor=="function"&&!Ic(n)?o0(zc(n)):{}}var uv=UO;function WO(n){return function(i,e,t){for(var a=-1,r=Object(i),o=t(i),s=o.length;s--;){var l=o[n?s:++a];if(e(r[l],l,r)===!1)break}return i}}var pv=WO;var $O=pv(),mv=$O;function YO(n,i,e){(e!==void 0&&!jn(n[i],e)||e===void 0&&!(i in n))&&Mr(n,i,e)}var $o=YO;function qO(n){return Hi(n)&&Sr(n)}var fv=qO;function GO(n,i){if(!(i==="constructor"&&typeof n[i]=="function")&&i!="__proto__")return n[i]}var Yo=GO;function KO(n){return m0(n,Lc(n))}var gv=KO;function QO(n,i,e,t,a,r,o){var s=Yo(n,e),l=Yo(i,e),c=o.get(l);if(c){$o(n,e,c);return}var d=r?r(s,l,e+"",n,i,o):void 0,h=d===void 0;if(h){var u=Ho(l),p=!u&&Fc(l),f=!u&&!p&&Nc(l);d=l,u||p||f?Ho(s)?d=s:fv(s)?d=l0(s):p?(h=!1,d=cv(l,!0)):f?(h=!1,d=hv(l,!0)):d=[]:Z0(l)||Uo(l)?(d=s,Uo(s)?d=gv(s):(!zt(s)||Cr(s))&&(d=uv(l))):h=!1}h&&(o.set(l,d),a(d,l,t,r,o),o.delete(l)),$o(n,e,d)}var _v=QO;function bv(n,i,e,t,a){n!==i&&mv(i,function(r,o){if(a||(a=new av),zt(r))_v(n,i,o,e,bv,t,a);else{var s=t?t(Yo(n,o),r,o+"",n,i,a):void 0;s===void 0&&(s=r),$o(n,o,s)}},Lc)}var yv=bv;var XO=y0(function(n,i,e){yv(n,i,e)}),Bc=XO;var vv=new $("Configuration for ngCharts");function Cv(...n){return{registerables:[...Ky,...n]}}function xv(...n){let i=Bc({},...n);return{provide:vv,useValue:i}}var ZO=(()=>{class n{constructor(){this.colorschemesOptions=new Ve(void 0)}setColorschemesOptions(e){this.pColorschemesOptions=e,this.colorschemesOptions.next(e)}getColorschemesOptions(){return this.pColorschemesOptions}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275prov=ae({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),wv=(()=>{class n{constructor(e,t,a,r){this.zone=t,this.themeService=a,this.type="bar",this.plugins=[],this.chartClick=new W,this.chartHover=new W,this.subs=[],this.themeOverrides={},r?.registerables&&Sc.register(...r.registerables),r?.defaults&&Te.set(r.defaults),this.ctx=e.nativeElement.getContext("2d"),this.subs.push(this.themeService.colorschemesOptions.pipe(fm()).subscribe(o=>this.themeChanged(o)))}ngOnChanges(e){let t=["type"],a=Object.getOwnPropertyNames(e);if(a.some(r=>t.includes(r))||a.every(r=>e[r].isFirstChange()))this.render();else{let r=this.getChartConfiguration();this.chart&&(Object.assign(this.chart.config.data,r.data),this.chart.config.plugins&&Object.assign(this.chart.config.plugins,r.plugins),this.chart.config.options&&Object.assign(this.chart.config.options,r.options)),this.update()}}ngOnDestroy(){this.chart&&(this.chart.destroy(),this.chart=void 0),this.subs.forEach(e=>e.unsubscribe())}render(){return this.chart&&this.chart.destroy(),this.zone.runOutsideAngular(()=>this.chart=new Sc(this.ctx,this.getChartConfiguration()))}update(e){this.chart&&this.zone.runOutsideAngular(()=>this.chart?.update(e))}hideDataset(e,t){this.chart&&(this.chart.getDatasetMeta(e).hidden=t,this.update())}isDatasetHidden(e){return this.chart?.getDatasetMeta(e)?.hidden}toBase64Image(){return this.chart?.toBase64Image()}themeChanged(e){this.themeOverrides=e,this.chart&&(this.chart.config.options&&Object.assign(this.chart.config.options,this.getChartOptions()),this.update())}getChartOptions(){return Bc({onHover:(e,t)=>{!this.chartHover.observed&&!this.chartHover.observers?.length||this.zone.run(()=>this.chartHover.emit({event:e,active:t}))},onClick:(e,t)=>{!this.chartClick.observed&&!this.chartClick.observers?.length||this.zone.run(()=>this.chartClick.emit({event:e,active:t}))}},this.themeOverrides,this.options,{plugins:{legend:{display:this.legend}}})}getChartConfiguration(){return{type:this.type,data:this.getChartData(),options:this.getChartOptions(),plugins:this.plugins}}getChartData(){return this.data?this.data:{labels:this.labels||[],datasets:this.datasets||[]}}static{this.\u0275fac=function(t){return new(t||n)(Be(ge),Be(dt),Be(ZO),Be(vv,8))}}static{this.\u0275dir=Y({type:n,selectors:[["canvas","baseChart",""]],inputs:{type:"type",legend:"legend",data:"data",options:"options",plugins:"plugins",labels:"labels",datasets:"datasets"},outputs:{chartClick:"chartClick",chartHover:"chartHover"},exportAs:["base-chart"],features:[ze]})}}return n})();var qo=new $("MAT_DATE_LOCALE",{providedIn:"root",factory:()=>b(vs)}),Or="Method not implemented",Mt=class{locale;_localeChanges=new G;localeChanges=this._localeChanges;setTime(i,e,t,a){throw new Error(Or)}getHours(i){throw new Error(Or)}getMinutes(i){throw new Error(Or)}getSeconds(i){throw new Error(Or)}parseTime(i,e){throw new Error(Or)}addSeconds(i,e){throw new Error(Or)}getValidDateOrNull(i){return this.isDateInstance(i)&&this.isValid(i)?i:null}deserialize(i){return i==null||this.isDateInstance(i)&&this.isValid(i)?i:this.invalid()}setLocale(i){this.locale=i,this._localeChanges.next()}compareDate(i,e){return this.getYear(i)-this.getYear(e)||this.getMonth(i)-this.getMonth(e)||this.getDate(i)-this.getDate(e)}compareTime(i,e){return this.getHours(i)-this.getHours(e)||this.getMinutes(i)-this.getMinutes(e)||this.getSeconds(i)-this.getSeconds(e)}sameDate(i,e){if(i&&e){let t=this.isValid(i),a=this.isValid(e);return t&&a?!this.compareDate(i,e):t==a}return i==e}sameTime(i,e){if(i&&e){let t=this.isValid(i),a=this.isValid(e);return t&&a?!this.compareTime(i,e):t==a}return i==e}clampDate(i,e,t){return e&&this.compareDate(i,e)<0?e:t&&this.compareDate(i,t)>0?t:i}},Ui=new $("mat-date-formats");var Mv=(()=>{class n{_animationsDisabled=ht();state="unchecked";disabled=!1;appearance="full";constructor(){}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=j({type:n,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:12,hostBindings:function(t,a){t&2&&de("mat-pseudo-checkbox-indeterminate",a.state==="indeterminate")("mat-pseudo-checkbox-checked",a.state==="checked")("mat-pseudo-checkbox-disabled",a.disabled)("mat-pseudo-checkbox-minimal",a.appearance==="minimal")("mat-pseudo-checkbox-full",a.appearance==="full")("_mat-animation-noopable",a._animationsDisabled)},inputs:{state:"state",disabled:"disabled",appearance:"appearance"},decls:0,vars:0,template:function(t,a){},styles:[`.mat-pseudo-checkbox{border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{left:1px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{left:1px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after,.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{color:var(--mat-pseudo-checkbox-minimal-selected-checkmark-color, var(--mat-sys-primary))}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled::after,.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled::after{color:var(--mat-pseudo-checkbox-minimal-disabled-selected-checkmark-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-pseudo-checkbox-full{border-color:var(--mat-pseudo-checkbox-full-unselected-icon-color, var(--mat-sys-on-surface-variant));border-width:2px;border-style:solid}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-disabled{border-color:var(--mat-pseudo-checkbox-full-disabled-unselected-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate{background-color:var(--mat-pseudo-checkbox-full-selected-icon-color, var(--mat-sys-primary));border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{color:var(--mat-pseudo-checkbox-full-selected-checkmark-color, var(--mat-sys-on-primary))}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled{background-color:var(--mat-pseudo-checkbox-full-disabled-selected-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled::after,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled::after{color:var(--mat-pseudo-checkbox-full-disabled-selected-checkmark-color, var(--mat-sys-surface))}.mat-pseudo-checkbox{width:18px;height:18px}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after{width:14px;height:6px;transform-origin:center;top:-4.2426406871px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{top:8px;width:16px}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after{width:10px;height:4px;transform-origin:center;top:-2.8284271247px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{top:6px;width:12px}
`],encapsulation:2,changeDetection:0})}return n})();var Sv=(()=>{class n{static \u0275fac=function(t){return new(t||n)};static \u0275mod=Se({type:n});static \u0275inj=Me({imports:[qe]})}return n})();var JO=["text"],eA=[[["mat-icon"]],"*"],tA=["mat-icon","*"];function iA(n,i){if(n&1&&q(0,"mat-pseudo-checkbox",1),n&2){let e=A();E("disabled",e.disabled)("state",e.selected?"checked":"unchecked")}}function nA(n,i){if(n&1&&q(0,"mat-pseudo-checkbox",3),n&2){let e=A();E("disabled",e.disabled)}}function aA(n,i){if(n&1&&(g(0,"span",4),v(1),m()),n&2){let e=A();C(),he("(",e.group.label,")")}}var Cp=new $("MAT_OPTION_PARENT_COMPONENT"),xp=new $("MatOptgroup");var vp=class{source;isUserInput;constructor(i,e=!1){this.source=i,this.isUserInput=e}},Wi=(()=>{class n{_element=b(ge);_changeDetectorRef=b(ye);_parent=b(Cp,{optional:!0});group=b(xp,{optional:!0});_signalDisableRipple=!1;_selected=!1;_active=!1;_mostRecentViewValue="";get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}value;id=b(ri).getId("mat-option-");get disabled(){return this.group&&this.group.disabled||this._disabled()}set disabled(e){this._disabled.set(e)}_disabled=J(!1);get disableRipple(){return this._signalDisableRipple?this._parent.disableRipple():!!this._parent?.disableRipple}get hideSingleSelectionIndicator(){return!!(this._parent&&this._parent.hideSingleSelectionIndicator)}onSelectionChange=new W;_text;_stateChanges=new G;constructor(){let e=b(ai);e.load(Qi),e.load(yn),this._signalDisableRipple=!!this._parent&&Em(this._parent.disableRipple)}get active(){return this._active}get viewValue(){return(this._text?.nativeElement.textContent||"").trim()}select(e=!0){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),e&&this._emitSelectionChangeEvent())}deselect(e=!0){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),e&&this._emitSelectionChangeEvent())}focus(e,t){let a=this._getHostElement();typeof a.focus=="function"&&a.focus(t)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(e){(e.keyCode===13||e.keyCode===32)&&!Dt(e)&&(this._selectViaInteraction(),e.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=this.multiple?!this._selected:!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){let e=this.viewValue;e!==this._mostRecentViewValue&&(this._mostRecentViewValue&&this._stateChanges.next(),this._mostRecentViewValue=e)}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(e=!1){this.onSelectionChange.emit(new vp(this,e))}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=j({type:n,selectors:[["mat-option"]],viewQuery:function(t,a){if(t&1&&Ye(JO,7),t&2){let r;X(r=Z())&&(a._text=r.first)}},hostAttrs:["role","option",1,"mat-mdc-option","mdc-list-item"],hostVars:11,hostBindings:function(t,a){t&1&&I("click",function(){return a._selectViaInteraction()})("keydown",function(o){return a._handleKeydown(o)}),t&2&&(Oa("id",a.id),pe("aria-selected",a.selected)("aria-disabled",a.disabled.toString()),de("mdc-list-item--selected",a.selected)("mat-mdc-option-multiple",a.multiple)("mat-mdc-option-active",a.active)("mdc-list-item--disabled",a.disabled))},inputs:{value:"value",id:"id",disabled:[2,"disabled","disabled",ce]},outputs:{onSelectionChange:"onSelectionChange"},exportAs:["matOption"],ngContentSelectors:tA,decls:8,vars:5,consts:[["text",""],["aria-hidden","true",1,"mat-mdc-option-pseudo-checkbox",3,"disabled","state"],[1,"mdc-list-item__primary-text"],["state","checked","aria-hidden","true","appearance","minimal",1,"mat-mdc-option-pseudo-checkbox",3,"disabled"],[1,"cdk-visually-hidden"],["aria-hidden","true","mat-ripple","",1,"mat-mdc-option-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled"]],template:function(t,a){t&1&&(et(eA),te(0,iA,1,2,"mat-pseudo-checkbox",1),De(1),g(2,"span",2,0),De(4,1),m(),te(5,nA,1,1,"mat-pseudo-checkbox",3),te(6,aA,2,1,"span",4),q(7,"div",5)),t&2&&(ie(a.multiple?0:-1),C(5),ie(!a.multiple&&a.selected&&!a.hideSingleSelectionIndicator?5:-1),C(),ie(a.group&&a.group._inert?6:-1),C(),E("matRippleTrigger",a._getHostElement())("matRippleDisabled",a.disabled||a.disableRipple))},dependencies:[Mv,cf],styles:[`.mat-mdc-option{-webkit-user-select:none;user-select:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;min-height:48px;padding:0 16px;cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0);color:var(--mat-option-label-text-color, var(--mat-sys-on-surface));font-family:var(--mat-option-label-text-font, var(--mat-sys-label-large-font));line-height:var(--mat-option-label-text-line-height, var(--mat-sys-label-large-line-height));font-size:var(--mat-option-label-text-size, var(--mat-sys-body-large-size));letter-spacing:var(--mat-option-label-text-tracking, var(--mat-sys-label-large-tracking));font-weight:var(--mat-option-label-text-weight, var(--mat-sys-body-large-weight))}.mat-mdc-option:hover:not(.mdc-list-item--disabled){background-color:var(--mat-option-hover-state-layer-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-hover-state-layer-opacity) * 100%), transparent))}.mat-mdc-option:focus.mdc-list-item,.mat-mdc-option.mat-mdc-option-active.mdc-list-item{background-color:var(--mat-option-focus-state-layer-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-focus-state-layer-opacity) * 100%), transparent));outline:0}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled):not(.mat-mdc-option-active,.mat-mdc-option-multiple,:focus,:hover){background-color:var(--mat-option-selected-state-layer-color, var(--mat-sys-secondary-container))}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled):not(.mat-mdc-option-active,.mat-mdc-option-multiple,:focus,:hover) .mdc-list-item__primary-text{color:var(--mat-option-selected-state-label-text-color, var(--mat-sys-on-secondary-container))}.mat-mdc-option .mat-pseudo-checkbox{--mat-pseudo-checkbox-minimal-selected-checkmark-color: var(--mat-option-selected-state-label-text-color, var(--mat-sys-on-secondary-container))}.mat-mdc-option.mdc-list-item{align-items:center;background:rgba(0,0,0,0)}.mat-mdc-option.mdc-list-item--disabled{cursor:default;pointer-events:none}.mat-mdc-option.mdc-list-item--disabled .mat-mdc-option-pseudo-checkbox,.mat-mdc-option.mdc-list-item--disabled .mdc-list-item__primary-text,.mat-mdc-option.mdc-list-item--disabled>mat-icon{opacity:.38}.mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:32px}[dir=rtl] .mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:16px;padding-right:32px}.mat-mdc-option .mat-icon,.mat-mdc-option .mat-pseudo-checkbox-full{margin-right:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-icon,[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-full{margin-right:0;margin-left:16px}.mat-mdc-option .mat-pseudo-checkbox-minimal{margin-left:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-minimal{margin-right:16px;margin-left:0}.mat-mdc-option .mat-mdc-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-option .mdc-list-item__primary-text{white-space:normal;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;font-family:inherit;text-decoration:inherit;text-transform:inherit;margin-right:auto}[dir=rtl] .mat-mdc-option .mdc-list-item__primary-text{margin-right:0;margin-left:auto}@media(forced-colors: active){.mat-mdc-option.mdc-list-item--selected:not(:has(.mat-mdc-option-pseudo-checkbox))::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}[dir=rtl] .mat-mdc-option.mdc-list-item--selected:not(:has(.mat-mdc-option-pseudo-checkbox))::after{right:auto;left:16px}}.mat-mdc-option-multiple{--mat-list-list-item-selected-container-color: var(--mat-list-list-item-container-color, transparent)}.mat-mdc-option-active .mat-focus-indicator::before{content:""}
`],encapsulation:2,changeDetection:0})}return n})();function Dv(n,i,e){if(e.length){let t=i.toArray(),a=e.toArray(),r=0;for(let o=0;o<n+1;o++)t[o].group&&t[o].group===a[r]&&r++;return r}return 0}function Ev(n,i,e,t){return n<e?n:n+i>e+t?Math.max(0,n-t+i):e}var wp=(()=>{class n{static \u0275fac=function(t){return new(t||n)};static \u0275mod=Se({type:n});static \u0275inj=Me({imports:[Ps,Sv,Wi,qe]})}return n})();var rA=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/,oA=/^(\d?\d)[:.](\d?\d)(?:[:.](\d?\d))?\s*(AM|PM)?$/i;function Mp(n,i){let e=Array(n);for(let t=0;t<n;t++)e[t]=i(t);return e}var sA=(()=>{class n extends Mt{_matDateLocale=b(qo,{optional:!0});constructor(){super();let e=b(qo,{optional:!0});e!==void 0&&(this._matDateLocale=e),super.setLocale(this._matDateLocale)}getYear(e){return e.getFullYear()}getMonth(e){return e.getMonth()}getDate(e){return e.getDate()}getDayOfWeek(e){return e.getDay()}getMonthNames(e){let t=new Intl.DateTimeFormat(this.locale,{month:e,timeZone:"utc"});return Mp(12,a=>this._format(t,new Date(2017,a,1)))}getDateNames(){let e=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return Mp(31,t=>this._format(e,new Date(2017,0,t+1)))}getDayOfWeekNames(e){let t=new Intl.DateTimeFormat(this.locale,{weekday:e,timeZone:"utc"});return Mp(7,a=>this._format(t,new Date(2017,0,a+1)))}getYearName(e){let t=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._format(t,e)}getFirstDayOfWeek(){if(typeof Intl<"u"&&Intl.Locale){let e=new Intl.Locale(this.locale),t=(e.getWeekInfo?.()||e.weekInfo)?.firstDay??0;return t===7?0:t}return 0}getNumDaysInMonth(e){return this.getDate(this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+1,0))}clone(e){return new Date(e.getTime())}createDate(e,t,a){let r=this._createDateWithOverflow(e,t,a);return r.getMonth()!=t,r}today(){return new Date}parse(e,t){return typeof e=="number"?new Date(e):e?new Date(Date.parse(e)):null}format(e,t){if(!this.isValid(e))throw Error("NativeDateAdapter: Cannot format invalid date.");let a=new Intl.DateTimeFormat(this.locale,be(O({},t),{timeZone:"utc"}));return this._format(a,e)}addCalendarYears(e,t){return this.addCalendarMonths(e,t*12)}addCalendarMonths(e,t){let a=this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+t,this.getDate(e));return this.getMonth(a)!=((this.getMonth(e)+t)%12+12)%12&&(a=this._createDateWithOverflow(this.getYear(a),this.getMonth(a),0)),a}addCalendarDays(e,t){return this._createDateWithOverflow(this.getYear(e),this.getMonth(e),this.getDate(e)+t)}toIso8601(e){return[e.getUTCFullYear(),this._2digit(e.getUTCMonth()+1),this._2digit(e.getUTCDate())].join("-")}deserialize(e){if(typeof e=="string"){if(!e)return null;if(rA.test(e)){let t=new Date(e);if(this.isValid(t))return t}}return super.deserialize(e)}isDateInstance(e){return e instanceof Date}isValid(e){return!isNaN(e.getTime())}invalid(){return new Date(NaN)}setTime(e,t,a,r){let o=this.clone(e);return o.setHours(t,a,r,0),o}getHours(e){return e.getHours()}getMinutes(e){return e.getMinutes()}getSeconds(e){return e.getSeconds()}parseTime(e,t){if(typeof e!="string")return e instanceof Date?new Date(e.getTime()):null;let a=e.trim();if(a.length===0)return null;let r=this._parseTimeString(a);if(r===null){let o=a.replace(/[^0-9:(AM|PM)]/gi,"").trim();o.length>0&&(r=this._parseTimeString(o))}return r||this.invalid()}addSeconds(e,t){return new Date(e.getTime()+t*1e3)}_createDateWithOverflow(e,t,a){let r=new Date;return r.setFullYear(e,t,a),r.setHours(0,0,0,0),r}_2digit(e){return("00"+e).slice(-2)}_format(e,t){let a=new Date;return a.setUTCFullYear(t.getFullYear(),t.getMonth(),t.getDate()),a.setUTCHours(t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()),e.format(a)}_parseTimeString(e){let t=e.toUpperCase().match(oA);if(t){let a=parseInt(t[1]),r=parseInt(t[2]),o=t[3]==null?void 0:parseInt(t[3]),s=t[4];if(a===12?a=s==="AM"?0:a:s==="PM"&&(a+=12),Sp(a,0,23)&&Sp(r,0,59)&&(o==null||Sp(o,0,59)))return this.setTime(this.today(),a,r,o||0)}return null}static \u0275fac=function(t){return new(t||n)};static \u0275prov=ae({token:n,factory:n.\u0275fac})}return n})();function Sp(n,i,e){return!isNaN(n)&&n>=i&&n<=e}var lA={parse:{dateInput:null,timeInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},timeInput:{hour:"numeric",minute:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"},timeOptionLabel:{hour:"numeric",minute:"numeric"}}};var kv=(()=>{class n{static \u0275fac=function(t){return new(t||n)};static \u0275mod=Se({type:n});static \u0275inj=Me({providers:[Dp()]})}return n})();function Dp(n=lA){return[{provide:Mt,useClass:sA},{provide:Ui,useValue:n}]}function cA(n){let i=n,e=Math.floor(Math.abs(n)),t=n.toString().replace(/^[^.]*\.?/,"").length,a=parseInt(n.toString().replace(/^[^e]*(e([-+]?\d+))?/,"$2"))||0;return i===1?1:a===0&&e!==0&&e%1e6===0&&t===0||!(a>=0&&a<=5)?4:5}var Pv=["es",[["a.\u202Fm.","p.\u202Fm."],void 0,["a.\xA0m.","p.\xA0m."]],void 0,[["D","L","M","X","J","V","S"],["dom","lun","mar","mi\xE9","jue","vie","s\xE1b"],["domingo","lunes","martes","mi\xE9rcoles","jueves","viernes","s\xE1bado"],["DO","LU","MA","MI","JU","VI","SA"]],void 0,[["E","F","M","A","M","J","J","A","S","O","N","D"],["ene","feb","mar","abr","may","jun","jul","ago","sept","oct","nov","dic"],["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]],void 0,[["a. C.","d. C."],void 0,["antes de Cristo","despu\xE9s de Cristo"]],1,[6,0],["d/M/yy","d MMM y","d 'de' MMMM 'de' y","EEEE, d 'de' MMMM 'de' y"],["H:mm","H:mm:ss","H:mm:ss z","H:mm:ss (zzzz)"],["{1}, {0}",void 0,void 0,void 0],[",",".",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0\xA0%","#,##0.00\xA0\xA4","#E0"],"EUR","\u20AC","euro",{AUD:[void 0,"$"],BRL:[void 0,"R$"],BYN:[void 0,"\u0440."],CAD:[void 0,"$"],CNY:[void 0,"\xA5"],EGP:[void 0,"EGP"],ESP:["\u20A7"],GBP:[void 0,"\xA3"],HKD:[void 0,"$"],ILS:[void 0,"\u20AA"],INR:[void 0,"\u20B9"],JPY:[void 0,"\xA5"],KRW:[void 0,"\u20A9"],MXN:[void 0,"$"],NZD:[void 0,"$"],PHP:[void 0,"\u20B1"],RON:[void 0,"L"],THB:["\u0E3F"],TWD:[void 0,"NT$"],USD:["US$","$"],XAF:[],XCD:[void 0,"$"],XOF:[]},"ltr",cA];var dA=["*"];var hA=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],uA=["[mat-card-avatar], [matCardAvatar]",`mat-card-title, mat-card-subtitle,
      [mat-card-title], [mat-card-subtitle],
      [matCardTitle], [matCardSubtitle]`,"*"],pA=new $("MAT_CARD_CONFIG"),$n=(()=>{class n{appearance;constructor(){let e=b(pA,{optional:!0});this.appearance=e?.appearance||"raised"}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=j({type:n,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:8,hostBindings:function(t,a){t&2&&de("mat-mdc-card-outlined",a.appearance==="outlined")("mdc-card--outlined",a.appearance==="outlined")("mat-mdc-card-filled",a.appearance==="filled")("mdc-card--filled",a.appearance==="filled")},inputs:{appearance:"appearance"},exportAs:["matCard"],ngContentSelectors:dA,decls:1,vars:0,template:function(t,a){t&1&&(et(),De(0))},styles:[`.mat-mdc-card{display:flex;flex-direction:column;box-sizing:border-box;position:relative;border-style:solid;border-width:0;background-color:var(--mat-card-elevated-container-color, var(--mat-sys-surface-container-low));border-color:var(--mat-card-elevated-container-color, var(--mat-sys-surface-container-low));border-radius:var(--mat-card-elevated-container-shape, var(--mat-sys-corner-medium));box-shadow:var(--mat-card-elevated-container-elevation, var(--mat-sys-level1))}.mat-mdc-card::after{position:absolute;top:0;left:0;width:100%;height:100%;border:solid 1px rgba(0,0,0,0);content:"";display:block;pointer-events:none;box-sizing:border-box;border-radius:var(--mat-card-elevated-container-shape, var(--mat-sys-corner-medium))}.mat-mdc-card-outlined{background-color:var(--mat-card-outlined-container-color, var(--mat-sys-surface));border-radius:var(--mat-card-outlined-container-shape, var(--mat-sys-corner-medium));border-width:var(--mat-card-outlined-outline-width, 1px);border-color:var(--mat-card-outlined-outline-color, var(--mat-sys-outline-variant));box-shadow:var(--mat-card-outlined-container-elevation, var(--mat-sys-level0))}.mat-mdc-card-outlined::after{border:none}.mat-mdc-card-filled{background-color:var(--mat-card-filled-container-color, var(--mat-sys-surface-container-highest));border-radius:var(--mat-card-filled-container-shape, var(--mat-sys-corner-medium));box-shadow:var(--mat-card-filled-container-elevation, var(--mat-sys-level0))}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mat-mdc-card-actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mat-mdc-card-title{font-family:var(--mat-card-title-text-font, var(--mat-sys-title-large-font));line-height:var(--mat-card-title-text-line-height, var(--mat-sys-title-large-line-height));font-size:var(--mat-card-title-text-size, var(--mat-sys-title-large-size));letter-spacing:var(--mat-card-title-text-tracking, var(--mat-sys-title-large-tracking));font-weight:var(--mat-card-title-text-weight, var(--mat-sys-title-large-weight))}.mat-mdc-card-subtitle{color:var(--mat-card-subtitle-text-color, var(--mat-sys-on-surface));font-family:var(--mat-card-subtitle-text-font, var(--mat-sys-title-medium-font));line-height:var(--mat-card-subtitle-text-line-height, var(--mat-sys-title-medium-line-height));font-size:var(--mat-card-subtitle-text-size, var(--mat-sys-title-medium-size));letter-spacing:var(--mat-card-subtitle-text-tracking, var(--mat-sys-title-medium-tracking));font-weight:var(--mat-card-subtitle-text-weight, var(--mat-sys-title-medium-weight))}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}
`],encapsulation:2,changeDetection:0})}return n})(),Yn=(()=>{class n{static \u0275fac=function(t){return new(t||n)};static \u0275dir=Y({type:n,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-mdc-card-title"]})}return n})();var qn=(()=>{class n{static \u0275fac=function(t){return new(t||n)};static \u0275dir=Y({type:n,selectors:[["mat-card-content"]],hostAttrs:[1,"mat-mdc-card-content"]})}return n})(),jc=(()=>{class n{static \u0275fac=function(t){return new(t||n)};static \u0275dir=Y({type:n,selectors:[["mat-card-subtitle"],["","mat-card-subtitle",""],["","matCardSubtitle",""]],hostAttrs:[1,"mat-mdc-card-subtitle"]})}return n})(),Ov=(()=>{class n{align="start";static \u0275fac=function(t){return new(t||n)};static \u0275dir=Y({type:n,selectors:[["mat-card-actions"]],hostAttrs:[1,"mat-mdc-card-actions","mdc-card__actions"],hostVars:2,hostBindings:function(t,a){t&2&&de("mat-mdc-card-actions-align-end",a.align==="end")},inputs:{align:"align"},exportAs:["matCardActions"]})}return n})(),Gn=(()=>{class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=j({type:n,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-mdc-card-header"],ngContentSelectors:uA,decls:4,vars:0,consts:[[1,"mat-mdc-card-header-text"]],template:function(t,a){t&1&&(et(hA),De(0),Wt(1,"div",0),De(2,1),$t(),De(3,2))},encapsulation:2,changeDetection:0})}return n})();var Kn=(()=>{class n{static \u0275fac=function(t){return new(t||n)};static \u0275mod=Se({type:n});static \u0275inj=Me({imports:[qe]})}return n})();var Bt=class n{constructor(i){this.router=i}SESSION_KEY="expense_tracker_session";ENCRYPTION_KEY="expense_tracker_encryption_key";login(i){if(i.password&&i.password.length>=8){let e=this.generateSessionToken();return this.setSession(e),this.setEncryptionKey(i.password),B(!0)}return B(!1)}logout(){this.clearSession(),this.clearEncryptionKey(),this.router.navigate(["/login"])}isAuthenticated(){let i=this.getSession(),e=this.getEncryptionKey();return i!==null&&e!==null}getSession(){return sessionStorage.getItem(this.SESSION_KEY)}getEncryptionKey(){return sessionStorage.getItem(this.ENCRYPTION_KEY)}setSession(i){sessionStorage.setItem(this.SESSION_KEY,i)}setEncryptionKey(i){sessionStorage.setItem(this.ENCRYPTION_KEY,i)}clearSession(){sessionStorage.removeItem(this.SESSION_KEY)}clearEncryptionKey(){sessionStorage.removeItem(this.ENCRYPTION_KEY)}generateSessionToken(){return`session_${Date.now()}_${Math.random().toString(36).substring(2)}`}static \u0275fac=function(e){return new(e||n)(it(Ze))};static \u0275prov=ae({token:n,factory:n.\u0275fac,providedIn:"root"})};function gA(n,i){n&1&&v(0," La clau d'encriptaci\xF3 \xE9s obligat\xF2ria ")}function _A(n,i){n&1&&v(0," La clau ha de tenir m\xEDnim 8 car\xE0cters ")}function bA(n,i){if(n&1&&(g(0,"mat-error"),te(1,gA,1,0),te(2,_A,1,0),m()),n&2){let e,t,a=A();C(),ie((e=a.loginForm.get("password"))!=null&&e.hasError("required")?1:-1),C(),ie((t=a.loginForm.get("password"))!=null&&t.hasError("minlength")?2:-1)}}function yA(n,i){if(n&1&&(g(0,"div",5),v(1),m()),n&2){let e=A();C(),he(" ",e.errorMessage," ")}}var Uc=class n{constructor(i,e,t){this.fb=i;this.authService=e;this.router=t;this.loginForm=this.fb.group({username:["user"],password:["",[He.required,He.minLength(8)]]})}loginForm;errorMessage="";onSubmit(){this.loginForm.valid&&(this.errorMessage="",this.authService.login(this.loginForm.value).subscribe({next:i=>{i?this.router.navigate(["/dashboard"]):(this.errorMessage="Clau d'encriptaci\xF3 inv\xE0lida (m\xEDnim 8 car\xE0cters)",this.loginForm.patchValue({password:""}))},error:()=>{this.errorMessage="S'ha produ\xEFt un error durant l'inici de sessi\xF3"}}))}static \u0275fac=function(e){return new(e||n)(Be(Ns),Be(Bt),Be(Ze))};static \u0275cmp=j({type:n,selectors:[["app-login-page"]],decls:19,vars:4,consts:[[1,"login-container"],[1,"login-card"],[3,"ngSubmit","formGroup"],["appearance","outline",1,"full-width"],["matInput","","type","password","formControlName","password","autocomplete","current-password","placeholder","M\xEDnim 8 car\xE0cters","required",""],[1,"error-message"],["mat-raised-button","","color","primary","type","submit",1,"full-width",3,"disabled"]],template:function(e,t){if(e&1&&(g(0,"div",0)(1,"mat-card",1)(2,"mat-card-header")(3,"mat-card-title"),v(4,"Gestor de Despeses"),m(),g(5,"mat-card-subtitle"),v(6,"Introdueix la teva clau d'encriptaci\xF3"),m()(),g(7,"mat-card-content")(8,"form",2),I("ngSubmit",function(){return t.onSubmit()}),g(9,"mat-form-field",3)(10,"mat-label"),v(11,"Clau d'encriptaci\xF3"),m(),q(12,"input",4),te(13,bA,3,2,"mat-error"),g(14,"mat-hint"),v(15,"Aquesta \xE9s la mateixa clau que vas generar amb el script"),m()(),te(16,yA,2,1,"div",5),g(17,"button",6),v(18," Accedir "),m()()()()()),e&2){let a;C(8),E("formGroup",t.loginForm),C(5),ie((a=t.loginForm.get("password"))!=null&&a.invalid&&((a=t.loginForm.get("password"))!=null&&a.touched)?13:-1),C(3),ie(t.errorMessage?16:-1),C(),E("disabled",t.loginForm.invalid)}},dependencies:[Rt,Ls,Rs,Os,As,Ts,Fs,aa,Is,Kn,$n,qn,Gn,jc,Yn,oi,Cn,vn,mf,Vs,La,Na,kt,Et],styles:[".login-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:100vh;background-color:#f5f5f5;padding:16px}.login-card[_ngcontent-%COMP%]{max-width:400px;width:100%}mat-card-header[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;margin-bottom:24px}mat-card-title[_ngcontent-%COMP%]{font-size:24px;font-weight:500;margin-bottom:8px}mat-card-subtitle[_ngcontent-%COMP%]{font-size:14px;color:#0009}form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}.full-width[_ngcontent-%COMP%]{width:100%}.error-message[_ngcontent-%COMP%]{color:#f44336;font-size:14px;padding:8px 12px;background-color:#ffebee;border-radius:4px;margin-bottom:8px}button[type=submit][_ngcontent-%COMP%]{margin-top:8px;height:48px;font-size:16px}@media(max-width:767px){.login-container[_ngcontent-%COMP%]{padding:8px;min-height:100vh}.login-card[_ngcontent-%COMP%]{max-width:100%;width:100%}mat-card-title[_ngcontent-%COMP%]{font-size:20px}mat-card-subtitle[_ngcontent-%COMP%]{font-size:13px}form[_ngcontent-%COMP%]{gap:12px}button[type=submit][_ngcontent-%COMP%]{height:44px;font-size:15px}.error-message[_ngcontent-%COMP%]{font-size:13px;padding:6px 10px}}@media(min-width:768px)and (max-width:1023px){.login-container[_ngcontent-%COMP%]{padding:24px}.login-card[_ngcontent-%COMP%]{max-width:450px}mat-card-title[_ngcontent-%COMP%]{font-size:26px}}@media(min-width:1024px){.login-container[_ngcontent-%COMP%]{padding:32px}.login-card[_ngcontent-%COMP%]{max-width:500px}mat-card-title[_ngcontent-%COMP%]{font-size:28px}button[type=submit][_ngcontent-%COMP%]{height:52px;font-size:17px}}"]})};var Tv=(()=>{class n{static \u0275fac=function(t){return new(t||n)};static \u0275mod=Se({type:n});static \u0275inj=Me({imports:[qe]})}return n})();var vA=["determinateSpinner"];function CA(n,i){if(n&1&&(Ut(),g(0,"svg",11),q(1,"circle",12),m()),n&2){let e=A();pe("viewBox",e._viewBox()),C(),Oi("stroke-dasharray",e._strokeCircumference(),"px")("stroke-dashoffset",e._strokeCircumference()/2,"px")("stroke-width",e._circleStrokeWidth(),"%"),pe("r",e._circleRadius())}}var xA=new $("mat-progress-spinner-default-options",{providedIn:"root",factory:()=>({diameter:Rv})}),Rv=100,wA=10,Iv=(()=>{class n{_elementRef=b(ge);_noopAnimations;get color(){return this._color||this._defaultColor}set color(e){this._color=e}_color;_defaultColor="primary";_determinateCircle;constructor(){let e=b(xA),t=Xm(),a=this._elementRef.nativeElement;this._noopAnimations=t==="di-disabled"&&!!e&&!e._forceAnimations,this.mode=a.nodeName.toLowerCase()==="mat-spinner"?"indeterminate":"determinate",!this._noopAnimations&&t==="reduced-motion"&&a.classList.add("mat-progress-spinner-reduced-motion"),e&&(e.color&&(this.color=this._defaultColor=e.color),e.diameter&&(this.diameter=e.diameter),e.strokeWidth&&(this.strokeWidth=e.strokeWidth))}mode;get value(){return this.mode==="determinate"?this._value:0}set value(e){this._value=Math.max(0,Math.min(100,e||0))}_value=0;get diameter(){return this._diameter}set diameter(e){this._diameter=e||0}_diameter=Rv;get strokeWidth(){return this._strokeWidth??this.diameter/10}set strokeWidth(e){this._strokeWidth=e||0}_strokeWidth;_circleRadius(){return(this.diameter-wA)/2}_viewBox(){let e=this._circleRadius()*2+this.strokeWidth;return`0 0 ${e} ${e}`}_strokeCircumference(){return 2*Math.PI*this._circleRadius()}_strokeDashOffset(){return this.mode==="determinate"?this._strokeCircumference()*(100-this._value)/100:null}_circleStrokeWidth(){return this.strokeWidth/this.diameter*100}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=j({type:n,selectors:[["mat-progress-spinner"],["mat-spinner"]],viewQuery:function(t,a){if(t&1&&Ye(vA,5),t&2){let r;X(r=Z())&&(a._determinateCircle=r.first)}},hostAttrs:["role","progressbar","tabindex","-1",1,"mat-mdc-progress-spinner","mdc-circular-progress"],hostVars:18,hostBindings:function(t,a){t&2&&(pe("aria-valuemin",0)("aria-valuemax",100)("aria-valuenow",a.mode==="determinate"?a.value:null)("mode",a.mode),Ct("mat-"+a.color),Oi("width",a.diameter,"px")("height",a.diameter,"px")("--mat-progress-spinner-size",a.diameter+"px")("--mat-progress-spinner-active-indicator-width",a.diameter+"px"),de("_mat-animation-noopable",a._noopAnimations)("mdc-circular-progress--indeterminate",a.mode==="indeterminate"))},inputs:{color:"color",mode:"mode",value:[2,"value","value",Ai],diameter:[2,"diameter","diameter",Ai],strokeWidth:[2,"strokeWidth","strokeWidth",Ai]},exportAs:["matProgressSpinner"],decls:14,vars:11,consts:[["circle",""],["determinateSpinner",""],["aria-hidden","true",1,"mdc-circular-progress__determinate-container"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__determinate-circle-graphic"],["cx","50%","cy","50%",1,"mdc-circular-progress__determinate-circle"],["aria-hidden","true",1,"mdc-circular-progress__indeterminate-container"],[1,"mdc-circular-progress__spinner-layer"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-left"],[3,"ngTemplateOutlet"],[1,"mdc-circular-progress__gap-patch"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-right"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__indeterminate-circle-graphic"],["cx","50%","cy","50%"]],template:function(t,a){if(t&1&&(H(0,CA,2,8,"ng-template",null,0,Am),g(2,"div",2,1),Ut(),g(4,"svg",3),q(5,"circle",4),m()(),Wr(),g(6,"div",5)(7,"div",6)(8,"div",7),lt(9,8),m(),g(10,"div",9),lt(11,8),m(),g(12,"div",10),lt(13,8),m()()()),t&2){let r=Pi(1);C(4),pe("viewBox",a._viewBox()),C(),Oi("stroke-dasharray",a._strokeCircumference(),"px")("stroke-dashoffset",a._strokeDashOffset(),"px")("stroke-width",a._circleStrokeWidth(),"%"),pe("r",a._circleRadius()),C(4),E("ngTemplateOutlet",r),C(2),E("ngTemplateOutlet",r),C(2),E("ngTemplateOutlet",r)}},dependencies:[Bm],styles:[`.mat-mdc-progress-spinner{--mat-progress-spinner-animation-multiplier: 1;display:block;overflow:hidden;line-height:0;position:relative;direction:ltr;transition:opacity 250ms cubic-bezier(0.4, 0, 0.6, 1)}.mat-mdc-progress-spinner circle{stroke-width:var(--mat-progress-spinner-active-indicator-width, 4px)}.mat-mdc-progress-spinner._mat-animation-noopable,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__determinate-circle{transition:none !important}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__spinner-layer,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container{animation:none !important}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container circle{stroke-dasharray:0 !important}@media(forced-colors: active){.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle{stroke:currentColor;stroke:CanvasText}}.mat-progress-spinner-reduced-motion{--mat-progress-spinner-animation-multiplier: 1.25}.mdc-circular-progress__determinate-container,.mdc-circular-progress__indeterminate-circle-graphic,.mdc-circular-progress__indeterminate-container,.mdc-circular-progress__spinner-layer{position:absolute;width:100%;height:100%}.mdc-circular-progress__determinate-container{transform:rotate(-90deg)}.mdc-circular-progress--indeterminate .mdc-circular-progress__determinate-container{opacity:0}.mdc-circular-progress__indeterminate-container{font-size:0;letter-spacing:0;white-space:nowrap;opacity:0}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{opacity:1;animation:mdc-circular-progress-container-rotate calc(1568.2352941176ms*var(--mat-progress-spinner-animation-multiplier)) linear infinite}.mdc-circular-progress__determinate-circle-graphic,.mdc-circular-progress__indeterminate-circle-graphic{fill:rgba(0,0,0,0)}.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:var(--mat-progress-spinner-active-indicator-color, var(--mat-sys-primary))}@media(forced-colors: active){.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}.mdc-circular-progress__determinate-circle{transition:stroke-dashoffset 500ms cubic-bezier(0, 0, 0.2, 1)}.mdc-circular-progress__gap-patch{position:absolute;top:0;left:47.5%;box-sizing:border-box;width:5%;height:100%;overflow:hidden}.mdc-circular-progress__gap-patch .mdc-circular-progress__indeterminate-circle-graphic{left:-900%;width:2000%;transform:rotate(180deg)}.mdc-circular-progress__circle-clipper .mdc-circular-progress__indeterminate-circle-graphic{width:200%}.mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{left:-100%}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-left .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-left-spin calc(1333ms*var(--mat-progress-spinner-animation-multiplier)) cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-right-spin calc(1333ms*var(--mat-progress-spinner-animation-multiplier)) cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress__circle-clipper{display:inline-flex;position:relative;width:50%;height:100%;overflow:hidden}.mdc-circular-progress--indeterminate .mdc-circular-progress__spinner-layer{animation:mdc-circular-progress-spinner-layer-rotate calc(5332ms*var(--mat-progress-spinner-animation-multiplier)) cubic-bezier(0.4, 0, 0.2, 1) infinite both}@keyframes mdc-circular-progress-container-rotate{to{transform:rotate(360deg)}}@keyframes mdc-circular-progress-spinner-layer-rotate{12.5%{transform:rotate(135deg)}25%{transform:rotate(270deg)}37.5%{transform:rotate(405deg)}50%{transform:rotate(540deg)}62.5%{transform:rotate(675deg)}75%{transform:rotate(810deg)}87.5%{transform:rotate(945deg)}100%{transform:rotate(1080deg)}}@keyframes mdc-circular-progress-left-spin{from{transform:rotate(265deg)}50%{transform:rotate(130deg)}to{transform:rotate(265deg)}}@keyframes mdc-circular-progress-right-spin{from{transform:rotate(-265deg)}50%{transform:rotate(-130deg)}to{transform:rotate(-265deg)}}
`],encapsulation:2,changeDetection:0})}return n})();var Fv=(()=>{class n{static \u0275fac=function(t){return new(t||n)};static \u0275mod=Se({type:n});static \u0275inj=Me({imports:[qe]})}return n})();var Wc=class{applyChanges(i,e,t,a,r){i.forEachOperation((o,s,l)=>{let c,d;if(o.previousIndex==null){let h=t(o,s,l);c=e.createEmbeddedView(h.templateRef,h.context,h.index),d=Va.INSERTED}else l==null?(e.remove(s),d=Va.REMOVED):(c=e.get(s),e.move(c,l),d=Va.MOVED);r&&r({context:c?.context,operation:d,record:o})})}detach(){}};var Ko=class{_multiple;_emitChanges;compareWith;_selection=new Set;_deselectedToEmit=[];_selectedToEmit=[];_selected=null;get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}changed=new G;constructor(i=!1,e,t=!0,a){this._multiple=i,this._emitChanges=t,this.compareWith=a,e&&e.length&&(i?e.forEach(r=>this._markSelected(r)):this._markSelected(e[0]),this._selectedToEmit.length=0)}select(...i){this._verifyValueAssignment(i),i.forEach(t=>this._markSelected(t));let e=this._hasQueuedChanges();return this._emitChangeEvent(),e}deselect(...i){this._verifyValueAssignment(i),i.forEach(t=>this._unmarkSelected(t));let e=this._hasQueuedChanges();return this._emitChangeEvent(),e}setSelection(...i){this._verifyValueAssignment(i);let e=this.selected,t=new Set(i.map(r=>this._getConcreteValue(r)));i.forEach(r=>this._markSelected(r)),e.filter(r=>!t.has(this._getConcreteValue(r,t))).forEach(r=>this._unmarkSelected(r));let a=this._hasQueuedChanges();return this._emitChangeEvent(),a}toggle(i){return this.isSelected(i)?this.deselect(i):this.select(i)}clear(i=!0){this._unmarkAll();let e=this._hasQueuedChanges();return i&&this._emitChangeEvent(),e}isSelected(i){return this._selection.has(this._getConcreteValue(i))}isEmpty(){return this._selection.size===0}hasValue(){return!this.isEmpty()}sort(i){this._multiple&&this.selected&&this._selected.sort(i)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(i){i=this._getConcreteValue(i),this.isSelected(i)||(this._multiple||this._unmarkAll(),this.isSelected(i)||this._selection.add(i),this._emitChanges&&this._selectedToEmit.push(i))}_unmarkSelected(i){i=this._getConcreteValue(i),this.isSelected(i)&&(this._selection.delete(i),this._emitChanges&&this._deselectedToEmit.push(i))}_unmarkAll(){this.isEmpty()||this._selection.forEach(i=>this._unmarkSelected(i))}_verifyValueAssignment(i){i.length>1&&this._multiple}_hasQueuedChanges(){return!!(this._deselectedToEmit.length||this._selectedToEmit.length)}_getConcreteValue(i,e){if(this.compareWith){e=e??this._selection;for(let t of e)if(this.compareWith(i,t))return t;return i}else return i}};var DA=["trigger"],EA=["panel"],kA=[[["mat-select-trigger"]],"*"],PA=["mat-select-trigger","*"];function OA(n,i){if(n&1&&(g(0,"span",4),v(1),m()),n&2){let e=A();C(),K(e.placeholder)}}function AA(n,i){n&1&&De(0)}function TA(n,i){if(n&1&&(g(0,"span",11),v(1),m()),n&2){let e=A(2);C(),K(e.triggerValue)}}function RA(n,i){if(n&1&&(g(0,"span",5),te(1,AA,1,0)(2,TA,2,1,"span",11),m()),n&2){let e=A();C(),ie(e.customTrigger?1:2)}}function IA(n,i){if(n&1){let e=ke();g(0,"div",12,1),I("keydown",function(a){V(e);let r=A();return z(r._handleKeydown(a))}),De(2,1),m()}if(n&2){let e=A();Ct(e.panelClass),de("mat-select-panel-animations-enabled",!e._animationsDisabled)("mat-primary",(e._parentFormField==null?null:e._parentFormField.color)==="primary")("mat-accent",(e._parentFormField==null?null:e._parentFormField.color)==="accent")("mat-warn",(e._parentFormField==null?null:e._parentFormField.color)==="warn")("mat-undefined",!(e._parentFormField!=null&&e._parentFormField.color)),pe("id",e.id+"-panel")("aria-multiselectable",e.multiple)("aria-label",e.ariaLabel||null)("aria-labelledby",e._getPanelAriaLabelledby())}}var FA=new $("mat-select-scroll-strategy",{providedIn:"root",factory:()=>{let n=b(Ue);return()=>ja(n)}}),NA=new $("MAT_SELECT_CONFIG"),LA=new $("MatSelectTrigger"),kp=class{source;value;constructor(i,e){this.source=i,this.value=e}},Ir=(()=>{class n{_viewportRuler=b(Hs);_changeDetectorRef=b(ye);_elementRef=b(ge);_dir=b(Yt,{optional:!0});_idGenerator=b(ri);_renderer=b(ki);_parentFormField=b(Bs,{optional:!0});ngControl=b(Bd,{self:!0,optional:!0});_liveAnnouncer=b(Ds);_defaultOptions=b(NA,{optional:!0});_animationsDisabled=ht();_popoverLocation;_initialized=new G;_cleanupDetach;options;optionGroups;customTrigger;_positions=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"}];_scrollOptionIntoView(e){let t=this.options.toArray()[e];if(t){let a=this.panel.nativeElement,r=Dv(e,this.options,this.optionGroups),o=t._getHostElement();e===0&&r===1?a.scrollTop=0:a.scrollTop=Ev(o.offsetTop,o.offsetHeight,a.scrollTop,a.offsetHeight)}}_positioningSettled(){this._scrollOptionIntoView(this._keyManager.activeItemIndex||0)}_getChangeEvent(e){return new kp(this,e)}_scrollStrategyFactory=b(FA);_panelOpen=!1;_compareWith=(e,t)=>e===t;_uid=this._idGenerator.getId("mat-select-");_triggerAriaLabelledBy=null;_previousControl;_destroy=new G;_errorStateTracker;stateChanges=new G;disableAutomaticLabeling=!0;userAriaDescribedBy;_selectionModel;_keyManager;_preferredOverlayOrigin;_overlayWidth;_onChange=()=>{};_onTouched=()=>{};_valueId=this._idGenerator.getId("mat-select-value-");_scrollStrategy;_overlayPanelClass=this._defaultOptions?.overlayPanelClass||"";get focused(){return this._focused||this._panelOpen}_focused=!1;controlType="mat-select";trigger;panel;_overlayDir;panelClass;disabled=!1;get disableRipple(){return this._disableRipple()}set disableRipple(e){this._disableRipple.set(e)}_disableRipple=J(!1);tabIndex=0;get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(e){this._hideSingleSelectionIndicator=e,this._syncParentProperties()}_hideSingleSelectionIndicator=this._defaultOptions?.hideSingleSelectionIndicator??!1;get placeholder(){return this._placeholder}set placeholder(e){this._placeholder=e,this.stateChanges.next()}_placeholder;get required(){return this._required??this.ngControl?.control?.hasValidator(He.required)??!1}set required(e){this._required=e,this.stateChanges.next()}_required;get multiple(){return this._multiple}set multiple(e){this._selectionModel,this._multiple=e}_multiple=!1;disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1;get compareWith(){return this._compareWith}set compareWith(e){this._compareWith=e,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(e){this._assignValue(e)&&this._onChange(e)}_value;ariaLabel="";ariaLabelledby;get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(e){this._errorStateTracker.matcher=e}typeaheadDebounceInterval;sortComparator;get id(){return this._id}set id(e){this._id=e||this._uid,this.stateChanges.next()}_id;get errorState(){return this._errorStateTracker.errorState}set errorState(e){this._errorStateTracker.errorState=e}panelWidth=this._defaultOptions&&typeof this._defaultOptions.panelWidth<"u"?this._defaultOptions.panelWidth:"auto";canSelectNullableOptions=this._defaultOptions?.canSelectNullableOptions??!1;optionSelectionChanges=Pa(()=>{let e=this.options;return e?e.changes.pipe(jt(e),Oe(()=>bt(...e.map(t=>t.onSelectionChange)))):this._initialized.pipe(Oe(()=>this.optionSelectionChanges))});openedChange=new W;_openedStream=this.openedChange.pipe(yt(e=>e),ee(()=>{}));_closedStream=this.openedChange.pipe(yt(e=>!e),ee(()=>{}));selectionChange=new W;valueChange=new W;constructor(){let e=b(Ss),t=b(jd,{optional:!0}),a=b(aa,{optional:!0}),r=b(new _n("tabindex"),{optional:!0}),o=b(Sf,{optional:!0});this.ngControl&&(this.ngControl.valueAccessor=this),this._defaultOptions?.typeaheadDebounceInterval!=null&&(this.typeaheadDebounceInterval=this._defaultOptions.typeaheadDebounceInterval),this._errorStateTracker=new Zm(e,this.ngControl,a,t,this.stateChanges),this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=r==null?0:parseInt(r)||0,this._popoverLocation=o?.usePopover===!1?null:"inline",this.id=this.id}ngOnInit(){this._selectionModel=new Ko(this.multiple),this.stateChanges.next(),this._viewportRuler.change().pipe(Ce(this._destroy)).subscribe(()=>{this.panelOpen&&(this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._changeDetectorRef.detectChanges())})}ngAfterContentInit(){this._initialized.next(),this._initialized.complete(),this._initKeyManager(),this._selectionModel.changed.pipe(Ce(this._destroy)).subscribe(e=>{e.added.forEach(t=>t.select()),e.removed.forEach(t=>t.deselect())}),this.options.changes.pipe(jt(null),Ce(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){let e=this._getTriggerAriaLabelledby(),t=this.ngControl;if(e!==this._triggerAriaLabelledBy){let a=this._elementRef.nativeElement;this._triggerAriaLabelledBy=e,e?a.setAttribute("aria-labelledby",e):a.removeAttribute("aria-labelledby")}t&&(this._previousControl!==t.control&&(this._previousControl!==void 0&&t.disabled!==null&&t.disabled!==this.disabled&&(this.disabled=t.disabled),this._previousControl=t.control),this.updateErrorState())}ngOnChanges(e){(e.disabled||e.userAriaDescribedBy)&&this.stateChanges.next(),e.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this.typeaheadDebounceInterval),e.panelClass&&this.panelClass instanceof Set&&(this.panelClass=Array.from(this.panelClass))}ngOnDestroy(){this._cleanupDetach?.(),this._keyManager?.destroy(),this._destroy.next(),this._destroy.complete(),this.stateChanges.complete(),this._clearFromModal()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._parentFormField&&(this._preferredOverlayOrigin=this._parentFormField.getConnectedOverlayOrigin()),this._cleanupDetach?.(),this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._applyModalPanelOwnership(),this._panelOpen=!0,this._overlayDir.positionChange.pipe(vt(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()}),this._overlayDir.attachOverlay(),this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck(),this.stateChanges.next(),Promise.resolve().then(()=>this.openedChange.emit(!0)))}_trackedModal=null;_applyModalPanelOwnership(){let e=this._elementRef.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!e)return;let t=`${this.id}-panel`;this._trackedModal&&Vd(this._trackedModal,"aria-owns",t),of(e,"aria-owns",t),this._trackedModal=e}_clearFromModal(){if(!this._trackedModal)return;let e=`${this.id}-panel`;Vd(this._trackedModal,"aria-owns",e),this._trackedModal=null}close(){this._panelOpen&&(this._panelOpen=!1,this._exitAndDetach(),this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched(),this.stateChanges.next(),Promise.resolve().then(()=>this.openedChange.emit(!1)))}_exitAndDetach(){if(this._animationsDisabled||!this.panel){this._detachOverlay();return}this._cleanupDetach?.(),this._cleanupDetach=()=>{t(),clearTimeout(a),this._cleanupDetach=void 0};let e=this.panel.nativeElement,t=this._renderer.listen(e,"animationend",r=>{r.animationName==="_mat-select-exit"&&(this._cleanupDetach?.(),this._detachOverlay())}),a=setTimeout(()=>{this._cleanupDetach?.(),this._detachOverlay()},200);e.classList.add("mat-select-panel-exit")}_detachOverlay(){this._overlayDir.detachOverlay(),this._changeDetectorRef.markForCheck()}writeValue(e){this._assignValue(e)}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){let e=this._selectionModel.selected.map(t=>t.viewValue);return this._isRtl()&&e.reverse(),e.join(", ")}return this._selectionModel.selected[0].viewValue}updateErrorState(){this._errorStateTracker.updateErrorState()}_isRtl(){return this._dir?this._dir.value==="rtl":!1}_handleKeydown(e){this.disabled||(this.panelOpen?this._handleOpenKeydown(e):this._handleClosedKeydown(e))}_handleClosedKeydown(e){let t=e.keyCode,a=t===40||t===38||t===37||t===39,r=t===13||t===32,o=this._keyManager;if(!o.isTyping()&&r&&!Dt(e)||(this.multiple||e.altKey)&&a)e.preventDefault(),this.open();else if(!this.multiple){let s=this.selected;o.onKeydown(e);let l=this.selected;l&&s!==l&&this._liveAnnouncer.announce(l.viewValue,1e4)}}_handleOpenKeydown(e){let t=this._keyManager,a=e.keyCode,r=a===40||a===38,o=t.isTyping();if(r&&e.altKey)e.preventDefault(),this.close();else if(!o&&(a===13||a===32)&&t.activeItem&&!Dt(e))e.preventDefault(),t.activeItem._selectViaInteraction();else if(!o&&this._multiple&&a===65&&e.ctrlKey){e.preventDefault();let s=this.options.some(l=>!l.disabled&&!l.selected);this.options.forEach(l=>{l.disabled||(s?l.select():l.deselect())})}else{let s=t.activeItemIndex;t.onKeydown(e),this._multiple&&r&&e.shiftKey&&t.activeItem&&t.activeItemIndex!==s&&t.activeItem._selectViaInteraction()}}_handleOverlayKeydown(e){e.keyCode===27&&!Dt(e)&&(e.preventDefault(),this.close())}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this._keyManager?.cancelTypeahead(),!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(e){if(this.options.forEach(t=>t.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&e)Array.isArray(e),e.forEach(t=>this._selectOptionByValue(t)),this._sortValues();else{let t=this._selectOptionByValue(e);t?this._keyManager.updateActiveItem(t):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(e){let t=this.options.find(a=>{if(this._selectionModel.isSelected(a))return!1;try{return(a.value!=null||this.canSelectNullableOptions)&&this._compareWith(a.value,e)}catch{return!1}});return t&&this._selectionModel.select(t),t}_assignValue(e){return e!==this._value||this._multiple&&Array.isArray(e)?(this.options&&this._setSelectionByValue(e),this._value=e,!0):!1}_skipPredicate=e=>this.panelOpen?!1:e.disabled;_getOverlayWidth(e){return this.panelWidth==="auto"?(e instanceof Yd?e.elementRef:e||this._elementRef).nativeElement.getBoundingClientRect().width:this.panelWidth===null?"":this.panelWidth}_syncParentProperties(){if(this.options)for(let e of this.options)e._changeDetectorRef.markForCheck()}_initKeyManager(){this._keyManager=new af(this.options).withTypeAhead(this.typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withPageUpDown().withAllowedModifierKeys(["shiftKey"]).skipPredicate(this._skipPredicate),this._keyManager.tabOut.subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){let e=bt(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(Ce(e)).subscribe(t=>{this._onSelect(t.source,t.isUserInput),t.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),bt(...this.options.map(t=>t._stateChanges)).pipe(Ce(e)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this.stateChanges.next()})}_onSelect(e,t){let a=this._selectionModel.isSelected(e);!this.canSelectNullableOptions&&e.value==null&&!this._multiple?(e.deselect(),this._selectionModel.clear(),this.value!=null&&this._propagateChanges(e.value)):(a!==e.selected&&(e.selected?this._selectionModel.select(e):this._selectionModel.deselect(e)),t&&this._keyManager.setActiveItem(e),this.multiple&&(this._sortValues(),t&&this.focus())),a!==this._selectionModel.isSelected(e)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){let e=this.options.toArray();this._selectionModel.sort((t,a)=>this.sortComparator?this.sortComparator(t,a,e):e.indexOf(t)-e.indexOf(a)),this.stateChanges.next()}}_propagateChanges(e){let t;this.multiple?t=this.selected.map(a=>a.value):t=this.selected?this.selected.value:e,this._value=t,this.valueChange.emit(t),this._onChange(t),this.selectionChange.emit(this._getChangeEvent(t)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){if(this._keyManager)if(this.empty){let e=-1;for(let t=0;t<this.options.length;t++)if(!this.options.get(t).disabled){e=t;break}this._keyManager.setActiveItem(e)}else this._keyManager.setActiveItem(this._selectionModel.selected[0])}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0&&!!this._overlayDir}focus(e){this._elementRef.nativeElement.focus(e)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;let e=this._parentFormField?.getLabelId()||null,t=e?e+" ":"";return this.ariaLabelledby?t+this.ariaLabelledby:e}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;let e=this._parentFormField?.getLabelId()||"";return this.ariaLabelledby&&(e+=" "+this.ariaLabelledby),e||(e=this._valueId),e}get describedByIds(){return this._elementRef.nativeElement.getAttribute("aria-describedby")?.split(" ")||[]}setDescribedByIds(e){let t=this._elementRef.nativeElement;e.length?t.setAttribute("aria-describedby",e.join(" ")):t.removeAttribute("aria-describedby")}onContainerClick(e){let t=Jm(e);t&&(t.tagName==="MAT-OPTION"||t.classList.contains("cdk-overlay-backdrop")||t.closest(".mat-mdc-select-panel"))||(this.focus(),this.open())}get shouldLabelFloat(){return this.panelOpen||!this.empty||this.focused&&!!this.placeholder}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=j({type:n,selectors:[["mat-select"]],contentQueries:function(t,a,r){if(t&1&&ni(r,LA,5)(r,Wi,5)(r,xp,5),t&2){let o;X(o=Z())&&(a.customTrigger=o.first),X(o=Z())&&(a.options=o),X(o=Z())&&(a.optionGroups=o)}},viewQuery:function(t,a){if(t&1&&Ye(DA,5)(EA,5)(qd,5),t&2){let r;X(r=Z())&&(a.trigger=r.first),X(r=Z())&&(a.panel=r.first),X(r=Z())&&(a._overlayDir=r.first)}},hostAttrs:["role","combobox","aria-haspopup","listbox",1,"mat-mdc-select"],hostVars:21,hostBindings:function(t,a){t&1&&I("keydown",function(o){return a._handleKeydown(o)})("focus",function(){return a._onFocus()})("blur",function(){return a._onBlur()}),t&2&&(pe("id",a.id)("tabindex",a.disabled?-1:a.tabIndex)("aria-controls",a.panelOpen?a.id+"-panel":null)("aria-expanded",a.panelOpen)("aria-label",a.ariaLabel||null)("aria-required",a.required.toString())("aria-disabled",a.disabled.toString())("aria-invalid",a.errorState)("aria-activedescendant",a._getAriaActiveDescendant()),de("mat-mdc-select-disabled",a.disabled)("mat-mdc-select-invalid",a.errorState)("mat-mdc-select-required",a.required)("mat-mdc-select-empty",a.empty)("mat-mdc-select-multiple",a.multiple)("mat-select-open",a.panelOpen))},inputs:{userAriaDescribedBy:[0,"aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",disabled:[2,"disabled","disabled",ce],disableRipple:[2,"disableRipple","disableRipple",ce],tabIndex:[2,"tabIndex","tabIndex",e=>e==null?0:Ai(e)],hideSingleSelectionIndicator:[2,"hideSingleSelectionIndicator","hideSingleSelectionIndicator",ce],placeholder:"placeholder",required:[2,"required","required",ce],multiple:[2,"multiple","multiple",ce],disableOptionCentering:[2,"disableOptionCentering","disableOptionCentering",ce],compareWith:"compareWith",value:"value",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:[2,"typeaheadDebounceInterval","typeaheadDebounceInterval",Ai],sortComparator:"sortComparator",id:"id",panelWidth:"panelWidth",canSelectNullableOptions:[2,"canSelectNullableOptions","canSelectNullableOptions",ce]},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},exportAs:["matSelect"],features:[We([{provide:Hd,useExisting:n},{provide:Cp,useExisting:n}]),ze],ngContentSelectors:PA,decls:11,vars:10,consts:[["fallbackOverlayOrigin","cdkOverlayOrigin","trigger",""],["panel",""],["cdk-overlay-origin","",1,"mat-mdc-select-trigger",3,"click"],[1,"mat-mdc-select-value"],[1,"mat-mdc-select-placeholder","mat-mdc-select-min-line"],[1,"mat-mdc-select-value-text"],[1,"mat-mdc-select-arrow-wrapper"],[1,"mat-mdc-select-arrow"],["viewBox","0 0 24 24","width","24px","height","24px","focusable","false","aria-hidden","true"],["d","M7 10l5 5 5-5z"],["cdk-connected-overlay","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"detach","backdropClick","overlayKeydown","cdkConnectedOverlayDisableClose","cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayPositions","cdkConnectedOverlayWidth","cdkConnectedOverlayFlexibleDimensions","cdkConnectedOverlayUsePopover"],[1,"mat-mdc-select-min-line"],["role","listbox","tabindex","-1",1,"mat-mdc-select-panel","mdc-menu-surface","mdc-menu-surface--open",3,"keydown"]],template:function(t,a){if(t&1){let r=ke();et(kA),g(0,"div",2,0),I("click",function(){return V(r),z(a.open())}),g(3,"div",3),te(4,OA,2,1,"span",4)(5,RA,3,1,"span",5),m(),g(6,"div",6)(7,"div",7),Ut(),g(8,"svg",8),q(9,"path",9),m()()()(),H(10,IA,3,16,"ng-template",10),I("detach",function(){return V(r),z(a.close())})("backdropClick",function(){return V(r),z(a.close())})("overlayKeydown",function(s){return V(r),z(a._handleOverlayKeydown(s))})}if(t&2){let r=Pi(1);C(3),pe("id",a._valueId),C(),ie(a.empty?4:5),C(6),E("cdkConnectedOverlayDisableClose",!0)("cdkConnectedOverlayPanelClass",a._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",a._scrollStrategy)("cdkConnectedOverlayOrigin",a._preferredOverlayOrigin||r)("cdkConnectedOverlayPositions",a._positions)("cdkConnectedOverlayWidth",a._overlayWidth)("cdkConnectedOverlayFlexibleDimensions",!0)("cdkConnectedOverlayUsePopover",a._popoverLocation)}},dependencies:[Yd,qd],styles:[`@keyframes _mat-select-enter{from{opacity:0;transform:scaleY(0.8)}to{opacity:1;transform:none}}@keyframes _mat-select-exit{from{opacity:1}to{opacity:0}}.mat-mdc-select{display:inline-block;width:100%;outline:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-select-enabled-trigger-text-color, var(--mat-sys-on-surface));font-family:var(--mat-select-trigger-text-font, var(--mat-sys-body-large-font));line-height:var(--mat-select-trigger-text-line-height, var(--mat-sys-body-large-line-height));font-size:var(--mat-select-trigger-text-size, var(--mat-sys-body-large-size));font-weight:var(--mat-select-trigger-text-weight, var(--mat-sys-body-large-weight));letter-spacing:var(--mat-select-trigger-text-tracking, var(--mat-sys-body-large-tracking))}div.mat-mdc-select-panel{box-shadow:var(--mat-select-container-elevation-shadow, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-select-disabled{color:var(--mat-select-disabled-trigger-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-select-disabled .mat-mdc-select-placeholder{color:var(--mat-select-disabled-trigger-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-mdc-select-disabled .mat-mdc-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-mdc-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-mdc-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-mdc-select-arrow-wrapper{height:24px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mdc-text-field--no-label .mat-mdc-select-arrow-wrapper{transform:none}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-invalid .mat-mdc-select-arrow,.mat-form-field-invalid:not(.mat-form-field-disabled) .mat-mdc-form-field-infix::after{color:var(--mat-select-invalid-arrow-color, var(--mat-sys-error))}.mat-mdc-select-arrow{width:10px;height:5px;position:relative;color:var(--mat-select-enabled-arrow-color, var(--mat-sys-on-surface-variant))}.mat-mdc-form-field.mat-focused .mat-mdc-select-arrow{color:var(--mat-select-focused-arrow-color, var(--mat-sys-primary))}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-disabled .mat-mdc-select-arrow{color:var(--mat-select-disabled-arrow-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-select-open .mat-mdc-select-arrow{transform:rotate(180deg)}.mat-form-field-animations-enabled .mat-mdc-select-arrow{transition:transform 80ms linear}.mat-mdc-select-arrow svg{fill:currentColor;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}@media(forced-colors: active){.mat-mdc-select-arrow svg{fill:CanvasText}.mat-mdc-select-disabled .mat-mdc-select-arrow svg{fill:GrayText}}div.mat-mdc-select-panel{width:100%;max-height:275px;outline:0;overflow:auto;padding:8px 0;border-radius:4px;box-sizing:border-box;position:relative;background-color:var(--mat-select-panel-background-color, var(--mat-sys-surface-container))}@media(forced-colors: active){div.mat-mdc-select-panel{outline:solid 1px}}.cdk-overlay-pane:not(.mat-mdc-select-panel-above) div.mat-mdc-select-panel{border-top-left-radius:0;border-top-right-radius:0;transform-origin:top center}.mat-mdc-select-panel-above div.mat-mdc-select-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:bottom center}.mat-select-panel-animations-enabled{animation:_mat-select-enter 120ms cubic-bezier(0, 0, 0.2, 1)}.mat-select-panel-animations-enabled.mat-select-panel-exit{animation:_mat-select-exit 100ms linear}.mat-mdc-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1);color:var(--mat-select-placeholder-text-color, var(--mat-sys-on-surface-variant))}.mat-mdc-form-field:not(.mat-form-field-animations-enabled) .mat-mdc-select-placeholder,._mat-animation-noopable .mat-mdc-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-mdc-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-mdc-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper{cursor:pointer}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mat-mdc-floating-label{max-width:calc(100% - 18px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 24px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-text-field--label-floating .mdc-notched-outline__notch{max-width:calc(100% - 24px)}.mat-mdc-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}.mat-form-field-appearance-fill .mat-mdc-select-arrow-wrapper{transform:var(--mat-select-arrow-transform, translateY(-8px))}
`],encapsulation:2,changeDetection:0})}return n})();var Zn=(()=>{class n{static \u0275fac=function(t){return new(t||n)};static \u0275mod=Se({type:n});static \u0275inj=Me({imports:[ra,wp,qe,za,oi,wp]})}return n})();var VA=[[["caption"]],[["colgroup"],["col"]],"*"],zA=["caption","colgroup, col","*"];function BA(n,i){n&1&&De(0,2)}function jA(n,i){n&1&&(g(0,"thead",0),lt(1,1),m(),g(2,"tbody",0),lt(3,2)(4,3),m(),g(5,"tfoot",0),lt(6,4),m())}function HA(n,i){n&1&&lt(0,1)(1,2)(2,3)(3,4)}var Di=new $("CDK_TABLE");var qc=(()=>{class n{template=b(ti);constructor(){}static \u0275fac=function(t){return new(t||n)};static \u0275dir=Y({type:n,selectors:[["","cdkCellDef",""]]})}return n})(),Gc=(()=>{class n{template=b(ti);constructor(){}static \u0275fac=function(t){return new(t||n)};static \u0275dir=Y({type:n,selectors:[["","cdkHeaderCellDef",""]]})}return n})(),Vv=(()=>{class n{template=b(ti);constructor(){}static \u0275fac=function(t){return new(t||n)};static \u0275dir=Y({type:n,selectors:[["","cdkFooterCellDef",""]]})}return n})(),Fr=(()=>{class n{_table=b(Di,{optional:!0});_hasStickyChanged=!1;get name(){return this._name}set name(e){this._setNameInput(e)}_name;get sticky(){return this._sticky}set sticky(e){e!==this._sticky&&(this._sticky=e,this._hasStickyChanged=!0)}_sticky=!1;get stickyEnd(){return this._stickyEnd}set stickyEnd(e){e!==this._stickyEnd&&(this._stickyEnd=e,this._hasStickyChanged=!0)}_stickyEnd=!1;cell;headerCell;footerCell;cssClassFriendlyName;_columnCssClassName;constructor(){}hasStickyChanged(){let e=this._hasStickyChanged;return this.resetStickyChanged(),e}resetStickyChanged(){this._hasStickyChanged=!1}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(e){e&&(this._name=e,this.cssClassFriendlyName=e.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}static \u0275fac=function(t){return new(t||n)};static \u0275dir=Y({type:n,selectors:[["","cdkColumnDef",""]],contentQueries:function(t,a,r){if(t&1&&ni(r,qc,5)(r,Gc,5)(r,Vv,5),t&2){let o;X(o=Z())&&(a.cell=o.first),X(o=Z())&&(a.headerCell=o.first),X(o=Z())&&(a.footerCell=o.first)}},inputs:{name:[0,"cdkColumnDef","name"],sticky:[2,"sticky","sticky",ce],stickyEnd:[2,"stickyEnd","stickyEnd",ce]},features:[We([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}])]})}return n})(),Yc=class{constructor(i,e){e.nativeElement.classList.add(...i._columnCssClassName)}},zv=(()=>{class n extends Yc{constructor(){super(b(Fr),b(ge))}static \u0275fac=function(t){return new(t||n)};static \u0275dir=Y({type:n,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],features:[Re]})}return n})();var Bv=(()=>{class n extends Yc{constructor(){let e=b(Fr),t=b(ge);super(e,t);let a=e._table?._getCellRole();a&&t.nativeElement.setAttribute("role",a)}static \u0275fac=function(t){return new(t||n)};static \u0275dir=Y({type:n,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:[1,"cdk-cell"],features:[Re]})}return n})();var Ap=(()=>{class n{template=b(ti);_differs=b(Aa);columns;_columnsDiffer;constructor(){}ngOnChanges(e){if(!this._columnsDiffer){let t=e.columns&&e.columns.currentValue||[];this._columnsDiffer=this._differs.find(t).create(),this._columnsDiffer.diff(t)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(e){return this instanceof Xo?e.headerCell.template:this instanceof Tp?e.footerCell.template:e.cell.template}static \u0275fac=function(t){return new(t||n)};static \u0275dir=Y({type:n,features:[ze]})}return n})(),Xo=(()=>{class n extends Ap{_table=b(Di,{optional:!0});_hasStickyChanged=!1;get sticky(){return this._sticky}set sticky(e){e!==this._sticky&&(this._sticky=e,this._hasStickyChanged=!0)}_sticky=!1;constructor(){super(b(ti),b(Aa))}ngOnChanges(e){super.ngOnChanges(e)}hasStickyChanged(){let e=this._hasStickyChanged;return this.resetStickyChanged(),e}resetStickyChanged(){this._hasStickyChanged=!1}static \u0275fac=function(t){return new(t||n)};static \u0275dir=Y({type:n,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:[0,"cdkHeaderRowDef","columns"],sticky:[2,"cdkHeaderRowDefSticky","sticky",ce]},features:[Re,ze]})}return n})(),Tp=(()=>{class n extends Ap{_table=b(Di,{optional:!0});_hasStickyChanged=!1;get sticky(){return this._sticky}set sticky(e){e!==this._sticky&&(this._sticky=e,this._hasStickyChanged=!0)}_sticky=!1;constructor(){super(b(ti),b(Aa))}ngOnChanges(e){super.ngOnChanges(e)}hasStickyChanged(){let e=this._hasStickyChanged;return this.resetStickyChanged(),e}resetStickyChanged(){this._hasStickyChanged=!1}static \u0275fac=function(t){return new(t||n)};static \u0275dir=Y({type:n,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:[0,"cdkFooterRowDef","columns"],sticky:[2,"cdkFooterRowDefSticky","sticky",ce]},features:[Re,ze]})}return n})(),Kc=(()=>{class n extends Ap{_table=b(Di,{optional:!0});when;constructor(){super(b(ti),b(Aa))}static \u0275fac=function(t){return new(t||n)};static \u0275dir=Y({type:n,selectors:[["","cdkRowDef",""]],inputs:{columns:[0,"cdkRowDefColumns","columns"],when:[0,"cdkRowDefWhen","when"]},features:[Re]})}return n})(),Ea=(()=>{class n{_viewContainer=b(ii);cells;context;static mostRecentCellOutlet=null;constructor(){n.mostRecentCellOutlet=this}ngOnDestroy(){n.mostRecentCellOutlet===this&&(n.mostRecentCellOutlet=null)}static \u0275fac=function(t){return new(t||n)};static \u0275dir=Y({type:n,selectors:[["","cdkCellOutlet",""]]})}return n})(),Rp=(()=>{class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=j({type:n,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,a){t&1&&lt(0,0)},dependencies:[Ea],encapsulation:2})}return n})();var Ip=(()=>{class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=j({type:n,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,a){t&1&&lt(0,0)},dependencies:[Ea],encapsulation:2})}return n})(),Qc=(()=>{class n{templateRef=b(ti);_contentClassNames=["cdk-no-data-row","cdk-row"];_cellClassNames=["cdk-cell","cdk-no-data-cell"];_cellSelector="td, cdk-cell, [cdk-cell], .cdk-cell";constructor(){}static \u0275fac=function(t){return new(t||n)};static \u0275dir=Y({type:n,selectors:[["ng-template","cdkNoDataRow",""]]})}return n})(),Nv=["top","bottom","left","right"],Op=class{_isNativeHtmlTable;_stickCellCss;_isBrowser;_needsPositionStickyOnElement;direction;_positionListener;_tableInjector;_elemSizeCache=new WeakMap;_resizeObserver=globalThis?.ResizeObserver?new globalThis.ResizeObserver(i=>this._updateCachedSizes(i)):null;_updatedStickyColumnsParamsToReplay=[];_stickyColumnsReplayTimeout=null;_cachedCellWidths=[];_borderCellCss;_destroyed=!1;constructor(i,e,t=!0,a=!0,r,o,s){this._isNativeHtmlTable=i,this._stickCellCss=e,this._isBrowser=t,this._needsPositionStickyOnElement=a,this.direction=r,this._positionListener=o,this._tableInjector=s,this._borderCellCss={top:`${e}-border-elem-top`,bottom:`${e}-border-elem-bottom`,left:`${e}-border-elem-left`,right:`${e}-border-elem-right`}}clearStickyPositioning(i,e){(e.includes("left")||e.includes("right"))&&this._removeFromStickyColumnReplayQueue(i);let t=[];for(let a of i)a.nodeType===a.ELEMENT_NODE&&t.push(a,...Array.from(a.children));st({write:()=>{for(let a of t)this._removeStickyStyle(a,e)}},{injector:this._tableInjector})}updateStickyColumns(i,e,t,a=!0,r=!0){if(!i.length||!this._isBrowser||!(e.some(y=>y)||t.some(y=>y))){this._positionListener?.stickyColumnsUpdated({sizes:[]}),this._positionListener?.stickyEndColumnsUpdated({sizes:[]});return}let o=i[0],s=o.children.length,l=this.direction==="rtl",c=l?"right":"left",d=l?"left":"right",h=e.lastIndexOf(!0),u=t.indexOf(!0),p,f,_;r&&this._updateStickyColumnReplayQueue({rows:[...i],stickyStartStates:[...e],stickyEndStates:[...t]}),st({earlyRead:()=>{p=this._getCellWidths(o,a),f=this._getStickyStartColumnPositions(p,e),_=this._getStickyEndColumnPositions(p,t)},write:()=>{for(let y of i)for(let x=0;x<s;x++){let w=y.children[x];e[x]&&this._addStickyStyle(w,c,f[x],x===h),t[x]&&this._addStickyStyle(w,d,_[x],x===u)}this._positionListener&&p.some(y=>!!y)&&(this._positionListener.stickyColumnsUpdated({sizes:h===-1?[]:p.slice(0,h+1).map((y,x)=>e[x]?y:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:u===-1?[]:p.slice(u).map((y,x)=>t[x+u]?y:null).reverse()}))}},{injector:this._tableInjector})}stickRows(i,e,t){if(!this._isBrowser)return;let a=t==="bottom"?i.slice().reverse():i,r=t==="bottom"?e.slice().reverse():e,o=[],s=[],l=[];st({earlyRead:()=>{for(let c=0,d=0;c<a.length;c++){if(!r[c])continue;o[c]=d;let h=a[c];l[c]=this._isNativeHtmlTable?Array.from(h.children):[h];let u=this._retrieveElementSize(h).height;d+=u,s[c]=u}},write:()=>{let c=r.lastIndexOf(!0);for(let d=0;d<a.length;d++){if(!r[d])continue;let h=o[d],u=d===c;for(let p of l[d])this._addStickyStyle(p,t,h,u)}t==="top"?this._positionListener?.stickyHeaderRowsUpdated({sizes:s,offsets:o,elements:l}):this._positionListener?.stickyFooterRowsUpdated({sizes:s,offsets:o,elements:l})}},{injector:this._tableInjector})}updateStickyFooterContainer(i,e){this._isNativeHtmlTable&&st({write:()=>{let t=i.querySelector("tfoot");t&&(e.some(a=>!a)?this._removeStickyStyle(t,["bottom"]):this._addStickyStyle(t,"bottom",0,!1))}},{injector:this._tableInjector})}destroy(){this._stickyColumnsReplayTimeout&&clearTimeout(this._stickyColumnsReplayTimeout),this._resizeObserver?.disconnect(),this._destroyed=!0}_removeStickyStyle(i,e){if(!i.classList.contains(this._stickCellCss))return;for(let a of e)i.style[a]="",i.classList.remove(this._borderCellCss[a]);Nv.some(a=>e.indexOf(a)===-1&&i.style[a])?i.style.zIndex=this._getCalculatedZIndex(i):(i.style.zIndex="",this._needsPositionStickyOnElement&&(i.style.position=""),i.classList.remove(this._stickCellCss))}_addStickyStyle(i,e,t,a){i.classList.add(this._stickCellCss),a&&i.classList.add(this._borderCellCss[e]),i.style[e]=`${t}px`,i.style.zIndex=this._getCalculatedZIndex(i),this._needsPositionStickyOnElement&&(i.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(i){let e={top:100,bottom:10,left:1,right:1},t=0;for(let a of Nv)i.style[a]&&(t+=e[a]);return t?`${t}`:""}_getCellWidths(i,e=!0){if(!e&&this._cachedCellWidths.length)return this._cachedCellWidths;let t=[],a=i.children;for(let r=0;r<a.length;r++){let o=a[r];t.push(this._retrieveElementSize(o).width)}return this._cachedCellWidths=t,t}_getStickyStartColumnPositions(i,e){let t=[],a=0;for(let r=0;r<i.length;r++)e[r]&&(t[r]=a,a+=i[r]);return t}_getStickyEndColumnPositions(i,e){let t=[],a=0;for(let r=i.length;r>0;r--)e[r]&&(t[r]=a,a+=i[r]);return t}_retrieveElementSize(i){let e=this._elemSizeCache.get(i);if(e)return e;let t=i.getBoundingClientRect(),a={width:t.width,height:t.height};return this._resizeObserver&&(this._elemSizeCache.set(i,a),this._resizeObserver.observe(i,{box:"border-box"})),a}_updateStickyColumnReplayQueue(i){this._removeFromStickyColumnReplayQueue(i.rows),this._stickyColumnsReplayTimeout||this._updatedStickyColumnsParamsToReplay.push(i)}_removeFromStickyColumnReplayQueue(i){let e=new Set(i);for(let t of this._updatedStickyColumnsParamsToReplay)t.rows=t.rows.filter(a=>!e.has(a));this._updatedStickyColumnsParamsToReplay=this._updatedStickyColumnsParamsToReplay.filter(t=>!!t.rows.length)}_updateCachedSizes(i){let e=!1;for(let t of i){let a=t.borderBoxSize?.length?{width:t.borderBoxSize[0].inlineSize,height:t.borderBoxSize[0].blockSize}:{width:t.contentRect.width,height:t.contentRect.height};a.width!==this._elemSizeCache.get(t.target)?.width&&UA(t.target)&&(e=!0),this._elemSizeCache.set(t.target,a)}e&&this._updatedStickyColumnsParamsToReplay.length&&(this._stickyColumnsReplayTimeout&&clearTimeout(this._stickyColumnsReplayTimeout),this._stickyColumnsReplayTimeout=setTimeout(()=>{if(!this._destroyed){for(let t of this._updatedStickyColumnsParamsToReplay)this.updateStickyColumns(t.rows,t.stickyStartStates,t.stickyEndStates,!0,!1);this._updatedStickyColumnsParamsToReplay=[],this._stickyColumnsReplayTimeout=null}},0))}};function UA(n){return["cdk-cell","cdk-header-cell","cdk-footer-cell"].some(i=>n.classList.contains(i))}var Qo=new $("STICKY_POSITIONING_LISTENER");var Fp=(()=>{class n{viewContainer=b(ii);elementRef=b(ge);constructor(){let e=b(Di);e._rowOutlet=this,e._outletAssigned()}static \u0275fac=function(t){return new(t||n)};static \u0275dir=Y({type:n,selectors:[["","rowOutlet",""]]})}return n})(),Np=(()=>{class n{viewContainer=b(ii);elementRef=b(ge);constructor(){let e=b(Di);e._headerRowOutlet=this,e._outletAssigned()}static \u0275fac=function(t){return new(t||n)};static \u0275dir=Y({type:n,selectors:[["","headerRowOutlet",""]]})}return n})(),Lp=(()=>{class n{viewContainer=b(ii);elementRef=b(ge);constructor(){let e=b(Di);e._footerRowOutlet=this,e._outletAssigned()}static \u0275fac=function(t){return new(t||n)};static \u0275dir=Y({type:n,selectors:[["","footerRowOutlet",""]]})}return n})(),Vp=(()=>{class n{viewContainer=b(ii);elementRef=b(ge);constructor(){let e=b(Di);e._noDataRowOutlet=this,e._outletAssigned()}static \u0275fac=function(t){return new(t||n)};static \u0275dir=Y({type:n,selectors:[["","noDataRowOutlet",""]]})}return n})(),zp=(()=>{class n{_differs=b(Aa);_changeDetectorRef=b(ye);_elementRef=b(ge);_dir=b(Yt,{optional:!0});_platform=b(bn);_viewRepeater;_viewportRuler=b(Hs);_injector=b(Ue);_virtualScrollViewport=b(vf,{optional:!0,host:!0});_positionListener=b(Qo,{optional:!0})||b(Qo,{optional:!0,skipSelf:!0});_document=b(Tt);_data;_renderedRange;_onDestroy=new G;_renderRows;_renderChangeSubscription=null;_columnDefsByName=new Map;_rowDefs;_headerRowDefs;_footerRowDefs;_dataDiffer;_defaultRowDef=null;_customColumnDefs=new Set;_customRowDefs=new Set;_customHeaderRowDefs=new Set;_customFooterRowDefs=new Set;_customNoDataRow=null;_headerRowDefChanged=!0;_footerRowDefChanged=!0;_stickyColumnStylesNeedReset=!0;_forceRecalculateCellWidths=!0;_cachedRenderRowsMap=new Map;_isNativeHtmlTable;_stickyStyler;stickyCssClass="cdk-table-sticky";needsPositionStickyOnElement=!0;_isServer;_isShowingNoDataRow=!1;_hasAllOutlets=!1;_hasInitialized=!1;_headerRowStickyUpdates=new G;_footerRowStickyUpdates=new G;_disableVirtualScrolling=!1;_getCellRole(){if(this._cellRoleInternal===void 0){let e=this._elementRef.nativeElement.getAttribute("role");return e==="grid"||e==="treegrid"?"gridcell":"cell"}return this._cellRoleInternal}_cellRoleInternal=void 0;get trackBy(){return this._trackByFn}set trackBy(e){this._trackByFn=e}_trackByFn;get dataSource(){return this._dataSource}set dataSource(e){this._dataSource!==e&&(this._switchDataSource(e),this._changeDetectorRef.markForCheck())}_dataSource;_dataSourceChanges=new G;_dataStream=new G;get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(e){this._multiTemplateDataRows=e,this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}_multiTemplateDataRows=!1;get fixedLayout(){return this._virtualScrollEnabled()?!0:this._fixedLayout}set fixedLayout(e){this._fixedLayout=e,this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}_fixedLayout=!1;recycleRows=!1;contentChanged=new W;viewChange=new Ve({start:0,end:Number.MAX_VALUE});_rowOutlet;_headerRowOutlet;_footerRowOutlet;_noDataRowOutlet;_contentColumnDefs;_contentRowDefs;_contentHeaderRowDefs;_contentFooterRowDefs;_noDataRow;constructor(){b(new _n("role"),{optional:!0})||this._elementRef.nativeElement.setAttribute("role","table"),this._isServer=!this._platform.isBrowser,this._isNativeHtmlTable=this._elementRef.nativeElement.nodeName==="TABLE",this._dataDiffer=this._differs.find([]).create((t,a)=>this.trackBy?this.trackBy(a.dataIndex,a.data):a)}ngOnInit(){this._setupStickyStyler(),this._viewportRuler.change().pipe(Ce(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentInit(){this._viewRepeater=this.recycleRows||this._virtualScrollEnabled()?new bf:new Wc,this._virtualScrollEnabled()&&this._setupVirtualScrolling(this._virtualScrollViewport),this._hasInitialized=!0}ngAfterContentChecked(){this._canRender()&&this._render()}ngOnDestroy(){this._stickyStyler?.destroy(),[this._rowOutlet?.viewContainer,this._headerRowOutlet?.viewContainer,this._footerRowOutlet?.viewContainer,this._cachedRenderRowsMap,this._customColumnDefs,this._customRowDefs,this._customHeaderRowDefs,this._customFooterRowDefs,this._columnDefsByName].forEach(e=>{e?.clear()}),this._headerRowDefs=[],this._footerRowDefs=[],this._defaultRowDef=null,this._headerRowStickyUpdates.complete(),this._footerRowStickyUpdates.complete(),this._onDestroy.next(),this._onDestroy.complete(),Gr(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();let e=this._dataDiffer.diff(this._renderRows);if(!e){this._updateNoDataRow(),this.contentChanged.next();return}let t=this._rowOutlet.viewContainer;this._viewRepeater.applyChanges(e,t,(a,r,o)=>this._getEmbeddedViewArgs(a.item,o),a=>a.item.data,a=>{a.operation===Va.INSERTED&&a.context&&this._renderCellTemplateForItem(a.record.item.rowDef,a.context)}),this._updateRowIndexContext(),e.forEachIdentityChange(a=>{let r=t.get(a.currentIndex);r.context.$implicit=a.item.data}),this._updateNoDataRow(),this.contentChanged.next(),this.updateStickyColumnStyles()}addColumnDef(e){this._customColumnDefs.add(e)}removeColumnDef(e){this._customColumnDefs.delete(e)}addRowDef(e){this._customRowDefs.add(e)}removeRowDef(e){this._customRowDefs.delete(e)}addHeaderRowDef(e){this._customHeaderRowDefs.add(e),this._headerRowDefChanged=!0}removeHeaderRowDef(e){this._customHeaderRowDefs.delete(e),this._headerRowDefChanged=!0}addFooterRowDef(e){this._customFooterRowDefs.add(e),this._footerRowDefChanged=!0}removeFooterRowDef(e){this._customFooterRowDefs.delete(e),this._footerRowDefChanged=!0}setNoDataRow(e){this._customNoDataRow=e}updateStickyHeaderRowStyles(){let e=this._getRenderedRows(this._headerRowOutlet);if(this._isNativeHtmlTable){let a=Lv(this._headerRowOutlet,"thead");a&&(a.style.display=e.length?"":"none")}let t=this._headerRowDefs.map(a=>a.sticky);this._stickyStyler.clearStickyPositioning(e,["top"]),this._stickyStyler.stickRows(e,t,"top"),this._headerRowDefs.forEach(a=>a.resetStickyChanged())}updateStickyFooterRowStyles(){let e=this._getRenderedRows(this._footerRowOutlet);if(this._isNativeHtmlTable){let a=Lv(this._footerRowOutlet,"tfoot");a&&(a.style.display=e.length?"":"none")}let t=this._footerRowDefs.map(a=>a.sticky);this._stickyStyler.clearStickyPositioning(e,["bottom"]),this._stickyStyler.stickRows(e,t,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,t),this._footerRowDefs.forEach(a=>a.resetStickyChanged())}updateStickyColumnStyles(){let e=this._getRenderedRows(this._headerRowOutlet),t=this._getRenderedRows(this._rowOutlet),a=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this.fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...e,...t,...a],["left","right"]),this._stickyColumnStylesNeedReset=!1),e.forEach((r,o)=>{this._addStickyColumnStyles([r],this._headerRowDefs[o])}),this._rowDefs.forEach(r=>{let o=[];for(let s=0;s<t.length;s++)this._renderRows[s].rowDef===r&&o.push(t[s]);this._addStickyColumnStyles(o,r)}),a.forEach((r,o)=>{this._addStickyColumnStyles([r],this._footerRowDefs[o])}),Array.from(this._columnDefsByName.values()).forEach(r=>r.resetStickyChanged())}stickyColumnsUpdated(e){this._positionListener?.stickyColumnsUpdated(e)}stickyEndColumnsUpdated(e){this._positionListener?.stickyEndColumnsUpdated(e)}stickyHeaderRowsUpdated(e){this._headerRowStickyUpdates.next(e),this._positionListener?.stickyHeaderRowsUpdated(e)}stickyFooterRowsUpdated(e){this._footerRowStickyUpdates.next(e),this._positionListener?.stickyFooterRowsUpdated(e)}_outletAssigned(){!this._hasAllOutlets&&this._rowOutlet&&this._headerRowOutlet&&this._footerRowOutlet&&this._noDataRowOutlet&&(this._hasAllOutlets=!0,this._canRender()&&this._render())}_canRender(){return this._hasAllOutlets&&this._hasInitialized}_render(){this._cacheRowDefs(),this._cacheColumnDefs(),!this._headerRowDefs.length&&!this._footerRowDefs.length&&this._rowDefs.length;let t=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||t,this._forceRecalculateCellWidths=t,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}_getAllRenderRows(){if(!Array.isArray(this._data)||!this._renderedRange)return[];let e=[],t=Math.min(this._data.length,this._renderedRange.end),a=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let r=this._renderedRange.start;r<t;r++){let o=this._data[r],s=this._getRenderRowsForData(o,r,a.get(o));this._cachedRenderRowsMap.has(o)||this._cachedRenderRowsMap.set(o,new WeakMap);for(let l=0;l<s.length;l++){let c=s[l],d=this._cachedRenderRowsMap.get(c.data);d.has(c.rowDef)?d.get(c.rowDef).push(c):d.set(c.rowDef,[c]),e.push(c)}}return e}_getRenderRowsForData(e,t,a){return this._getRowDefs(e,t).map(o=>{let s=a&&a.has(o)?a.get(o):[];if(s.length){let l=s.shift();return l.dataIndex=t,l}else return{data:e,rowDef:o,dataIndex:t}})}_cacheColumnDefs(){this._columnDefsByName.clear(),$c(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(t=>{this._columnDefsByName.has(t.name),this._columnDefsByName.set(t.name,t)})}_cacheRowDefs(){this._headerRowDefs=$c(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=$c(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=$c(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);let e=this._rowDefs.filter(t=>!t.when);this._defaultRowDef=e[0]}_renderUpdatedColumns(){let e=(o,s)=>{let l=!!s.getColumnsDiff();return o||l},t=this._rowDefs.reduce(e,!1);t&&this._forceRenderDataRows();let a=this._headerRowDefs.reduce(e,!1);a&&this._forceRenderHeaderRows();let r=this._footerRowDefs.reduce(e,!1);return r&&this._forceRenderFooterRows(),t||a||r}_switchDataSource(e){this._data=[],Gr(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),e||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet&&this._rowOutlet.viewContainer.clear()),this._dataSource=e}_observeRenderChanges(){if(!this.dataSource)return;let e;Gr(this.dataSource)?e=this.dataSource.connect(this):Hr(this.dataSource)?e=this.dataSource:Array.isArray(this.dataSource)&&(e=B(this.dataSource)),this._renderChangeSubscription=gi([e,this.viewChange]).pipe(Ce(this._onDestroy)).subscribe(([t,a])=>{this._data=t||[],this._renderedRange=a,this._dataStream.next(t),this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((e,t)=>this._renderRow(this._headerRowOutlet,e,t)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((e,t)=>this._renderRow(this._footerRowOutlet,e,t)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(e,t){let a=Array.from(t?.columns||[]).map(s=>{let l=this._columnDefsByName.get(s);return l}),r=a.map(s=>s.sticky),o=a.map(s=>s.stickyEnd);this._stickyStyler.updateStickyColumns(e,r,o,!this.fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(e){let t=[];for(let a=0;a<e.viewContainer.length;a++){let r=e.viewContainer.get(a);t.push(r.rootNodes[0])}return t}_getRowDefs(e,t){if(this._rowDefs.length===1)return[this._rowDefs[0]];let a=[];if(this.multiTemplateDataRows)a=this._rowDefs.filter(r=>!r.when||r.when(t,e));else{let r=this._rowDefs.find(o=>o.when&&o.when(t,e))||this._defaultRowDef;r&&a.push(r)}return a.length,a}_getEmbeddedViewArgs(e,t){let a=e.rowDef,r={$implicit:e.data};return{templateRef:a.template,context:r,index:t}}_renderRow(e,t,a,r={}){let o=e.viewContainer.createEmbeddedView(t.template,r,a);return this._renderCellTemplateForItem(t,r),o}_renderCellTemplateForItem(e,t){for(let a of this._getCellTemplates(e))Ea.mostRecentCellOutlet&&Ea.mostRecentCellOutlet._viewContainer.createEmbeddedView(a,t);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){let e=this._rowOutlet.viewContainer;for(let t=0,a=e.length;t<a;t++){let o=e.get(t).context;o.count=a,o.first=t===0,o.last=t===a-1,o.even=t%2===0,o.odd=!o.even,this.multiTemplateDataRows?(o.dataIndex=this._renderRows[t].dataIndex,o.renderIndex=t):o.index=this._renderRows[t].dataIndex}}_getCellTemplates(e){return!e||!e.columns?[]:Array.from(e.columns,t=>{let a=this._columnDefsByName.get(t);return e.extractCellTemplate(a)})}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){let e=(t,a)=>t||a.hasStickyChanged();this._headerRowDefs.reduce(e,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(e,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(e,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){let e=this._dir?this._dir.value:"ltr",t=this._injector;this._stickyStyler=new Op(this._isNativeHtmlTable,this.stickyCssClass,this._platform.isBrowser,this.needsPositionStickyOnElement,e,this,t),(this._dir?this._dir.change:B()).pipe(Ce(this._onDestroy)).subscribe(a=>{this._stickyStyler.direction=a,this.updateStickyColumnStyles()})}_setupVirtualScrolling(e){let t=typeof requestAnimationFrame<"u"?hm:dm;this.viewChange.next({start:0,end:0}),e.renderedRangeStream.pipe(mm(0,t),Ce(this._onDestroy)).subscribe(this.viewChange),e.attach({dataStream:this._dataStream,measureRangeSize:(a,r)=>this._measureRangeSize(a,r)}),gi([e.renderedContentOffset,this._headerRowStickyUpdates]).pipe(Ce(this._onDestroy)).subscribe(([a,r])=>{if(!(!r.sizes||!r.offsets||!r.elements))for(let o=0;o<r.elements.length;o++){let s=r.elements[o];if(s){let l=r.offsets[o],c=a!==0?Math.max(a-l,l):-l;for(let d of s)d.style.top=`${-c}px`}}}),gi([e.renderedContentOffset,this._footerRowStickyUpdates]).pipe(Ce(this._onDestroy)).subscribe(([a,r])=>{if(!(!r.sizes||!r.offsets||!r.elements))for(let o=0;o<r.elements.length;o++){let s=r.elements[o];if(s)for(let l of s)l.style.bottom=`${a+r.offsets[o]}px`}})}_getOwnDefs(e){return e.filter(t=>!t._table||t._table===this)}_updateNoDataRow(){let e=this._customNoDataRow||this._noDataRow;if(!e)return;let t=this._rowOutlet.viewContainer.length===0;if(t===this._isShowingNoDataRow)return;let a=this._noDataRowOutlet.viewContainer;if(t){let r=a.createEmbeddedView(e.templateRef),o=r.rootNodes[0];if(r.rootNodes.length===1&&o?.nodeType===this._document.ELEMENT_NODE){o.setAttribute("role","row"),o.classList.add(...e._contentClassNames);let s=o.querySelectorAll(e._cellSelector);for(let l=0;l<s.length;l++)s[l].classList.add(...e._cellClassNames)}}else a.clear();this._isShowingNoDataRow=t,this._changeDetectorRef.markForCheck()}_measureRangeSize(e,t){if(e.start>=e.end||t!=="vertical")return 0;let a=this.viewChange.value,r=this._rowOutlet.viewContainer;e.start<a.start||e.end>a.end;let o=e.start-a.start,s=e.end-e.start,l,c;for(let u=0;u<s;u++){let p=r.get(u+o);if(p&&p.rootNodes.length){l=c=p.rootNodes[0];break}}for(let u=s-1;u>-1;u--){let p=r.get(u+o);if(p&&p.rootNodes.length){c=p.rootNodes[p.rootNodes.length-1];break}}let d=l?.getBoundingClientRect?.(),h=c?.getBoundingClientRect?.();return d&&h?h.bottom-d.top:0}_virtualScrollEnabled(){return!this._disableVirtualScrolling&&this._virtualScrollViewport!=null}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=j({type:n,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(t,a,r){if(t&1&&ni(r,Qc,5)(r,Fr,5)(r,Kc,5)(r,Xo,5)(r,Tp,5),t&2){let o;X(o=Z())&&(a._noDataRow=o.first),X(o=Z())&&(a._contentColumnDefs=o),X(o=Z())&&(a._contentRowDefs=o),X(o=Z())&&(a._contentHeaderRowDefs=o),X(o=Z())&&(a._contentFooterRowDefs=o)}},hostAttrs:[1,"cdk-table"],hostVars:2,hostBindings:function(t,a){t&2&&de("cdk-table-fixed-layout",a.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:[2,"multiTemplateDataRows","multiTemplateDataRows",ce],fixedLayout:[2,"fixedLayout","fixedLayout",ce],recycleRows:[2,"recycleRows","recycleRows",ce]},outputs:{contentChanged:"contentChanged"},exportAs:["cdkTable"],features:[We([{provide:Di,useExisting:n},{provide:Qo,useValue:null}])],ngContentSelectors:zA,decls:5,vars:2,consts:[["role","rowgroup"],["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(t,a){t&1&&(et(VA),De(0),De(1,1),te(2,BA,1,0),te(3,jA,7,0)(4,HA,4,0)),t&2&&(C(2),ie(a._isServer?2:-1),C(),ie(a._isNativeHtmlTable?3:4))},dependencies:[Np,Fp,Vp,Lp],styles:[`.cdk-table-fixed-layout{table-layout:fixed}
`],encapsulation:2})}return n})();function $c(n,i){return n.concat(Array.from(i))}function Lv(n,i){let e=i.toUpperCase(),t=n.viewContainer.element.nativeElement;for(;t;){let a=t.nodeType===1?t.nodeName:null;if(a===e)return t;if(a==="TABLE")break;t=t.parentNode}return null}var jv=(()=>{class n{static \u0275fac=function(t){return new(t||n)};static \u0275mod=Se({type:n});static \u0275inj=Me({imports:[Cf]})}return n})();var WA=[[["caption"]],[["colgroup"],["col"]],"*"],$A=["caption","colgroup, col","*"];function YA(n,i){n&1&&De(0,2)}function qA(n,i){n&1&&(g(0,"thead",0),lt(1,1),m(),g(2,"tbody",2),lt(3,3)(4,4),m(),g(5,"tfoot",0),lt(6,5),m())}function GA(n,i){n&1&&lt(0,1)(1,3)(2,4)(3,5)}var Zc=(()=>{class n extends zp{stickyCssClass="mat-mdc-table-sticky";needsPositionStickyOnElement=!1;static \u0275fac=(()=>{let e;return function(a){return(e||(e=nt(n)))(a||n)}})();static \u0275cmp=j({type:n,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:[1,"mat-mdc-table","mdc-data-table__table"],hostVars:2,hostBindings:function(t,a){t&2&&de("mat-table-fixed-layout",a.fixedLayout)},exportAs:["matTable"],features:[We([{provide:zp,useExisting:n},{provide:Di,useExisting:n},{provide:Qo,useValue:null}]),Re],ngContentSelectors:$A,decls:5,vars:2,consts:[["role","rowgroup"],["headerRowOutlet",""],["role","rowgroup",1,"mdc-data-table__content"],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(t,a){t&1&&(et(WA),De(0),De(1,1),te(2,YA,1,0),te(3,qA,7,0)(4,GA,4,0)),t&2&&(C(2),ie(a._isServer?2:-1),C(),ie(a._isNativeHtmlTable?3:4))},dependencies:[Np,Fp,Vp,Lp],styles:[`.mat-mdc-table-sticky{position:sticky !important}mat-table{display:block}mat-header-row{min-height:var(--mat-table-header-container-height, 56px)}mat-row{min-height:var(--mat-table-row-item-container-height, 52px)}mat-footer-row{min-height:var(--mat-table-footer-container-height, 52px)}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}.mat-mdc-table{min-width:100%;border:0;border-spacing:0;table-layout:auto;white-space:normal;background-color:var(--mat-table-background-color, var(--mat-sys-surface))}.mat-table-fixed-layout{table-layout:fixed}.mdc-data-table__cell{box-sizing:border-box;overflow:hidden;text-align:start;text-overflow:ellipsis}.mdc-data-table__cell,.mdc-data-table__header-cell{padding:0 16px}.mat-mdc-header-row{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;height:var(--mat-table-header-container-height, 56px);color:var(--mat-table-header-headline-color, var(--mat-sys-on-surface, rgba(0, 0, 0, 0.87)));font-family:var(--mat-table-header-headline-font, var(--mat-sys-title-small-font, Roboto, sans-serif));line-height:var(--mat-table-header-headline-line-height, var(--mat-sys-title-small-line-height));font-size:var(--mat-table-header-headline-size, var(--mat-sys-title-small-size, 14px));font-weight:var(--mat-table-header-headline-weight, var(--mat-sys-title-small-weight, 500))}.mat-mdc-row{height:var(--mat-table-row-item-container-height, 52px);color:var(--mat-table-row-item-label-text-color, var(--mat-sys-on-surface, rgba(0, 0, 0, 0.87)))}.mat-mdc-row,.mdc-data-table__content{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-table-row-item-label-text-font, var(--mat-sys-body-medium-font, Roboto, sans-serif));line-height:var(--mat-table-row-item-label-text-line-height, var(--mat-sys-body-medium-line-height));font-size:var(--mat-table-row-item-label-text-size, var(--mat-sys-body-medium-size, 14px));font-weight:var(--mat-table-row-item-label-text-weight, var(--mat-sys-body-medium-weight))}.mat-mdc-footer-row{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;height:var(--mat-table-footer-container-height, 52px);color:var(--mat-table-row-item-label-text-color, var(--mat-sys-on-surface, rgba(0, 0, 0, 0.87)));font-family:var(--mat-table-footer-supporting-text-font, var(--mat-sys-body-medium-font, Roboto, sans-serif));line-height:var(--mat-table-footer-supporting-text-line-height, var(--mat-sys-body-medium-line-height));font-size:var(--mat-table-footer-supporting-text-size, var(--mat-sys-body-medium-size, 14px));font-weight:var(--mat-table-footer-supporting-text-weight, var(--mat-sys-body-medium-weight));letter-spacing:var(--mat-table-footer-supporting-text-tracking, var(--mat-sys-body-medium-tracking))}.mat-mdc-header-cell{border-bottom-color:var(--mat-table-row-item-outline-color, var(--mat-sys-outline, rgba(0, 0, 0, 0.12)));border-bottom-width:var(--mat-table-row-item-outline-width, 1px);border-bottom-style:solid;letter-spacing:var(--mat-table-header-headline-tracking, var(--mat-sys-title-small-tracking));font-weight:inherit;line-height:inherit;box-sizing:border-box;text-overflow:ellipsis;overflow:hidden;outline:none;text-align:start}.mdc-data-table__row:last-child>.mat-mdc-header-cell{border-bottom:none}.mat-mdc-cell{border-bottom-color:var(--mat-table-row-item-outline-color, var(--mat-sys-outline, rgba(0, 0, 0, 0.12)));border-bottom-width:var(--mat-table-row-item-outline-width, 1px);border-bottom-style:solid;letter-spacing:var(--mat-table-row-item-label-text-tracking, var(--mat-sys-body-medium-tracking));line-height:inherit}.mdc-data-table__row:last-child>.mat-mdc-cell{border-bottom:none}.mat-mdc-footer-cell{letter-spacing:var(--mat-table-row-item-label-text-tracking, var(--mat-sys-body-medium-tracking))}mat-row.mat-mdc-row,mat-header-row.mat-mdc-header-row,mat-footer-row.mat-mdc-footer-row{border-bottom:none}.mat-mdc-table tbody,.mat-mdc-table tfoot,.mat-mdc-table thead,.mat-mdc-cell,.mat-mdc-footer-cell,.mat-mdc-header-row,.mat-mdc-row,.mat-mdc-footer-row,.mat-mdc-table .mat-mdc-header-cell{background:inherit}.mat-mdc-table mat-header-row.mat-mdc-header-row,.mat-mdc-table mat-row.mat-mdc-row,.mat-mdc-table mat-footer-row.mat-mdc-footer-cell{height:unset}mat-header-cell.mat-mdc-header-cell,mat-cell.mat-mdc-cell,mat-footer-cell.mat-mdc-footer-cell{align-self:stretch}
`],encapsulation:2})}return n})(),Jc=(()=>{class n extends qc{static \u0275fac=(()=>{let e;return function(a){return(e||(e=nt(n)))(a||n)}})();static \u0275dir=Y({type:n,selectors:[["","matCellDef",""]],features:[We([{provide:qc,useExisting:n}]),Re]})}return n})(),ed=(()=>{class n extends Gc{static \u0275fac=(()=>{let e;return function(a){return(e||(e=nt(n)))(a||n)}})();static \u0275dir=Y({type:n,selectors:[["","matHeaderCellDef",""]],features:[We([{provide:Gc,useExisting:n}]),Re]})}return n})();var td=(()=>{class n extends Fr{get name(){return this._name}set name(e){this._setNameInput(e)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push(`mat-column-${this.cssClassFriendlyName}`)}static \u0275fac=(()=>{let e;return function(a){return(e||(e=nt(n)))(a||n)}})();static \u0275dir=Y({type:n,selectors:[["","matColumnDef",""]],inputs:{name:[0,"matColumnDef","name"]},features:[We([{provide:Fr,useExisting:n},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}]),Re]})}return n})(),id=(()=>{class n extends zv{static \u0275fac=(()=>{let e;return function(a){return(e||(e=nt(n)))(a||n)}})();static \u0275dir=Y({type:n,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-mdc-header-cell","mdc-data-table__header-cell"],features:[Re]})}return n})();var nd=(()=>{class n extends Bv{static \u0275fac=(()=>{let e;return function(a){return(e||(e=nt(n)))(a||n)}})();static \u0275dir=Y({type:n,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:[1,"mat-mdc-cell","mdc-data-table__cell"],features:[Re]})}return n})();var ad=(()=>{class n extends Xo{static \u0275fac=(()=>{let e;return function(a){return(e||(e=nt(n)))(a||n)}})();static \u0275dir=Y({type:n,selectors:[["","matHeaderRowDef",""]],inputs:{columns:[0,"matHeaderRowDef","columns"],sticky:[2,"matHeaderRowDefSticky","sticky",ce]},features:[We([{provide:Xo,useExisting:n}]),Re]})}return n})();var rd=(()=>{class n extends Kc{static \u0275fac=(()=>{let e;return function(a){return(e||(e=nt(n)))(a||n)}})();static \u0275dir=Y({type:n,selectors:[["","matRowDef",""]],inputs:{columns:[0,"matRowDefColumns","columns"],when:[0,"matRowDefWhen","when"]},features:[We([{provide:Kc,useExisting:n}]),Re]})}return n})(),od=(()=>{class n extends Rp{static \u0275fac=(()=>{let e;return function(a){return(e||(e=nt(n)))(a||n)}})();static \u0275cmp=j({type:n,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-mdc-header-row","mdc-data-table__header-row"],exportAs:["matHeaderRow"],features:[We([{provide:Rp,useExisting:n}]),Re],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,a){t&1&&lt(0,0)},dependencies:[Ea],encapsulation:2})}return n})();var sd=(()=>{class n extends Ip{static \u0275fac=(()=>{let e;return function(a){return(e||(e=nt(n)))(a||n)}})();static \u0275cmp=j({type:n,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-mdc-row","mdc-data-table__row"],exportAs:["matRow"],features:[We([{provide:Ip,useExisting:n}]),Re],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,a){t&1&&lt(0,0)},dependencies:[Ea],encapsulation:2})}return n})(),Hv=(()=>{class n extends Qc{_cellSelector="td, mat-cell, [mat-cell], .mat-cell";constructor(){super(),this._contentClassNames.push("mat-mdc-no-data-row","mat-mdc-row","mdc-data-table__row"),this._cellClassNames.push("mat-mdc-cell","mdc-data-table__cell","mat-no-data-cell")}static \u0275fac=function(t){return new(t||n)};static \u0275dir=Y({type:n,selectors:[["ng-template","matNoDataRow",""]],features:[We([{provide:Qc,useExisting:n}]),Re]})}return n})();var ld=(()=>{class n{static \u0275fac=function(t){return new(t||n)};static \u0275mod=Se({type:n});static \u0275inj=Me({imports:[jv,qe]})}return n})(),KA=9007199254740991,Xc=class extends Ud{_data;_renderData=new Ve([]);_filter=new Ve("");_internalPageChanges=new G;_renderChangesSubscription=null;filteredData;get data(){return this._data.value}set data(i){i=Array.isArray(i)?i:[],this._data.next(i),this._renderChangesSubscription||this._filterData(i)}get filter(){return this._filter.value}set filter(i){this._filter.next(i),this._renderChangesSubscription||this._filterData(this.data)}get sort(){return this._sort}set sort(i){this._sort=i,this._updateChangeSubscription()}_sort;get paginator(){return this._paginator}set paginator(i){this._paginator=i,this._updateChangeSubscription()}_paginator;sortingDataAccessor=(i,e)=>{let t=i[e];if(ef(t)){let a=Number(t);return a<KA?a:t}return t};sortData=(i,e)=>{let t=e.active,a=e.direction;return!t||a==""?i:i.sort((r,o)=>{let s=this.sortingDataAccessor(r,t),l=this.sortingDataAccessor(o,t),c=typeof s,d=typeof l;c!==d&&(c==="number"&&(s+=""),d==="number"&&(l+=""));let h=0;return s!=null&&l!=null?s>l?h=1:s<l&&(h=-1):s!=null?h=1:l!=null&&(h=-1),h*(a=="asc"?1:-1)})};filterPredicate=(i,e)=>{let t=e.trim().toLowerCase();return Object.values(i).some(a=>`${a}`.toLowerCase().includes(t))};constructor(i=[]){super(),this._data=new Ve(i),this._updateChangeSubscription()}_updateChangeSubscription(){let i=this._sort?bt(this._sort.sortChange,this._sort.initialized):B(null),e=this._paginator?bt(this._paginator.page,this._internalPageChanges,this._paginator.initialized):B(null),t=this._data,a=gi([t,this._filter]).pipe(ee(([s])=>this._filterData(s))),r=gi([a,i]).pipe(ee(([s])=>this._orderData(s))),o=gi([r,e]).pipe(ee(([s])=>this._pageData(s)));this._renderChangesSubscription?.unsubscribe(),this._renderChangesSubscription=o.subscribe(s=>this._renderData.next(s))}_filterData(i){return this.filteredData=this.filter==null||this.filter===""?i:i.filter(e=>this.filterPredicate(e,this.filter)),this.paginator&&this._updatePaginator(this.filteredData.length),this.filteredData}_orderData(i){return this.sort?this.sortData(i.slice(),this.sort):i}_pageData(i){if(!this.paginator)return i;let e=this.paginator.pageIndex*this.paginator.pageSize;return i.slice(e,e+this.paginator.pageSize)}_updatePaginator(i){Promise.resolve().then(()=>{let e=this.paginator;if(e&&(e.length=i,e.pageIndex>0)){let t=Math.ceil(e.length/e.pageSize)-1||0,a=Math.min(e.pageIndex,t);a!==e.pageIndex&&(e.pageIndex=a,this._internalPageChanges.next())}})}connect(){return this._renderChangesSubscription||this._updateChangeSubscription(),this._renderData}disconnect(){this._renderChangesSubscription?.unsubscribe(),this._renderChangesSubscription=null}};var QA=["mat-sort-header",""],XA=["*",[["","matSortHeaderIcon",""]]],ZA=["*","[matSortHeaderIcon]"];function JA(n,i){n&1&&(Ut(),Wt(0,"svg",3),Pm(1,"path",4),$t())}function eT(n,i){n&1&&(Wt(0,"div",2),De(1,1,null,JA,2,0),$t())}var Wv=new $("MAT_SORT_DEFAULT_OPTIONS"),Zo=(()=>{class n{_defaultOptions;_initializedStream=new cm(1);sortables=new Map;_stateChanges=new G;active;start="asc";get direction(){return this._direction}set direction(e){this._direction=e}_direction="";disableClear;disabled=!1;sortChange=new W;initialized=this._initializedStream;constructor(e){this._defaultOptions=e}register(e){this.sortables.set(e.id,e)}deregister(e){this.sortables.delete(e.id)}sort(e){this.active!=e.id?(this.active=e.id,this.direction=e.start?e.start:this.start):this.direction=this.getNextSortDirection(e),this.sortChange.emit({active:this.active,direction:this.direction})}getNextSortDirection(e){if(!e)return"";let t=e?.disableClear??this.disableClear??!!this._defaultOptions?.disableClear,a=tT(e.start||this.start,t),r=a.indexOf(this.direction)+1;return r>=a.length&&(r=0),a[r]}ngOnInit(){this._initializedStream.next()}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete(),this._initializedStream.complete()}static \u0275fac=function(t){return new(t||n)(Be(Wv,8))};static \u0275dir=Y({type:n,selectors:[["","matSort",""]],hostAttrs:[1,"mat-sort"],inputs:{active:[0,"matSortActive","active"],start:[0,"matSortStart","start"],direction:[0,"matSortDirection","direction"],disableClear:[2,"matSortDisableClear","disableClear",ce],disabled:[2,"matSortDisabled","disabled",ce]},outputs:{sortChange:"matSortChange"},exportAs:["matSort"],features:[ze]})}return n})();function tT(n,i){let e=["asc","desc"];return n=="desc"&&e.reverse(),i||e.push(""),e}var iT=(()=>{class n{changes=new G;static \u0275fac=function(t){return new(t||n)};static \u0275prov=ae({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),$v=(()=>{class n{_intl=b(iT);_sort=b(Zo,{optional:!0});_columnDef=b("MAT_SORT_HEADER_COLUMN_DEF",{optional:!0});_changeDetectorRef=b(ye);_focusMonitor=b(Fa);_elementRef=b(ge);_ariaDescriber=b(ks,{optional:!0});_renderChanges;_animationsDisabled=ht();_recentlyCleared=J(null);_sortButton;id;arrowPosition="after";start;disabled=!1;get sortActionDescription(){return this._sortActionDescription}set sortActionDescription(e){this._updateSortActionDescription(e)}_sortActionDescription="Sort";disableClear;constructor(){b(ai).load(Qi);let e=b(Wv,{optional:!0});this._sort,e?.arrowPosition&&(this.arrowPosition=e?.arrowPosition)}ngOnInit(){!this.id&&this._columnDef&&(this.id=this._columnDef.name),this._sort.register(this),this._renderChanges=bt(this._sort._stateChanges,this._sort.sortChange).subscribe(()=>this._changeDetectorRef.markForCheck()),this._sortButton=this._elementRef.nativeElement.querySelector(".mat-sort-header-container"),this._updateSortActionDescription(this._sortActionDescription)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(()=>{Promise.resolve().then(()=>this._recentlyCleared.set(null))})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._sort.deregister(this),this._renderChanges?.unsubscribe(),this._sortButton&&this._ariaDescriber?.removeDescription(this._sortButton,this._sortActionDescription)}_toggleOnInteraction(){if(!this._isDisabled()){let e=this._isSorted(),t=this._sort.direction;this._sort.sort(this),this._recentlyCleared.set(e&&!this._isSorted()?t:null)}}_handleKeydown(e){(e.keyCode===32||e.keyCode===13)&&(e.preventDefault(),this._toggleOnInteraction())}_isSorted(){return this._sort.active==this.id&&(this._sort.direction==="asc"||this._sort.direction==="desc")}_isDisabled(){return this._sort.disabled||this.disabled}_getAriaSortAttribute(){return this._isSorted()?this._sort.direction=="asc"?"ascending":"descending":"none"}_renderArrow(){return!this._isDisabled()||this._isSorted()}_updateSortActionDescription(e){this._sortButton&&(this._ariaDescriber?.removeDescription(this._sortButton,this._sortActionDescription),this._ariaDescriber?.describe(this._sortButton,e)),this._sortActionDescription=e}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=j({type:n,selectors:[["","mat-sort-header",""]],hostAttrs:[1,"mat-sort-header"],hostVars:3,hostBindings:function(t,a){t&1&&I("click",function(){return a._toggleOnInteraction()})("keydown",function(o){return a._handleKeydown(o)})("mouseleave",function(){return a._recentlyCleared.set(null)}),t&2&&(pe("aria-sort",a._getAriaSortAttribute()),de("mat-sort-header-disabled",a._isDisabled()))},inputs:{id:[0,"mat-sort-header","id"],arrowPosition:"arrowPosition",start:"start",disabled:[2,"disabled","disabled",ce],sortActionDescription:"sortActionDescription",disableClear:[2,"disableClear","disableClear",ce]},exportAs:["matSortHeader"],attrs:QA,ngContentSelectors:ZA,decls:4,vars:17,consts:[[1,"mat-sort-header-container","mat-focus-indicator"],[1,"mat-sort-header-content"],[1,"mat-sort-header-arrow"],["viewBox","0 -960 960 960","focusable","false","aria-hidden","true"],["d","M440-240v-368L296-464l-56-56 240-240 240 240-56 56-144-144v368h-80Z"]],template:function(t,a){t&1&&(et(XA),Wt(0,"div",0)(1,"div",1),De(2),$t(),te(3,eT,3,0,"div",2),$t()),t&2&&(de("mat-sort-header-sorted",a._isSorted())("mat-sort-header-position-before",a.arrowPosition==="before")("mat-sort-header-descending",a._sort.direction==="desc")("mat-sort-header-ascending",a._sort.direction==="asc")("mat-sort-header-recently-cleared-ascending",a._recentlyCleared()==="asc")("mat-sort-header-recently-cleared-descending",a._recentlyCleared()==="desc")("mat-sort-header-animations-disabled",a._animationsDisabled),pe("tabindex",a._isDisabled()?null:0)("role",a._isDisabled()?null:"button"),C(3),ie(a._renderArrow()?3:-1))},styles:[`.mat-sort-header{cursor:pointer}.mat-sort-header-disabled{cursor:default}.mat-sort-header-container{display:flex;align-items:center;letter-spacing:normal;outline:0}[mat-sort-header].cdk-keyboard-focused .mat-sort-header-container,[mat-sort-header].cdk-program-focused .mat-sort-header-container{border-bottom:solid 1px currentColor}.mat-sort-header-container::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-sort-header-content{display:flex;align-items:center}.mat-sort-header-position-before{flex-direction:row-reverse}@keyframes _mat-sort-header-recently-cleared-ascending{from{transform:translateY(0);opacity:1}to{transform:translateY(-25%);opacity:0}}@keyframes _mat-sort-header-recently-cleared-descending{from{transform:translateY(0) rotate(180deg);opacity:1}to{transform:translateY(25%) rotate(180deg);opacity:0}}.mat-sort-header-arrow{height:12px;width:12px;position:relative;transition:transform 225ms cubic-bezier(0.4, 0, 0.2, 1),opacity 225ms cubic-bezier(0.4, 0, 0.2, 1);opacity:0;overflow:visible;color:var(--mat-sort-arrow-color, var(--mat-sys-on-surface))}.mat-sort-header.cdk-keyboard-focused .mat-sort-header-arrow,.mat-sort-header.cdk-program-focused .mat-sort-header-arrow,.mat-sort-header:hover .mat-sort-header-arrow{opacity:.54}.mat-sort-header .mat-sort-header-sorted .mat-sort-header-arrow{opacity:1}.mat-sort-header-descending .mat-sort-header-arrow{transform:rotate(180deg)}.mat-sort-header-recently-cleared-ascending .mat-sort-header-arrow{transform:translateY(-25%)}.mat-sort-header-recently-cleared-ascending .mat-sort-header-arrow{transition:none;animation:_mat-sort-header-recently-cleared-ascending 225ms cubic-bezier(0.4, 0, 0.2, 1) forwards}.mat-sort-header-recently-cleared-descending .mat-sort-header-arrow{transition:none;animation:_mat-sort-header-recently-cleared-descending 225ms cubic-bezier(0.4, 0, 0.2, 1) forwards}.mat-sort-header-animations-disabled .mat-sort-header-arrow{transition-duration:0ms;animation-duration:0ms}.mat-sort-header-arrow>svg,.mat-sort-header-arrow [matSortHeaderIcon]{width:24px;height:24px;fill:currentColor;position:absolute;top:50%;left:50%;margin:-12px 0 0 -12px;transform:translateZ(0)}.mat-sort-header-arrow,[dir=rtl] .mat-sort-header-position-before .mat-sort-header-arrow{margin:0 0 0 6px}.mat-sort-header-position-before .mat-sort-header-arrow,[dir=rtl] .mat-sort-header-arrow{margin:0 6px 0 0}
`],encapsulation:2,changeDetection:0})}return n})(),Yv=(()=>{class n{static \u0275fac=function(t){return new(t||n)};static \u0275mod=Se({type:n});static \u0275inj=Me({imports:[qe]})}return n})();var rT=["*",[["mat-chip-avatar"],["","matChipAvatar",""]],[["mat-chip-trailing-icon"],["","matChipRemove",""],["","matChipTrailingIcon",""]]],oT=["*","mat-chip-avatar, [matChipAvatar]","mat-chip-trailing-icon,[matChipRemove],[matChipTrailingIcon]"];function sT(n,i){n&1&&(g(0,"span",3),De(1,1),m())}function lT(n,i){n&1&&(g(0,"span",6),De(1,2),m())}var cT=["*"];var dT=new $("mat-chips-default-options",{providedIn:"root",factory:()=>({separatorKeyCodes:[13]})}),qv=new $("MatChipAvatar"),Bp=new $("MatChipTrailingIcon"),Gv=new $("MatChipEdit"),Kv=new $("MatChipRemove"),Qv=new $("MatChip"),jp=(()=>{class n{_elementRef=b(ge);_parentChip=b(Qv);_isPrimary=!0;_isLeading=!1;get disabled(){return this._disabled||this._parentChip?.disabled||!1}set disabled(e){this._disabled=e}_disabled=!1;tabIndex=-1;_allowFocusWhenDisabled=!1;_getDisabledAttribute(){return this.disabled&&!this._allowFocusWhenDisabled?"":null}constructor(){b(ai).load(Qi),this._elementRef.nativeElement.nodeName==="BUTTON"&&this._elementRef.nativeElement.setAttribute("type","button")}focus(){this._elementRef.nativeElement.focus()}static \u0275fac=function(t){return new(t||n)};static \u0275dir=Y({type:n,selectors:[["","matChipContent",""]],hostAttrs:[1,"mat-mdc-chip-action","mdc-evolution-chip__action","mdc-evolution-chip__action--presentational"],hostVars:8,hostBindings:function(t,a){t&2&&(pe("disabled",a._getDisabledAttribute())("aria-disabled",a.disabled),de("mdc-evolution-chip__action--primary",a._isPrimary)("mdc-evolution-chip__action--secondary",!a._isPrimary)("mdc-evolution-chip__action--trailing",!a._isPrimary&&!a._isLeading))},inputs:{disabled:[2,"disabled","disabled",ce],tabIndex:[2,"tabIndex","tabIndex",e=>e==null?-1:Ai(e)],_allowFocusWhenDisabled:"_allowFocusWhenDisabled"}})}return n})(),hT=(()=>{class n extends jp{_getTabindex(){return this.disabled&&!this._allowFocusWhenDisabled?null:this.tabIndex.toString()}_handleClick(e){!this.disabled&&this._isPrimary&&(e.preventDefault(),this._parentChip._handlePrimaryActionInteraction())}_handleKeydown(e){(e.keyCode===13||e.keyCode===32)&&!this.disabled&&this._isPrimary&&!this._parentChip._isEditing&&(e.preventDefault(),this._parentChip._handlePrimaryActionInteraction())}static \u0275fac=(()=>{let e;return function(a){return(e||(e=nt(n)))(a||n)}})();static \u0275dir=Y({type:n,selectors:[["","matChipAction",""]],hostVars:3,hostBindings:function(t,a){t&1&&I("click",function(o){return a._handleClick(o)})("keydown",function(o){return a._handleKeydown(o)}),t&2&&(pe("tabindex",a._getTabindex()),de("mdc-evolution-chip__action--presentational",!1))},features:[Re]})}return n})();var cd=(()=>{class n extends jp{_isPrimary=!1;static \u0275fac=(()=>{let e;return function(a){return(e||(e=nt(n)))(a||n)}})();static \u0275dir=Y({type:n,selectors:[["mat-chip-trailing-icon"],["","matChipTrailingIcon",""]],hostAttrs:["aria-hidden","true",1,"mat-mdc-chip-trailing-icon","mdc-evolution-chip__icon","mdc-evolution-chip__icon--trailing"],features:[We([{provide:Bp,useExisting:n}]),Re]})}return n})();var Jo=(()=>{class n{_changeDetectorRef=b(ye);_elementRef=b(ge);_tagName=b(Rm);_ngZone=b(dt);_focusMonitor=b(Fa);_globalRippleOptions=b(lf,{optional:!0});_document=b(Tt);_onFocus=new G;_onBlur=new G;_isBasicChip=!1;role=null;_hasFocusInternal=!1;_pendingFocus=!1;_actionChanges;_animationsDisabled=ht();_allLeadingIcons;_allTrailingIcons;_allEditIcons;_allRemoveIcons;_hasFocus(){return this._hasFocusInternal}id=b(ri).getId("mat-mdc-chip-");ariaLabel=null;ariaDescription=null;_chipListDisabled=!1;_hadFocusOnRemove=!1;_textElement;get value(){return this._value!==void 0?this._value:this._textElement.textContent.trim()}set value(e){this._value=e}_value;color;removable=!0;highlighted=!1;disableRipple=!1;get disabled(){return this._disabled||this._chipListDisabled}set disabled(e){this._disabled=e}_disabled=!1;removed=new W;destroyed=new W;basicChipAttrName="mat-basic-chip";leadingIcon;editIcon;trailingIcon;removeIcon;primaryAction;_rippleLoader=b(df);_injector=b(Ue);constructor(){let e=b(ai);e.load(Qi),e.load(yn),this._monitorFocus(),this._rippleLoader?.configureRipple(this._elementRef.nativeElement,{className:"mat-mdc-chip-ripple",disabled:this._isRippleDisabled()})}ngOnInit(){this._isBasicChip=this._elementRef.nativeElement.hasAttribute(this.basicChipAttrName)||this._tagName.toLowerCase()===this.basicChipAttrName}ngAfterViewInit(){this._textElement=this._elementRef.nativeElement.querySelector(".mat-mdc-chip-action-label"),this._pendingFocus&&(this._pendingFocus=!1,this.focus())}ngAfterContentInit(){this._actionChanges=bt(this._allLeadingIcons.changes,this._allTrailingIcons.changes,this._allEditIcons.changes,this._allRemoveIcons.changes).subscribe(()=>this._changeDetectorRef.markForCheck())}ngDoCheck(){this._rippleLoader.setDisabled(this._elementRef.nativeElement,this._isRippleDisabled())}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement),this._actionChanges?.unsubscribe(),this.destroyed.emit({chip:this}),this.destroyed.complete()}remove(){this.removable&&(this._hadFocusOnRemove=this._hasFocus(),this.removed.emit({chip:this}))}_isRippleDisabled(){return this.disabled||this.disableRipple||this._animationsDisabled||this._isBasicChip||!this._hasInteractiveActions()||!!this._globalRippleOptions?.disabled}_hasTrailingIcon(){return!!(this.trailingIcon||this.removeIcon)}_handleKeydown(e){(e.keyCode===8&&!e.repeat||e.keyCode===46)&&(e.preventDefault(),this.remove())}focus(){this.disabled||(this.primaryAction?this.primaryAction.focus():this._pendingFocus=!0)}_getSourceAction(e){return this._getActions().find(t=>{let a=t._elementRef.nativeElement;return a===e||a.contains(e)})}_getActions(){let e=[];return this.editIcon&&e.push(this.editIcon),this.primaryAction&&e.push(this.primaryAction),this.removeIcon&&e.push(this.removeIcon),e}_handlePrimaryActionInteraction(){}_hasInteractiveActions(){return this._getActions().length>0}_edit(e){}_monitorFocus(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{let t=e!==null;t!==this._hasFocusInternal&&(this._hasFocusInternal=t,t?this._onFocus.next({chip:this}):(this._changeDetectorRef.markForCheck(),setTimeout(()=>this._ngZone.run(()=>this._onBlur.next({chip:this})))))})}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=j({type:n,selectors:[["mat-basic-chip"],["","mat-basic-chip",""],["mat-chip"],["","mat-chip",""]],contentQueries:function(t,a,r){if(t&1&&ni(r,qv,5)(r,Gv,5)(r,Bp,5)(r,Kv,5)(r,qv,5)(r,Bp,5)(r,Gv,5)(r,Kv,5),t&2){let o;X(o=Z())&&(a.leadingIcon=o.first),X(o=Z())&&(a.editIcon=o.first),X(o=Z())&&(a.trailingIcon=o.first),X(o=Z())&&(a.removeIcon=o.first),X(o=Z())&&(a._allLeadingIcons=o),X(o=Z())&&(a._allTrailingIcons=o),X(o=Z())&&(a._allEditIcons=o),X(o=Z())&&(a._allRemoveIcons=o)}},viewQuery:function(t,a){if(t&1&&Ye(hT,5),t&2){let r;X(r=Z())&&(a.primaryAction=r.first)}},hostAttrs:[1,"mat-mdc-chip"],hostVars:31,hostBindings:function(t,a){t&1&&I("keydown",function(o){return a._handleKeydown(o)}),t&2&&(Oa("id",a.id),pe("role",a.role)("aria-label",a.ariaLabel),Ct("mat-"+(a.color||"primary")),de("mdc-evolution-chip",!a._isBasicChip)("mdc-evolution-chip--disabled",a.disabled)("mdc-evolution-chip--with-trailing-action",a._hasTrailingIcon())("mdc-evolution-chip--with-primary-graphic",a.leadingIcon)("mdc-evolution-chip--with-primary-icon",a.leadingIcon)("mdc-evolution-chip--with-avatar",a.leadingIcon)("mat-mdc-chip-with-avatar",a.leadingIcon)("mat-mdc-chip-highlighted",a.highlighted)("mat-mdc-chip-disabled",a.disabled)("mat-mdc-basic-chip",a._isBasicChip)("mat-mdc-standard-chip",!a._isBasicChip)("mat-mdc-chip-with-trailing-icon",a._hasTrailingIcon())("_mat-animation-noopable",a._animationsDisabled))},inputs:{role:"role",id:"id",ariaLabel:[0,"aria-label","ariaLabel"],ariaDescription:[0,"aria-description","ariaDescription"],value:"value",color:"color",removable:[2,"removable","removable",ce],highlighted:[2,"highlighted","highlighted",ce],disableRipple:[2,"disableRipple","disableRipple",ce],disabled:[2,"disabled","disabled",ce]},outputs:{removed:"removed",destroyed:"destroyed"},exportAs:["matChip"],features:[We([{provide:Qv,useExisting:n}])],ngContentSelectors:oT,decls:8,vars:2,consts:[[1,"mat-mdc-chip-focus-overlay"],[1,"mdc-evolution-chip__cell","mdc-evolution-chip__cell--primary"],["matChipContent",""],[1,"mdc-evolution-chip__graphic","mat-mdc-chip-graphic"],[1,"mdc-evolution-chip__text-label","mat-mdc-chip-action-label"],[1,"mat-mdc-chip-primary-focus-indicator","mat-focus-indicator"],[1,"mdc-evolution-chip__cell","mdc-evolution-chip__cell--trailing"]],template:function(t,a){t&1&&(et(rT),q(0,"span",0),g(1,"span",1)(2,"span",2),te(3,sT,2,0,"span",3),g(4,"span",4),De(5),q(6,"span",5),m()()(),te(7,lT,2,0,"span",6)),t&2&&(C(3),ie(a.leadingIcon?3:-1),C(4),ie(a._hasTrailingIcon()?7:-1))},dependencies:[jp],styles:[`.mdc-evolution-chip,.mdc-evolution-chip__cell,.mdc-evolution-chip__action{display:inline-flex;align-items:center}.mdc-evolution-chip{position:relative;max-width:100%}.mdc-evolution-chip__cell,.mdc-evolution-chip__action{height:100%}.mdc-evolution-chip__cell--primary{flex-basis:100%;overflow-x:hidden}.mdc-evolution-chip__cell--trailing{flex:1 0 auto}.mdc-evolution-chip__action{align-items:center;background:none;border:none;box-sizing:content-box;cursor:pointer;display:inline-flex;justify-content:center;outline:none;padding:0;text-decoration:none;color:inherit}.mdc-evolution-chip__action--presentational{cursor:auto}.mdc-evolution-chip--disabled,.mdc-evolution-chip__action:disabled{pointer-events:none}@media(forced-colors: active){.mdc-evolution-chip--disabled,.mdc-evolution-chip__action:disabled{forced-color-adjust:none}}.mdc-evolution-chip__action--primary{font:inherit;letter-spacing:inherit;white-space:inherit;overflow-x:hidden}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary::before{border-width:var(--mat-chip-outline-width, 1px);border-radius:var(--mat-chip-container-shape-radius, 8px);box-sizing:border-box;content:"";height:100%;left:0;position:absolute;pointer-events:none;top:0;width:100%;z-index:1;border-style:solid}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:12px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:0}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__action--primary::before{border-color:var(--mat-chip-outline-color, var(--mat-sys-outline))}.mdc-evolution-chip__action--primary:not(.mdc-evolution-chip__action--presentational):not(.mdc-ripple-upgraded):focus::before{border-color:var(--mat-chip-focus-outline-color, var(--mat-sys-on-surface-variant))}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__action--primary::before{border-color:var(--mat-chip-disabled-outline-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-standard-chip.mdc-evolution-chip--selected .mdc-evolution-chip__action--primary::before{border-width:var(--mat-chip-flat-selected-outline-width, 0)}.mat-mdc-basic-chip .mdc-evolution-chip__action--primary{font:inherit}.mat-mdc-standard-chip.mdc-evolution-chip--with-leading-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-leading-action .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:0}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:0}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}.mat-mdc-standard-chip.mdc-evolution-chip--with-leading-action.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:0}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}.mdc-evolution-chip__action--secondary{position:relative;overflow:visible}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__action--secondary{color:var(--mat-chip-with-trailing-icon-trailing-icon-color, var(--mat-sys-on-surface-variant))}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__action--secondary{color:var(--mat-chip-with-trailing-icon-disabled-trailing-icon-color, var(--mat-sys-on-surface))}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--secondary{padding-left:8px;padding-right:8px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--secondary{padding-left:8px;padding-right:8px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--secondary{padding-left:8px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--secondary{padding-left:8px;padding-right:8px}.mdc-evolution-chip__text-label{-webkit-user-select:none;user-select:none;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.mat-mdc-standard-chip .mdc-evolution-chip__text-label{font-family:var(--mat-chip-label-text-font, var(--mat-sys-label-large-font));line-height:var(--mat-chip-label-text-line-height, var(--mat-sys-label-large-line-height));font-size:var(--mat-chip-label-text-size, var(--mat-sys-label-large-size));font-weight:var(--mat-chip-label-text-weight, var(--mat-sys-label-large-weight));letter-spacing:var(--mat-chip-label-text-tracking, var(--mat-sys-label-large-tracking))}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__text-label{color:var(--mat-chip-label-text-color, var(--mat-sys-on-surface-variant))}.mat-mdc-standard-chip.mdc-evolution-chip--selected:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__text-label{color:var(--mat-chip-selected-label-text-color, var(--mat-sys-on-secondary-container))}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__text-label,.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled .mdc-evolution-chip__text-label{color:var(--mat-chip-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-evolution-chip__graphic{align-items:center;display:inline-flex;justify-content:center;overflow:hidden;pointer-events:none;position:relative;flex:1 0 auto}.mat-mdc-standard-chip .mdc-evolution-chip__graphic{width:var(--mat-chip-with-avatar-avatar-size, 24px);height:var(--mat-chip-with-avatar-avatar-size, 24px);font-size:var(--mat-chip-with-avatar-avatar-size, 24px)}.mdc-evolution-chip--selecting .mdc-evolution-chip__graphic{transition:width 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--selectable:not(.mdc-evolution-chip--selected):not(.mdc-evolution-chip--with-primary-icon) .mdc-evolution-chip__graphic{width:0}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:6px;padding-right:6px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:4px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:8px;padding-right:4px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:6px;padding-right:6px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:4px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:8px;padding-right:4px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-leading-action .mdc-evolution-chip__graphic{padding-left:0}.mdc-evolution-chip__checkmark{position:absolute;opacity:0;top:50%;left:50%;height:20px;width:20px}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__checkmark{color:var(--mat-chip-with-icon-selected-icon-color, var(--mat-sys-on-secondary-container))}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__checkmark{color:var(--mat-chip-with-icon-disabled-icon-color, var(--mat-sys-on-surface))}.mdc-evolution-chip--selecting .mdc-evolution-chip__checkmark{transition:transform 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1);transform:translate(-75%, -50%)}.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark{transform:translate(-50%, -50%);opacity:1}.mdc-evolution-chip__checkmark-svg{display:block}.mdc-evolution-chip__checkmark-path{stroke-width:2px;stroke-dasharray:29.7833385;stroke-dashoffset:29.7833385;stroke:currentColor}.mdc-evolution-chip--selecting .mdc-evolution-chip__checkmark-path{transition:stroke-dashoffset 150ms 45ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark-path{stroke-dashoffset:0}@media(forced-colors: active){.mdc-evolution-chip__checkmark-path{stroke:CanvasText !important}}.mat-mdc-standard-chip .mdc-evolution-chip__icon--trailing{height:18px;width:18px;font-size:18px}.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing.mat-mdc-chip-remove{opacity:calc(var(--mat-chip-trailing-action-opacity, 1)*var(--mat-chip-with-trailing-icon-disabled-trailing-icon-opacity, 0.38))}.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing.mat-mdc-chip-remove:focus{opacity:calc(var(--mat-chip-trailing-action-focus-opacity, 1)*var(--mat-chip-with-trailing-icon-disabled-trailing-icon-opacity, 0.38))}.mat-mdc-standard-chip{border-radius:var(--mat-chip-container-shape-radius, 8px);height:var(--mat-chip-container-height, 32px)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled){background-color:var(--mat-chip-elevated-container-color, transparent)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled{background-color:var(--mat-chip-elevated-disabled-container-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected:not(.mdc-evolution-chip--disabled){background-color:var(--mat-chip-elevated-selected-container-color, var(--mat-sys-secondary-container))}.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled{background-color:var(--mat-chip-flat-disabled-selected-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}@media(forced-colors: active){.mat-mdc-standard-chip{outline:solid 1px}}.mat-mdc-standard-chip .mdc-evolution-chip__icon--primary{border-radius:var(--mat-chip-with-avatar-avatar-shape-radius, 24px);width:var(--mat-chip-with-icon-icon-size, 18px);height:var(--mat-chip-with-icon-icon-size, 18px);font-size:var(--mat-chip-with-icon-icon-size, 18px)}.mdc-evolution-chip--selected .mdc-evolution-chip__icon--primary{opacity:0}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__icon--primary{color:var(--mat-chip-with-icon-icon-color, var(--mat-sys-on-surface-variant))}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--primary{color:var(--mat-chip-with-icon-disabled-icon-color, var(--mat-sys-on-surface))}.mat-mdc-chip-highlighted{--mat-chip-with-icon-icon-color: var(--mat-chip-with-icon-selected-icon-color, var(--mat-sys-on-secondary-container));--mat-chip-elevated-container-color: var(--mat-chip-elevated-selected-container-color, var(--mat-sys-secondary-container));--mat-chip-label-text-color: var(--mat-chip-selected-label-text-color, var(--mat-sys-on-secondary-container));--mat-chip-outline-width: var(--mat-chip-flat-selected-outline-width, 0)}.mat-mdc-chip-focus-overlay{background:var(--mat-chip-focus-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-chip-selected .mat-mdc-chip-focus-overlay,.mat-mdc-chip-highlighted .mat-mdc-chip-focus-overlay{background:var(--mat-chip-selected-focus-state-layer-color, var(--mat-sys-on-secondary-container))}.mat-mdc-chip:hover .mat-mdc-chip-focus-overlay{background:var(--mat-chip-hover-state-layer-color, var(--mat-sys-on-surface-variant));opacity:var(--mat-chip-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-chip-focus-overlay .mat-mdc-chip-selected:hover,.mat-mdc-chip-highlighted:hover .mat-mdc-chip-focus-overlay{background:var(--mat-chip-selected-hover-state-layer-color, var(--mat-sys-on-secondary-container));opacity:var(--mat-chip-selected-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-chip.cdk-focused .mat-mdc-chip-focus-overlay{background:var(--mat-chip-focus-state-layer-color, var(--mat-sys-on-surface-variant));opacity:var(--mat-chip-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-chip-selected.cdk-focused .mat-mdc-chip-focus-overlay,.mat-mdc-chip-highlighted.cdk-focused .mat-mdc-chip-focus-overlay{background:var(--mat-chip-selected-focus-state-layer-color, var(--mat-sys-on-secondary-container));opacity:var(--mat-chip-selected-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mdc-evolution-chip--disabled:not(.mdc-evolution-chip--selected) .mat-mdc-chip-avatar{opacity:var(--mat-chip-with-avatar-disabled-avatar-opacity, 0.38)}.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing{opacity:var(--mat-chip-with-trailing-icon-disabled-trailing-icon-opacity, 0.38)}.mdc-evolution-chip--disabled.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark{opacity:var(--mat-chip-with-icon-disabled-icon-opacity, 0.38)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled{opacity:var(--mat-chip-disabled-container-opacity, 1)}.mat-mdc-standard-chip.mdc-evolution-chip--selected .mdc-evolution-chip__icon--trailing,.mat-mdc-standard-chip.mat-mdc-chip-highlighted .mdc-evolution-chip__icon--trailing{color:var(--mat-chip-selected-trailing-icon-color, var(--mat-sys-on-secondary-container))}.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing,.mat-mdc-standard-chip.mat-mdc-chip-highlighted.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing{color:var(--mat-chip-selected-disabled-trailing-icon-color, var(--mat-sys-on-surface))}.mat-mdc-chip-edit,.mat-mdc-chip-remove{opacity:var(--mat-chip-trailing-action-opacity, 1)}.mat-mdc-chip-edit:focus,.mat-mdc-chip-remove:focus{opacity:var(--mat-chip-trailing-action-focus-opacity, 1)}.mat-mdc-chip-edit::after,.mat-mdc-chip-remove::after{background-color:var(--mat-chip-trailing-action-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-chip-edit:hover::after,.mat-mdc-chip-remove:hover::after{opacity:calc(var(--mat-chip-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity)) + var(--mat-chip-trailing-action-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity)))}.mat-mdc-chip-edit:focus::after,.mat-mdc-chip-remove:focus::after{opacity:calc(var(--mat-chip-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity)) + var(--mat-chip-trailing-action-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity)))}.mat-mdc-chip-selected .mat-mdc-chip-remove::after,.mat-mdc-chip-highlighted .mat-mdc-chip-remove::after{background-color:var(--mat-chip-selected-trailing-action-state-layer-color, var(--mat-sys-on-secondary-container))}.mat-mdc-chip.cdk-focused .mat-mdc-chip-edit:focus::after,.mat-mdc-chip.cdk-focused .mat-mdc-chip-remove:focus::after{opacity:calc(var(--mat-chip-selected-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity)) + var(--mat-chip-trailing-action-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity)))}.mat-mdc-chip.cdk-focused .mat-mdc-chip-edit:hover::after,.mat-mdc-chip.cdk-focused .mat-mdc-chip-remove:hover::after{opacity:calc(var(--mat-chip-selected-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity)) + var(--mat-chip-trailing-action-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity)))}.mat-mdc-standard-chip{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-standard-chip .mat-mdc-chip-graphic,.mat-mdc-standard-chip .mat-mdc-chip-trailing-icon{box-sizing:content-box}.mat-mdc-standard-chip._mat-animation-noopable,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__graphic,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__checkmark,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__checkmark-path{transition-duration:1ms;animation-duration:1ms}.mat-mdc-chip-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;opacity:0;border-radius:inherit;transition:opacity 150ms linear}._mat-animation-noopable .mat-mdc-chip-focus-overlay{transition:none}.mat-mdc-basic-chip .mat-mdc-chip-focus-overlay{display:none}.mat-mdc-chip .mat-ripple.mat-mdc-chip-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-chip-avatar{text-align:center;line-height:1;color:var(--mat-chip-with-icon-icon-color, currentColor)}.mat-mdc-chip{position:relative;z-index:0}.mat-mdc-chip-action-label{text-align:left;z-index:1}[dir=rtl] .mat-mdc-chip-action-label{text-align:right}.mat-mdc-chip.mdc-evolution-chip--with-trailing-action .mat-mdc-chip-action-label{position:relative}.mat-mdc-chip-action-label .mat-mdc-chip-primary-focus-indicator{position:absolute;top:0;right:0;bottom:0;left:0;pointer-events:none}.mat-mdc-chip-action-label .mat-focus-indicator::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-chip-edit::before,.mat-mdc-chip-remove::before{margin:calc(var(--mat-focus-indicator-border-width, 3px)*-1);left:8px;right:8px}.mat-mdc-chip-edit::after,.mat-mdc-chip-remove::after{content:"";display:block;opacity:0;position:absolute;top:-3px;bottom:-3px;left:5px;right:5px;border-radius:50%;box-sizing:border-box;padding:12px;margin:-12px;background-clip:content-box}.mat-mdc-chip-edit .mat-icon,.mat-mdc-chip-remove .mat-icon{width:18px;height:18px;font-size:18px;box-sizing:content-box}.mat-chip-edit-input{cursor:text;display:inline-block;color:inherit;outline:0}@media(forced-colors: active){.mat-mdc-chip-selected:not(.mat-mdc-chip-multiple){outline-width:3px}}.mat-mdc-chip-action:focus-visible .mat-focus-indicator::before{content:""}.mdc-evolution-chip__icon,.mat-mdc-chip-edit .mat-icon,.mat-mdc-chip-remove .mat-icon{min-height:fit-content}img.mdc-evolution-chip__icon{min-height:0}
`],encapsulation:2,changeDetection:0})}return n})();var dd=(()=>{class n{_elementRef=b(ge);_changeDetectorRef=b(ye);_dir=b(Yt,{optional:!0});_lastDestroyedFocusedChipIndex=null;_keyManager;_destroyed=new G;_defaultRole="presentation";get chipFocusChanges(){return this._getChipStream(e=>e._onFocus)}get chipDestroyedChanges(){return this._getChipStream(e=>e.destroyed)}get chipRemovedChanges(){return this._getChipStream(e=>e.removed)}get disabled(){return this._disabled}set disabled(e){this._disabled=e,this._syncChipsState()}_disabled=!1;get empty(){return!this._chips||this._chips.length===0}get role(){return this._explicitRole?this._explicitRole:this.empty?null:this._defaultRole}tabIndex=0;set role(e){this._explicitRole=e}_explicitRole=null;get focused(){return this._hasFocusedChip()}_chips;_chipActions=new Cm;constructor(){}ngAfterViewInit(){this._setUpFocusManagement(),this._trackChipSetChanges(),this._trackDestroyedFocusedChip()}ngOnDestroy(){this._keyManager?.destroy(),this._chipActions.destroy(),this._destroyed.next(),this._destroyed.complete()}_hasFocusedChip(){return this._chips&&this._chips.some(e=>e._hasFocus())}_syncChipsState(){this._chips?.forEach(e=>{e._chipListDisabled=this._disabled,e._changeDetectorRef.markForCheck()})}focus(){}_handleKeydown(e){this._originatesFromChip(e)&&this._keyManager.onKeydown(e)}_isValidIndex(e){return e>=0&&e<this._chips.length}_allowFocusEscape(){let e=this._elementRef.nativeElement.tabIndex;e!==-1&&(this._elementRef.nativeElement.tabIndex=-1,setTimeout(()=>this._elementRef.nativeElement.tabIndex=e))}_getChipStream(e){return this._chips.changes.pipe(jt(null),Oe(()=>bt(...this._chips.map(e))))}_originatesFromChip(e){let t=e.target;for(;t&&t!==this._elementRef.nativeElement;){if(t.classList.contains("mat-mdc-chip"))return!0;t=t.parentElement}return!1}_setUpFocusManagement(){this._chips.changes.pipe(jt(this._chips)).subscribe(e=>{let t=[];e.forEach(a=>a._getActions().forEach(r=>t.push(r))),this._chipActions.reset(t),this._chipActions.notifyOnChanges()}),this._keyManager=new rf(this._chipActions).withVerticalOrientation().withHorizontalOrientation(this._dir?this._dir.value:"ltr").withHomeAndEnd().skipPredicate(e=>this._skipPredicate(e)),this.chipFocusChanges.pipe(Ce(this._destroyed)).subscribe(({chip:e})=>{let t=e._getSourceAction(document.activeElement);t&&this._keyManager.updateActiveItem(t)}),this._dir?.change.pipe(Ce(this._destroyed)).subscribe(e=>this._keyManager.withHorizontalOrientation(e))}_skipPredicate(e){return e.disabled}_trackChipSetChanges(){this._chips.changes.pipe(jt(null),Ce(this._destroyed)).subscribe(()=>{this.disabled&&Promise.resolve().then(()=>this._syncChipsState()),this._redirectDestroyedChipFocus()})}_trackDestroyedFocusedChip(){this.chipDestroyedChanges.pipe(Ce(this._destroyed)).subscribe(e=>{let a=this._chips.toArray().indexOf(e.chip),r=e.chip._hasFocus(),o=e.chip._hadFocusOnRemove&&this._keyManager.activeItem&&e.chip._getActions().includes(this._keyManager.activeItem),s=r||o;this._isValidIndex(a)&&s&&(this._lastDestroyedFocusedChipIndex=a)})}_redirectDestroyedChipFocus(){if(this._lastDestroyedFocusedChipIndex!=null){if(this._chips.length){let e=Math.min(this._lastDestroyedFocusedChipIndex,this._chips.length-1),t=this._chips.toArray()[e];t.disabled?this._chips.length===1?this.focus():this._keyManager.setPreviousItemActive():t.focus()}else this.focus();this._lastDestroyedFocusedChipIndex=null}}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=j({type:n,selectors:[["mat-chip-set"]],contentQueries:function(t,a,r){if(t&1&&ni(r,Jo,5),t&2){let o;X(o=Z())&&(a._chips=o)}},hostAttrs:[1,"mat-mdc-chip-set","mdc-evolution-chip-set"],hostVars:1,hostBindings:function(t,a){t&1&&I("keydown",function(o){return a._handleKeydown(o)}),t&2&&pe("role",a.role)},inputs:{disabled:[2,"disabled","disabled",ce],role:"role",tabIndex:[2,"tabIndex","tabIndex",e=>e==null?0:Ai(e)]},ngContentSelectors:cT,decls:2,vars:0,consts:[["role","presentation",1,"mdc-evolution-chip-set__chips"]],template:function(t,a){t&1&&(et(),Wt(0,"div",0),De(1),$t())},styles:[`.mat-mdc-chip-set{display:flex}.mat-mdc-chip-set:focus{outline:none}.mat-mdc-chip-set .mdc-evolution-chip-set__chips{min-width:100%;margin-left:-8px;margin-right:0}.mat-mdc-chip-set .mdc-evolution-chip{margin:4px 0 4px 8px}[dir=rtl] .mat-mdc-chip-set .mdc-evolution-chip-set__chips{margin-left:0;margin-right:-8px}[dir=rtl] .mat-mdc-chip-set .mdc-evolution-chip{margin-left:0;margin-right:8px}.mdc-evolution-chip-set__chips{display:flex;flex-flow:wrap;min-width:0}.mat-mdc-chip-set-stacked{flex-direction:column;align-items:flex-start}.mat-mdc-chip-set-stacked .mat-mdc-chip{width:100%}.mat-mdc-chip-set-stacked .mdc-evolution-chip__graphic{flex-grow:0}.mat-mdc-chip-set-stacked .mdc-evolution-chip__action--primary{flex-basis:100%;justify-content:start}input.mat-mdc-chip-input{flex:1 0 150px;margin-left:8px}[dir=rtl] input.mat-mdc-chip-input{margin-left:0;margin-right:8px}.mat-mdc-form-field:not(.mat-form-field-hide-placeholder) input.mat-mdc-chip-input::placeholder{opacity:1}.mat-mdc-form-field:not(.mat-form-field-hide-placeholder) input.mat-mdc-chip-input::-moz-placeholder{opacity:1}.mat-mdc-form-field:not(.mat-form-field-hide-placeholder) input.mat-mdc-chip-input::-webkit-input-placeholder{opacity:1}.mat-mdc-form-field:not(.mat-form-field-hide-placeholder) input.mat-mdc-chip-input:-ms-input-placeholder{opacity:1}.mat-mdc-chip-set+input.mat-mdc-chip-input{margin-left:0;margin-right:0}
`],encapsulation:2,changeDetection:0})}return n})();var hd=(()=>{class n{static \u0275fac=function(t){return new(t||n)};static \u0275mod=Se({type:n});static \u0275inj=Me({providers:[Ss,{provide:dT,useValue:{separatorKeyCodes:[13]}}],imports:[Ps,qe]})}return n})();var uT=["tooltip"],pT=20;var mT=new $("mat-tooltip-scroll-strategy",{providedIn:"root",factory:()=>{let n=b(Ue);return()=>ja(n,{scrollThrottle:pT})}}),fT=new $("mat-tooltip-default-options",{providedIn:"root",factory:()=>({showDelay:0,hideDelay:0,touchendHideDelay:1500})});var Zv="tooltip-panel",gT={passive:!0},_T=8,bT=8,yT=24,vT=200,ka=(()=>{class n{_elementRef=b(ge);_ngZone=b(dt);_platform=b(bn);_ariaDescriber=b(ks);_focusMonitor=b(Fa);_dir=b(Yt);_injector=b(Ue);_viewContainerRef=b(ii);_mediaMatcher=b(Gm);_document=b(Tt);_renderer=b(ki);_animationsDisabled=ht();_defaultOptions=b(fT,{optional:!0});_overlayRef=null;_tooltipInstance=null;_overlayPanelClass;_portal;_position="below";_positionAtOrigin=!1;_disabled=!1;_tooltipClass;_viewInitialized=!1;_pointerExitEventsInitialized=!1;_tooltipComponent=Jv;_viewportMargin=8;_currentPosition;_cssClassPrefix="mat-mdc";_ariaDescriptionPending=!1;_dirSubscribed=!1;get position(){return this._position}set position(e){e!==this._position&&(this._position=e,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get positionAtOrigin(){return this._positionAtOrigin}set positionAtOrigin(e){this._positionAtOrigin=zd(e),this._detach(),this._overlayRef=null}get disabled(){return this._disabled}set disabled(e){let t=zd(e);this._disabled!==t&&(this._disabled=t,t?this.hide(0):this._setupPointerEnterEventsIfNeeded(),this._syncAriaDescription(this.message))}get showDelay(){return this._showDelay}set showDelay(e){this._showDelay=Ld(e)}_showDelay;get hideDelay(){return this._hideDelay}set hideDelay(e){this._hideDelay=Ld(e),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}_hideDelay;touchGestures="auto";get message(){return this._message}set message(e){let t=this._message;this._message=e!=null?String(e).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage()),this._syncAriaDescription(t)}_message="";get tooltipClass(){return this._tooltipClass}set tooltipClass(e){this._tooltipClass=e,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}_eventCleanups=[];_touchstartTimeout=null;_destroyed=new G;_isDestroyed=!1;constructor(){let e=this._defaultOptions;e&&(this._showDelay=e.showDelay,this._hideDelay=e.hideDelay,e.position&&(this.position=e.position),e.positionAtOrigin&&(this.positionAtOrigin=e.positionAtOrigin),e.touchGestures&&(this.touchGestures=e.touchGestures),e.tooltipClass&&(this.tooltipClass=e.tooltipClass)),this._viewportMargin=_T}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe(Ce(this._destroyed)).subscribe(e=>{e?e==="keyboard"&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){let e=this._elementRef.nativeElement;this._touchstartTimeout&&clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._eventCleanups.forEach(t=>t()),this._eventCleanups.length=0,this._destroyed.next(),this._destroyed.complete(),this._isDestroyed=!0,this._ariaDescriber.removeDescription(e,this.message,"tooltip"),this._focusMonitor.stopMonitoring(e)}show(e=this.showDelay,t){if(this.disabled||!this.message||this._isTooltipVisible()){this._tooltipInstance?._cancelPendingAnimations();return}let a=this._createOverlay(t);this._detach(),this._portal=this._portal||new xn(this._tooltipComponent,this._viewContainerRef);let r=this._tooltipInstance=a.attach(this._portal).instance;r._triggerElement=this._elementRef.nativeElement,r._mouseLeaveHideDelay=this._hideDelay,r.afterHidden().pipe(Ce(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),r.show(e)}hide(e=this.hideDelay){let t=this._tooltipInstance;t&&(t.isVisible()?t.hide(e):(t._cancelPendingAnimations(),this._detach()))}toggle(e){this._isTooltipVisible()?this.hide():this.show(void 0,e)}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(e){if(this._overlayRef){let o=this._overlayRef.getConfig().positionStrategy;if((!this.positionAtOrigin||!e)&&o._origin instanceof ge)return this._overlayRef;this._detach()}let t=this._injector.get(yf).getAncestorScrollContainers(this._elementRef),a=`${this._cssClassPrefix}-${Zv}`,r=Ws(this._injector,this.positionAtOrigin?e||this._elementRef:this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(t).withPopoverLocation("global");return r.positionChanges.pipe(Ce(this._destroyed)).subscribe(o=>{this._updateCurrentPositionClass(o.connectionPair),this._tooltipInstance&&o.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=Ha(this._injector,{direction:this._dir,positionStrategy:r,panelClass:this._overlayPanelClass?[...this._overlayPanelClass,a]:a,scrollStrategy:this._injector.get(mT)(),disableAnimations:this._animationsDisabled,eventPredicate:this._overlayEventPredicate}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe(Ce(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe(Ce(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe(Ce(this._destroyed)).subscribe(o=>{o.preventDefault(),o.stopPropagation(),this._ngZone.run(()=>this.hide(0))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._dirSubscribed||(this._dirSubscribed=!0,this._dir.change.pipe(Ce(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)})),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(e){let t=e.getConfig().positionStrategy,a=this._getOrigin(),r=this._getOverlayPosition();t.withPositions([this._addOffset(O(O({},a.main),r.main)),this._addOffset(O(O({},a.fallback),r.fallback))])}_addOffset(e){let t=bT,a=!this._dir||this._dir.value=="ltr";return e.originY==="top"?e.offsetY=-t:e.originY==="bottom"?e.offsetY=t:e.originX==="start"?e.offsetX=a?-t:t:e.originX==="end"&&(e.offsetX=a?t:-t),e}_getOrigin(){let e=!this._dir||this._dir.value=="ltr",t=this.position,a;t=="above"||t=="below"?a={originX:"center",originY:t=="above"?"top":"bottom"}:t=="before"||t=="left"&&e||t=="right"&&!e?a={originX:"start",originY:"center"}:(t=="after"||t=="right"&&e||t=="left"&&!e)&&(a={originX:"end",originY:"center"});let{x:r,y:o}=this._invertPosition(a.originX,a.originY);return{main:a,fallback:{originX:r,originY:o}}}_getOverlayPosition(){let e=!this._dir||this._dir.value=="ltr",t=this.position,a;t=="above"?a={overlayX:"center",overlayY:"bottom"}:t=="below"?a={overlayX:"center",overlayY:"top"}:t=="before"||t=="left"&&e||t=="right"&&!e?a={overlayX:"end",overlayY:"center"}:(t=="after"||t=="right"&&e||t=="left"&&!e)&&(a={overlayX:"start",overlayY:"center"});let{x:r,y:o}=this._invertPosition(a.overlayX,a.overlayY);return{main:a,fallback:{overlayX:r,overlayY:o}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),st(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()},{injector:this._injector}))}_setTooltipClass(e){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=e instanceof Set?Array.from(e):e,this._tooltipInstance._markForCheck())}_invertPosition(e,t){return this.position==="above"||this.position==="below"?t==="top"?t="bottom":t==="bottom"&&(t="top"):e==="end"?e="start":e==="start"&&(e="end"),{x:e,y:t}}_updateCurrentPositionClass(e){let{overlayY:t,originX:a,originY:r}=e,o;if(t==="center"?this._dir&&this._dir.value==="rtl"?o=a==="end"?"left":"right":o=a==="start"?"left":"right":o=t==="bottom"&&r==="top"?"above":"below",o!==this._currentPosition){let s=this._overlayRef;if(s){let l=`${this._cssClassPrefix}-${Zv}-`;s.removePanelClass(l+this._currentPosition),s.addPanelClass(l+o)}this._currentPosition=o}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._eventCleanups.length||(this._isTouchPlatform()?this.touchGestures!=="off"&&(this._disableNativeGesturesIfNecessary(),this._addListener("touchstart",e=>{let t=e.targetTouches?.[0],a=t?{x:t.clientX,y:t.clientY}:void 0;this._setupPointerExitEventsIfNeeded(),this._touchstartTimeout&&clearTimeout(this._touchstartTimeout);let r=500;this._touchstartTimeout=setTimeout(()=>{this._touchstartTimeout=null,this.show(void 0,a)},this._defaultOptions?.touchLongPressShowDelay??r)})):this._addListener("mouseenter",e=>{this._setupPointerExitEventsIfNeeded();let t;e.x!==void 0&&e.y!==void 0&&(t=e),this.show(void 0,t)}))}_setupPointerExitEventsIfNeeded(){if(!this._pointerExitEventsInitialized){if(this._pointerExitEventsInitialized=!0,!this._isTouchPlatform())this._addListener("mouseleave",e=>{let t=e.relatedTarget;(!t||!this._overlayRef?.overlayElement.contains(t))&&this.hide()}),this._addListener("wheel",e=>{if(this._isTooltipVisible()){let t=this._document.elementFromPoint(e.clientX,e.clientY),a=this._elementRef.nativeElement;t!==a&&!a.contains(t)&&this.hide()}});else if(this.touchGestures!=="off"){this._disableNativeGesturesIfNecessary();let e=()=>{this._touchstartTimeout&&clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions?.touchendHideDelay)};this._addListener("touchend",e),this._addListener("touchcancel",e)}}}_addListener(e,t){this._eventCleanups.push(this._renderer.listen(this._elementRef.nativeElement,e,t,gT))}_isTouchPlatform(){return this._platform.IOS||this._platform.ANDROID?!0:this._platform.isBrowser?!!this._defaultOptions?.detectHoverCapability&&this._mediaMatcher.matchMedia("(any-hover: none)").matches:!1}_disableNativeGesturesIfNecessary(){let e=this.touchGestures;if(e!=="off"){let t=this._elementRef.nativeElement,a=t.style;(e==="on"||t.nodeName!=="INPUT"&&t.nodeName!=="TEXTAREA")&&(a.userSelect=a.msUserSelect=a.webkitUserSelect=a.MozUserSelect="none"),(e==="on"||!t.draggable)&&(a.webkitUserDrag="none"),a.touchAction="none",a.webkitTapHighlightColor="transparent"}}_syncAriaDescription(e){this._ariaDescriptionPending||(this._ariaDescriptionPending=!0,this._ariaDescriber.removeDescription(this._elementRef.nativeElement,e,"tooltip"),this._isDestroyed||st({write:()=>{this._ariaDescriptionPending=!1,this.message&&!this.disabled&&this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")}},{injector:this._injector}))}_overlayEventPredicate=e=>e.type==="keydown"?this._isTooltipVisible()&&e.keyCode===27&&!Dt(e):!0;static \u0275fac=function(t){return new(t||n)};static \u0275dir=Y({type:n,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-mdc-tooltip-trigger"],hostVars:2,hostBindings:function(t,a){t&2&&de("mat-mdc-tooltip-disabled",a.disabled)},inputs:{position:[0,"matTooltipPosition","position"],positionAtOrigin:[0,"matTooltipPositionAtOrigin","positionAtOrigin"],disabled:[0,"matTooltipDisabled","disabled"],showDelay:[0,"matTooltipShowDelay","showDelay"],hideDelay:[0,"matTooltipHideDelay","hideDelay"],touchGestures:[0,"matTooltipTouchGestures","touchGestures"],message:[0,"matTooltip","message"],tooltipClass:[0,"matTooltipClass","tooltipClass"]},exportAs:["matTooltip"]})}return n})(),Jv=(()=>{class n{_changeDetectorRef=b(ye);_elementRef=b(ge);_isMultiline=!1;message;tooltipClass;_showTimeoutId;_hideTimeoutId;_triggerElement;_mouseLeaveHideDelay;_animationsDisabled=ht();_tooltip;_closeOnInteraction=!1;_isVisible=!1;_onHide=new G;_showAnimation="mat-mdc-tooltip-show";_hideAnimation="mat-mdc-tooltip-hide";constructor(){}show(e){this._hideTimeoutId!=null&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},e)}hide(e){this._showTimeoutId!=null&&clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},e)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){this._cancelPendingAnimations(),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:e}){(!e||!this._triggerElement.contains(e))&&(this.isVisible()?this.hide(this._mouseLeaveHideDelay):this._finalizeAnimation(!1))}_onShow(){this._isMultiline=this._isTooltipMultiline(),this._markForCheck()}_isTooltipMultiline(){let e=this._elementRef.nativeElement.getBoundingClientRect();return e.height>yT&&e.width>=vT}_handleAnimationEnd({animationName:e}){(e===this._showAnimation||e===this._hideAnimation)&&this._finalizeAnimation(e===this._showAnimation)}_cancelPendingAnimations(){this._showTimeoutId!=null&&clearTimeout(this._showTimeoutId),this._hideTimeoutId!=null&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=this._hideTimeoutId=void 0}_finalizeAnimation(e){e?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(e){let t=this._tooltip.nativeElement,a=this._showAnimation,r=this._hideAnimation;if(t.classList.remove(e?r:a),t.classList.add(e?a:r),this._isVisible!==e&&(this._isVisible=e,this._changeDetectorRef.markForCheck()),e&&!this._animationsDisabled&&typeof getComputedStyle=="function"){let o=getComputedStyle(t);(o.getPropertyValue("animation-duration")==="0s"||o.getPropertyValue("animation-name")==="none")&&(this._animationsDisabled=!0)}e&&this._onShow(),this._animationsDisabled&&(t.classList.add("_mat-animation-noopable"),this._finalizeAnimation(e))}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=j({type:n,selectors:[["mat-tooltip-component"]],viewQuery:function(t,a){if(t&1&&Ye(uT,7),t&2){let r;X(r=Z())&&(a._tooltip=r.first)}},hostAttrs:["aria-hidden","true"],hostBindings:function(t,a){t&1&&I("mouseleave",function(o){return a._handleMouseLeave(o)})},decls:4,vars:5,consts:[["tooltip",""],[1,"mdc-tooltip","mat-mdc-tooltip",3,"animationend"],[1,"mat-mdc-tooltip-surface","mdc-tooltip__surface"]],template:function(t,a){if(t&1){let r=ke();Wt(0,"div",1,0),Om("animationend",function(s){return V(r),z(a._handleAnimationEnd(s))}),Wt(2,"div",2),v(3),$t()()}t&2&&(Ct(a.tooltipClass),de("mdc-tooltip--multiline",a._isMultiline),C(3),K(a.message))},styles:[`.mat-mdc-tooltip{position:relative;transform:scale(0);display:inline-flex}.mat-mdc-tooltip::before{content:"";top:0;right:0;bottom:0;left:0;z-index:-1;position:absolute}.mat-mdc-tooltip-panel-below .mat-mdc-tooltip::before{top:-8px}.mat-mdc-tooltip-panel-above .mat-mdc-tooltip::before{bottom:-8px}.mat-mdc-tooltip-panel-right .mat-mdc-tooltip::before{left:-8px}.mat-mdc-tooltip-panel-left .mat-mdc-tooltip::before{right:-8px}.mat-mdc-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.mat-mdc-tooltip-surface{word-break:normal;overflow-wrap:anywhere;padding:4px 8px;min-width:40px;max-width:200px;min-height:24px;max-height:40vh;box-sizing:border-box;overflow:hidden;text-align:center;will-change:transform,opacity;background-color:var(--mat-tooltip-container-color, var(--mat-sys-inverse-surface));color:var(--mat-tooltip-supporting-text-color, var(--mat-sys-inverse-on-surface));border-radius:var(--mat-tooltip-container-shape, var(--mat-sys-corner-extra-small));font-family:var(--mat-tooltip-supporting-text-font, var(--mat-sys-body-small-font));font-size:var(--mat-tooltip-supporting-text-size, var(--mat-sys-body-small-size));font-weight:var(--mat-tooltip-supporting-text-weight, var(--mat-sys-body-small-weight));line-height:var(--mat-tooltip-supporting-text-line-height, var(--mat-sys-body-small-line-height));letter-spacing:var(--mat-tooltip-supporting-text-tracking, var(--mat-sys-body-small-tracking))}.mat-mdc-tooltip-surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mdc-tooltip--multiline .mat-mdc-tooltip-surface{text-align:left}[dir=rtl] .mdc-tooltip--multiline .mat-mdc-tooltip-surface{text-align:right}.mat-mdc-tooltip-panel{line-height:normal}.mat-mdc-tooltip-panel.mat-mdc-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-mdc-tooltip-show{0%{opacity:0;transform:scale(0.8)}100%{opacity:1;transform:scale(1)}}@keyframes mat-mdc-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(0.8)}}.mat-mdc-tooltip-show{animation:mat-mdc-tooltip-show 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-mdc-tooltip-hide{animation:mat-mdc-tooltip-hide 75ms cubic-bezier(0.4, 0, 1, 1) forwards}
`],encapsulation:2,changeDetection:0})}return n})();var Nr=(()=>{class n{static \u0275fac=function(t){return new(t||n)};static \u0275mod=Se({type:n});static \u0275inj=Me({imports:[Es,ra,qe,za]})}return n})();var pd=n=>[n,"EUR","symbol","1.2-2","es"];function CT(n,i){if(n&1&&(g(0,"mat-option",10),v(1),m()),n&2){let e=i.$implicit;E("value",e),C(),he(" ",e," ")}}function xT(n,i){if(n&1&&(g(0,"mat-option",10),v(1),m()),n&2){let e=i.$implicit,t=A();E("value",e),C(),he(" ",t.getMonthName(e)," ")}}function wT(n,i){if(n&1){let e=ke();g(0,"button",42),I("click",function(){V(e);let a=A(2);return z(a.clearTagFilters())}),g(1,"mat-icon"),v(2,"clear"),m(),v(3," Limpiar "),m()}}function MT(n,i){n&1&&(g(0,"mat-icon",44),v(1,"check"),m())}function ST(n,i){if(n&1){let e=ke();g(0,"mat-chip",43),I("click",function(){let a=V(e).$implicit,r=A(2);return z(r.toggleTag(a))}),v(1),te(2,MT,2,0,"mat-icon",44),m()}if(n&2){let e=i.$implicit,t=A(2);de("selected",t.isTagSelected(e)),E("highlighted",t.isTagSelected(e)),C(),he(" ",e," "),C(),ie(t.isTagSelected(e)?2:-1)}}function DT(n,i){if(n&1&&(g(0,"div",11)(1,"div",37)(2,"span",38)(3,"mat-icon"),v(4,"label"),m(),v(5," Filtrar por Etiquetas: "),m(),te(6,wT,4,0,"button",39),m(),g(7,"mat-chip-set",40),mn(8,ST,3,5,"mat-chip",41,gs),m()()),n&2){let e=A();C(6),ie(e.selectedTags.size>0?6:-1),C(2),fn(e.availableTags)}}function ET(n,i){if(n&1&&(g(0,"div",48)(1,"span",49)(2,"mat-icon"),v(3,"event_available"),m(),v(4," Data real "),m(),g(5,"span",50),v(6),je(7,"date"),m()()),n&2){let e=A().$implicit;C(6),K(na(7,1,e.actualPaymentDate,"dd/MM/yyyy"))}}function kT(n,i){if(n&1&&(g(0,"div",51)(1,"span",49)(2,"mat-icon"),v(3,"paid"),m(),v(4," Import real "),m(),g(5,"span",52),v(6),je(7,"currency"),m()()),n&2){let e=A().$implicit;C(6),K(bi(7,1,_i(7,pd,e.actualAmount)))}}function PT(n,i){if(n&1){let e=ke();g(0,"mat-card",45)(1,"mat-card-header")(2,"mat-card-title")(3,"mat-icon",46),v(4,"receipt"),m(),v(5),m(),g(6,"mat-card-subtitle")(7,"mat-icon",47),v(8,"category"),m(),v(9),m()(),g(10,"mat-card-content")(11,"div",48)(12,"span",49)(13,"mat-icon"),v(14,"description"),m(),v(15," Descripci\xF3 "),m(),g(16,"span",50),v(17),m()(),g(18,"div",48)(19,"span",49)(20,"mat-icon"),v(21,"business"),m(),v(22," Emissor "),m(),g(23,"span",50),v(24),m()(),g(25,"div",48)(26,"span",49)(27,"mat-icon"),v(28,"label"),m(),v(29," Etiqueta "),m(),g(30,"span",50),v(31),m()(),g(32,"div",51)(33,"span",49)(34,"mat-icon"),v(35,"euro"),m(),v(36," Import aproximat "),m(),g(37,"span",52),v(38),je(39,"currency"),m()(),g(40,"div",48)(41,"span",49)(42,"mat-icon"),v(43,"event"),m(),v(44," Data prevista "),m(),g(45,"span",50),v(46),je(47,"date"),m()(),g(48,"div",48)(49,"span",49)(50,"mat-icon"),v(51,"event_repeat"),m(),v(52," Periodicitat "),m(),g(53,"span",50),v(54),m()(),H(55,ET,8,4,"div",53)(56,kT,8,9,"div",54),g(57,"div",48)(58,"span",49)(59,"mat-icon"),v(60,"account_balance"),m(),v(61," Banc "),m(),g(62,"span",50),v(63),m()(),g(64,"div",55)(65,"span",49)(66,"mat-icon"),v(67,"info"),m(),v(68," Estat "),m(),g(69,"mat-chip",56),v(70),m()()(),g(71,"mat-card-actions")(72,"button",57),I("click",function(){let a=V(e).$implicit,r=A();return z(r.onEdit(a))}),g(73,"mat-icon"),v(74,"edit"),m()(),g(75,"button",58),I("click",function(){let a=V(e).$implicit,r=A();return z(r.onDelete(a))}),g(76,"mat-icon"),v(77,"delete"),m()()()()}if(n&2){let e=i.$implicit,t=A();C(5),he(" ",e.name," "),C(4),he(" ",e.category," "),C(8),K(e.description),C(7),K(e.issuer),C(7),K(e.tag),C(7),K(bi(39,13,_i(22,pd,e.approximateAmount))),C(8),K(na(47,19,e.scheduledPaymentDate,"dd/MM/yyyy")),C(8),K(t.getPeriodicityLabel(e.periodicity)),C(),E("ngIf",e.actualPaymentDate),C(),E("ngIf",e.actualAmount!==null),C(7),K(e.bank),C(6),E("ngClass",t.getStatusClass(e.paymentStatus)),C(),he(" ",e.paymentStatus," ")}}function OT(n,i){n&1&&(g(0,"div",59)(1,"mat-icon"),v(2,"receipt_long"),m(),g(3,"p"),v(4,"Cap despesa coincideix amb el filtre"),m()())}function AT(n,i){n&1&&(g(0,"th",60),v(1,"Nom"),m())}function TT(n,i){if(n&1&&(g(0,"td",61),v(1),m()),n&2){let e=i.$implicit;C(),K(e.name)}}function RT(n,i){n&1&&(g(0,"th",60),v(1,"Descripci\xF3"),m())}function IT(n,i){if(n&1&&(g(0,"td",61),v(1),m()),n&2){let e=i.$implicit;C(),K(e.description)}}function FT(n,i){n&1&&(g(0,"th",60),v(1,"Emissor"),m())}function NT(n,i){if(n&1&&(g(0,"td",61),v(1),m()),n&2){let e=i.$implicit;C(),K(e.issuer)}}function LT(n,i){n&1&&(g(0,"th",60),v(1,"Etiqueta"),m())}function VT(n,i){if(n&1&&(g(0,"td",61),v(1),m()),n&2){let e=i.$implicit;C(),K(e.tag)}}function zT(n,i){n&1&&(g(0,"th",60),v(1,"Categoria"),m())}function BT(n,i){if(n&1&&(g(0,"td",61),v(1),m()),n&2){let e=i.$implicit;C(),K(e.category)}}function jT(n,i){n&1&&(g(0,"th",60),v(1,"Import aproximat"),m())}function HT(n,i){if(n&1&&(g(0,"td",61),v(1),je(2,"currency"),m()),n&2){let e=i.$implicit;C(),K(bi(2,1,_i(7,pd,e.approximateAmount)))}}function UT(n,i){n&1&&(g(0,"th",60),v(1,"Data prevista"),m())}function WT(n,i){if(n&1&&(g(0,"td",61),v(1),je(2,"date"),m()),n&2){let e=i.$implicit;C(),K(na(2,1,e.scheduledPaymentDate,"dd/MM/yyyy"))}}function $T(n,i){n&1&&(g(0,"th",60),v(1,"Periodicitat"),m())}function YT(n,i){if(n&1&&(g(0,"td",61),v(1),m()),n&2){let e=i.$implicit,t=A();C(),K(t.getPeriodicityLabel(e.periodicity))}}function qT(n,i){n&1&&(g(0,"th",60),v(1,"Data real"),m())}function GT(n,i){if(n&1&&(g(0,"td",61),v(1),je(2,"date"),m()),n&2){let e=i.$implicit;C(),he(" ",e.actualPaymentDate?na(2,1,e.actualPaymentDate,"dd/MM/yyyy"):"-"," ")}}function KT(n,i){n&1&&(g(0,"th",60),v(1,"Import real"),m())}function QT(n,i){if(n&1&&(g(0,"td",61),v(1),je(2,"currency"),m()),n&2){let e=i.$implicit;C(),he(" ",e.actualAmount!==null?bi(2,1,_i(7,pd,e.actualAmount)):"-"," ")}}function XT(n,i){n&1&&(g(0,"th",60),v(1,"Estat"),m())}function ZT(n,i){if(n&1&&(g(0,"td",61)(1,"mat-chip",56),v(2),m()()),n&2){let e=i.$implicit,t=A();C(),E("ngClass",t.getStatusClass(e.paymentStatus)),C(),he(" ",e.paymentStatus," ")}}function JT(n,i){n&1&&(g(0,"th",60),v(1,"Banc"),m())}function eR(n,i){if(n&1&&(g(0,"td",61),v(1),m()),n&2){let e=i.$implicit;C(),K(e.bank)}}function tR(n,i){n&1&&(g(0,"th",62),v(1,"Accions"),m())}function iR(n,i){if(n&1){let e=ke();g(0,"td",63)(1,"button",57),I("click",function(){let a=V(e).$implicit,r=A();return z(r.onEdit(a))}),g(2,"mat-icon"),v(3,"edit"),m()(),g(4,"button",58),I("click",function(){let a=V(e).$implicit,r=A();return z(r.onDelete(a))}),g(5,"mat-icon"),v(6,"delete"),m()()()}}function nR(n,i){n&1&&q(0,"tr",64)}function aR(n,i){n&1&&q(0,"tr",65)}function rR(n,i){if(n&1&&(g(0,"tr",66)(1,"td",67),v(2," Cap despesa coincideix amb el filtre. "),m()()),n&2){let e=A();C(),pe("colspan",e.displayedColumns.length)}}var ud=class n{constructor(i){this.cdr=i}expenses=[];selectedYear=new Date().getFullYear();edit=new W;delete=new W;yearChange=new W;monthChange=new W;sort;dataSource=new Xc;availableYears=[];availableMonths=[];availableTags=[];selectedTags=new Set;selectedMonth=0;displayedColumns=["name","description","issuer","tag","category","approximateAmount","scheduledPaymentDate","periodicity","actualPaymentDate","actualAmount","paymentStatus","bank","actions"];ngOnInit(){this.updateDataSource()}ngAfterViewInit(){this.sort&&(this.dataSource.sort=this.sort)}ngOnChanges(i){(i.expenses||i.selectedYear)&&this.updateDataSource()}updateDataSource(){let i=new Set,e=new Set,t=new Set;this.expenses.forEach(r=>{let o=new Date(r.scheduledPaymentDate),s=o.getFullYear(),l=o.getMonth()+1;i.add(s),s===this.selectedYear&&e.add(l),r.tag&&r.tag.trim()!==""&&t.add(r.tag)}),this.availableYears=Array.from(i).sort((r,o)=>o-r),this.availableMonths=Array.from(e).sort((r,o)=>r-o),this.availableTags=Array.from(t).sort();let a=this.expenses.filter(r=>{let o=new Date(r.scheduledPaymentDate),s=o.getFullYear(),l=o.getMonth()+1,c=s===this.selectedYear,d=this.selectedMonth===0||l===this.selectedMonth;return this.selectedTags.size===0?c&&d:c&&d&&r.tag&&this.selectedTags.has(r.tag)});this.dataSource.data=a,this.cdr.detectChanges()}onYearChange(i){this.selectedMonth=0,this.yearChange.emit(i)}onMonthChange(i){this.selectedMonth=i,this.updateDataSource(),this.monthChange.emit(i)}getMonthName(i){return i===0?"Tots els mesos":["Gener","Febrer","Mar\xE7","Abril","Maig","Juny","Juliol","Agost","Setembre","Octubre","Novembre","Desembre"][i-1]}toggleTag(i){this.selectedTags.has(i)?this.selectedTags.delete(i):this.selectedTags.add(i),this.updateDataSource()}isTagSelected(i){return this.selectedTags.has(i)}clearTagFilters(){this.selectedTags.clear(),this.updateDataSource()}applyFilter(i){let e=i.target.value;this.dataSource.filter=e.trim().toLowerCase()}getStatusClass(i){switch(i){case"PAID":return"status-paid";case"PENDING":return"status-pending";case"FAILED":return"status-failed";default:return""}}onEdit(i){this.edit.emit(i)}onDelete(i){this.delete.emit(i)}get filteredExpenses(){return this.dataSource.filteredData||this.dataSource.data||[]}getPeriodicityLabel(i){return{MENSUAL:"Mensual",BIMENSUAL:"Bimensual",TRIMESTRAL:"Trimestral",ANUAL:"Anual"}[i]||i}static \u0275fac=function(e){return new(e||n)(Be(ye))};static \u0275cmp=j({type:n,selectors:[["app-expense-table"]],viewQuery:function(e,t){if(e&1&&Ye(Zo,5),e&2){let a;X(a=Z())&&(t.sort=a.first)}},inputs:{expenses:"expenses",selectedYear:"selectedYear"},outputs:{edit:"edit",delete:"delete",yearChange:"yearChange",monthChange:"monthChange"},features:[ze],decls:69,vars:11,consts:[["input",""],[1,"expense-table-container"],[1,"filter-row"],[1,"filter-field"],["matInput","","placeholder","Cerca per qualsevol camp...",3,"keyup"],["matPrefix",""],["appearance","outline",1,"year-selector"],[3,"selectionChange","value"],[3,"value",4,"ngFor","ngForOf"],["appearance","outline",1,"month-selector"],[3,"value"],[1,"tags-filter-section"],[1,"mobile-card-view"],["class","expense-card",4,"ngFor","ngForOf"],["class","mobile-empty-state",4,"ngIf"],[1,"table-wrapper"],["mat-table","","matSort","",1,"expense-table",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","description"],["matColumnDef","issuer"],["matColumnDef","tag"],["matColumnDef","category"],["matColumnDef","approximateAmount"],["matColumnDef","scheduledPaymentDate"],["matColumnDef","periodicity"],["matColumnDef","actualPaymentDate"],["matColumnDef","actualAmount"],["matColumnDef","paymentStatus"],["matColumnDef","bank"],["matColumnDef","actions"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","","class","actions-cell",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],[1,"tags-header"],[1,"tags-label"],["mat-button","","color","primary",1,"clear-tags-btn"],[1,"tags-chip-set"],[3,"selected","highlighted"],["mat-button","","color","primary",1,"clear-tags-btn",3,"click"],[3,"click","highlighted"],["matChipTrailingIcon",""],[1,"expense-card"],[1,"title-icon"],[1,"subtitle-icon"],[1,"card-row"],[1,"label"],[1,"value"],[1,"card-row","highlight-row"],[1,"value","amount"],["class","card-row",4,"ngIf"],["class","card-row highlight-row",4,"ngIf"],[1,"card-row","status-row"],[3,"ngClass"],["mat-mini-fab","","color","primary","aria-label","Editar",1,"action-button",3,"click"],["mat-mini-fab","","color","warn","aria-label","Eliminar",1,"action-button",3,"click"],[1,"mobile-empty-state"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],["mat-cell","",1,"actions-cell"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],[1,"mat-cell","empty-state"]],template:function(e,t){if(e&1){let a=ke();g(0,"div",1)(1,"div",2)(2,"mat-form-field",3)(3,"mat-label"),v(4,"Filtra despeses"),m(),g(5,"input",4,0),I("keyup",function(o){return V(a),z(t.applyFilter(o))}),m(),g(7,"mat-icon",5),v(8,"search"),m()(),g(9,"mat-form-field",6)(10,"mat-label"),v(11,"Any Fiscal"),m(),g(12,"mat-select",7),I("selectionChange",function(o){return V(a),z(t.onYearChange(o.value))}),H(13,CT,2,2,"mat-option",8),m()(),g(14,"mat-form-field",9)(15,"mat-label"),v(16,"Mes"),m(),g(17,"mat-select",7),I("selectionChange",function(o){return V(a),z(t.onMonthChange(o.value))}),g(18,"mat-option",10),v(19,"Tots els mesos"),m(),H(20,xT,2,2,"mat-option",8),m()()(),te(21,DT,10,1,"div",11),g(22,"div",12),H(23,PT,78,24,"mat-card",13)(24,OT,5,0,"div",14),m(),g(25,"div",15)(26,"table",16),Qe(27,17),H(28,AT,2,0,"th",18)(29,TT,2,1,"td",19),Xe(),Qe(30,20),H(31,RT,2,0,"th",18)(32,IT,2,1,"td",19),Xe(),Qe(33,21),H(34,FT,2,0,"th",18)(35,NT,2,1,"td",19),Xe(),Qe(36,22),H(37,LT,2,0,"th",18)(38,VT,2,1,"td",19),Xe(),Qe(39,23),H(40,zT,2,0,"th",18)(41,BT,2,1,"td",19),Xe(),Qe(42,24),H(43,jT,2,0,"th",18)(44,HT,3,9,"td",19),Xe(),Qe(45,25),H(46,UT,2,0,"th",18)(47,WT,3,4,"td",19),Xe(),Qe(48,26),H(49,$T,2,0,"th",18)(50,YT,2,1,"td",19),Xe(),Qe(51,27),H(52,qT,2,0,"th",18)(53,GT,3,4,"td",19),Xe(),Qe(54,28),H(55,KT,2,0,"th",18)(56,QT,3,9,"td",19),Xe(),Qe(57,29),H(58,XT,2,0,"th",18)(59,ZT,3,2,"td",19),Xe(),Qe(60,30),H(61,JT,2,0,"th",18)(62,eR,2,1,"td",19),Xe(),Qe(63,31),H(64,tR,2,0,"th",32)(65,iR,7,0,"td",33),Xe(),H(66,nR,1,0,"tr",34)(67,aR,1,0,"tr",35)(68,rR,3,1,"tr",36),m()()()}e&2&&(C(12),E("value",t.selectedYear),C(),E("ngForOf",t.availableYears),C(4),E("value",t.selectedMonth),C(),E("value",0),C(2),E("ngForOf",t.availableMonths),C(),ie(t.availableTags.length>0?21:-1),C(2),E("ngForOf",t.filteredExpenses),C(),E("ngIf",t.filteredExpenses.length===0),C(2),E("dataSource",t.dataSource),C(40),E("matHeaderRowDef",t.displayedColumns),C(),E("matRowDefColumns",t.displayedColumns))},dependencies:[Rt,Cs,Ra,Ia,ld,Zc,ed,ad,td,Jc,rd,id,nd,od,sd,Hv,Yv,Zo,$v,La,Na,Cn,vn,zs,oi,hd,Jo,dd,cd,Kn,$n,Ov,qn,Gn,jc,Yn,li,si,kt,Et,js,Zn,Ir,Wi,Nr,Ms,ws],styles:[".expense-table-container[_ngcontent-%COMP%]{width:100%;padding:20px;background:linear-gradient(to bottom,#fafafa,#fff);border-radius:12px}.filter-row[_ngcontent-%COMP%]{display:flex;gap:16px;margin-bottom:20px;align-items:flex-start;flex-wrap:wrap}.filter-field[_ngcontent-%COMP%]{flex:1;min-width:250px;margin:0}.filter-field[_ngcontent-%COMP%]     .mat-mdc-text-field-wrapper{background-color:#fff;border-radius:8px;box-shadow:0 1px 3px #00000014}.filter-field[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#5f6368}.year-selector[_ngcontent-%COMP%]{width:160px;margin:0}.year-selector[_ngcontent-%COMP%]     .mat-mdc-text-field-wrapper{background-color:#fff;border-radius:8px;box-shadow:0 1px 3px #00000014}.year-selector[_ngcontent-%COMP%]     .mat-mdc-form-field-subscript-wrapper{display:none}.month-selector[_ngcontent-%COMP%]{width:180px;margin:0}.month-selector[_ngcontent-%COMP%]     .mat-mdc-text-field-wrapper{background-color:#fff;border-radius:8px;box-shadow:0 1px 3px #00000014}.month-selector[_ngcontent-%COMP%]     .mat-mdc-form-field-subscript-wrapper{display:none}.tags-filter-section[_ngcontent-%COMP%]{margin-bottom:20px;padding:16px;background:linear-gradient(135deg,#f8f9fa,#e9ecef);border-radius:12px;border:1px solid #e0e0e0;box-shadow:0 2px 4px #0000000d}.tags-filter-section[_ngcontent-%COMP%]   .tags-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:14px}.tags-filter-section[_ngcontent-%COMP%]   .tags-header[_ngcontent-%COMP%]   .tags-label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;font-weight:600;font-size:15px;color:#202124}.tags-filter-section[_ngcontent-%COMP%]   .tags-header[_ngcontent-%COMP%]   .tags-label[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:22px;width:22px;height:22px;color:#5f6368}.tags-filter-section[_ngcontent-%COMP%]   .tags-header[_ngcontent-%COMP%]   .clear-tags-btn[_ngcontent-%COMP%]{font-size:13px;font-weight:500;padding:6px 12px;border-radius:6px}.tags-filter-section[_ngcontent-%COMP%]   .tags-header[_ngcontent-%COMP%]   .clear-tags-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:4px;font-size:18px;width:18px;height:18px}.tags-filter-section[_ngcontent-%COMP%]   .tags-chip-set[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:10px}.tags-filter-section[_ngcontent-%COMP%]   .tags-chip-set[_ngcontent-%COMP%]   mat-chip[_ngcontent-%COMP%]{cursor:pointer;background-color:#fff;color:#3c4043;border:1.5px solid #dadce0;font-weight:500;font-size:13px;padding:8px 14px;border-radius:20px;box-shadow:0 1px 2px #0000000d}.tags-filter-section[_ngcontent-%COMP%]   .tags-chip-set[_ngcontent-%COMP%]   mat-chip.selected[_ngcontent-%COMP%]{background:linear-gradient(135deg,#5e72e4,#3f51b5);color:#fff;border-color:#3f51b5;box-shadow:0 2px 8px #3f51b54d}.tags-filter-section[_ngcontent-%COMP%]   .tags-chip-set[_ngcontent-%COMP%]   mat-chip.selected[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#fff}.tags-filter-section[_ngcontent-%COMP%]   .tags-chip-set[_ngcontent-%COMP%]   mat-chip[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px}.mobile-card-view[_ngcontent-%COMP%]{display:none}.table-wrapper[_ngcontent-%COMP%]{display:block;overflow-x:auto;width:100%;-webkit-overflow-scrolling:touch;background-color:#fff;border-radius:12px;box-shadow:0 2px 8px #00000014;border:1px solid #e8eaed}.expense-table[_ngcontent-%COMP%]{width:100%;min-width:1200px;border-collapse:separate;border-spacing:0}.expense-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:600;font-size:13px;text-transform:uppercase;letter-spacing:.5px;background:linear-gradient(to bottom,#f8f9fa,#f1f3f4);color:#5f6368;border-bottom:2px solid #e8eaed;position:sticky;top:0;z-index:10}.expense-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .expense-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:14px 18px}.expense-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:14px;color:#3c4043;border-bottom:1px solid #f1f3f4}.expense-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]{border-bottom:none}mat-chip[_ngcontent-%COMP%]{font-size:12px;font-weight:600;min-height:26px;padding:5px 14px;border-radius:16px;box-shadow:0 1px 3px #0000001f;border:none!important}mat-chip.status-paid[_ngcontent-%COMP%]{background:linear-gradient(135deg,#34a853,#2e7d32)!important;color:#fff!important;border:none!important}mat-chip.status-pending[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fbbc04,#f57c00)!important;color:#fff!important;border:none!important}mat-chip.status-failed[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ea4335,#c62828)!important;color:#fff!important;border:none!important}mat-chip[_ngcontent-%COMP%]     .mat-mdc-chip-action-label{border:none!important}mat-chip[_ngcontent-%COMP%]     .mdc-evolution-chip__cell, mat-chip[_ngcontent-%COMP%]     .mdc-evolution-chip__action{border:none!important}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:48px 32px!important;color:#5f6368;font-style:normal;font-size:15px;background:linear-gradient(to bottom,#fafafa,#fff)}.expense-card[_ngcontent-%COMP%]{margin-bottom:16px;border-radius:12px;box-shadow:0 2px 8px #00000014;border:1px solid #e8eaed;overflow:hidden}.expense-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{margin-bottom:16px;padding:16px 16px 0;background:linear-gradient(135deg,#f8f9fa,#fff)}.expense-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{font-size:18px;font-weight:600;margin-bottom:6px;color:#202124;display:flex;align-items:center;gap:8px}.expense-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]   .title-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px;color:#5e72e4}.expense-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-subtitle[_ngcontent-%COMP%]{font-size:14px;color:#5f6368;font-weight:500;display:flex;align-items:center;gap:6px}.expense-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-subtitle[_ngcontent-%COMP%]   .subtitle-icon[_ngcontent-%COMP%]{font-size:16px;width:16px;height:16px;color:#5f6368}.expense-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{padding:8px 16px 16px}.expense-card[_ngcontent-%COMP%]   mat-card-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:8px;padding:12px 16px;background-color:#fafafa;border-top:1px solid #e8eaed;margin:0}.expense-card[_ngcontent-%COMP%]   mat-card-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-weight:500;border-radius:8px}.expense-card[_ngcontent-%COMP%]   mat-card-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:4px;font-size:18px;width:18px;height:18px}.expense-card[_ngcontent-%COMP%]   .card-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:10px 0;border-bottom:1px solid #f1f3f4}.expense-card[_ngcontent-%COMP%]   .card-row[_ngcontent-%COMP%]:last-child{border-bottom:none}.expense-card[_ngcontent-%COMP%]   .card-row.highlight-row[_ngcontent-%COMP%]{background-color:#f8f9fa;padding:12px 10px;margin:8px -10px;border-radius:8px;border-bottom:none}.expense-card[_ngcontent-%COMP%]   .card-row[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-weight:600;color:#5f6368;font-size:13px;text-transform:uppercase;letter-spacing:.3px;flex-shrink:0;margin-right:12px;display:flex;align-items:center;gap:6px}.expense-card[_ngcontent-%COMP%]   .card-row[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:16px;width:16px;height:16px;color:#5f6368}.expense-card[_ngcontent-%COMP%]   .card-row[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{text-align:right;color:#3c4043;font-size:14px;word-break:break-word;font-weight:500}.expense-card[_ngcontent-%COMP%]   .card-row[_ngcontent-%COMP%]   .value.amount[_ngcontent-%COMP%]{font-weight:700;color:#1967d2;font-size:17px}.expense-card[_ngcontent-%COMP%]   .card-row.status-row[_ngcontent-%COMP%]{padding-top:14px;border-top:2px solid #e8eaed;margin-top:10px}.mobile-empty-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:64px 24px;text-align:center;background:linear-gradient(to bottom,#fafafa,#fff);border-radius:12px;border:2px dashed #dadce0}.mobile-empty-state[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:72px;width:72px;height:72px;color:#dadce0;margin-bottom:20px}.mobile-empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#5f6368;font-size:16px;font-weight:500}@media(max-width:767px){.expense-table-container[_ngcontent-%COMP%]{padding:12px;background:transparent}.filter-row[_ngcontent-%COMP%]{flex-direction:column;gap:12px;margin-bottom:16px}.filter-field[_ngcontent-%COMP%]{width:100%;min-width:unset;font-size:14px}.year-selector[_ngcontent-%COMP%], .month-selector[_ngcontent-%COMP%]{width:100%}.tags-filter-section[_ngcontent-%COMP%]{padding:12px;margin-bottom:16px}.tags-filter-section[_ngcontent-%COMP%]   .tags-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:10px}.tags-filter-section[_ngcontent-%COMP%]   .tags-header[_ngcontent-%COMP%]   .tags-label[_ngcontent-%COMP%]{font-size:14px}.tags-filter-section[_ngcontent-%COMP%]   .tags-header[_ngcontent-%COMP%]   .tags-label[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px}.tags-filter-section[_ngcontent-%COMP%]   .tags-header[_ngcontent-%COMP%]   .clear-tags-btn[_ngcontent-%COMP%]{align-self:flex-end;font-size:12px}.tags-filter-section[_ngcontent-%COMP%]   .tags-chip-set[_ngcontent-%COMP%]{gap:8px}.tags-filter-section[_ngcontent-%COMP%]   .tags-chip-set[_ngcontent-%COMP%]   mat-chip[_ngcontent-%COMP%]{font-size:12px;padding:6px 12px}.table-wrapper[_ngcontent-%COMP%]{display:none}.mobile-card-view[_ngcontent-%COMP%]{display:block}.expense-card[_ngcontent-%COMP%]{margin-bottom:14px;border-radius:10px}.expense-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{padding:14px 14px 0}.expense-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{font-size:16px}.expense-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]   .title-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px}.expense-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-subtitle[_ngcontent-%COMP%]{font-size:13px}.expense-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-subtitle[_ngcontent-%COMP%]   .subtitle-icon[_ngcontent-%COMP%]{font-size:14px;width:14px;height:14px}.expense-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{padding:14px}.expense-card[_ngcontent-%COMP%]   mat-card-actions[_ngcontent-%COMP%]{padding:10px 14px}.expense-card[_ngcontent-%COMP%]   .card-row[_ngcontent-%COMP%]{padding:8px 0}.expense-card[_ngcontent-%COMP%]   .card-row.highlight-row[_ngcontent-%COMP%]{padding:10px 8px;margin:6px -8px}.expense-card[_ngcontent-%COMP%]   .card-row[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:11px;gap:4px}.expense-card[_ngcontent-%COMP%]   .card-row[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:14px;width:14px;height:14px}.expense-card[_ngcontent-%COMP%]   .card-row[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-size:13px}.expense-card[_ngcontent-%COMP%]   .card-row[_ngcontent-%COMP%]   .value.amount[_ngcontent-%COMP%]{font-size:15px}mat-chip[_ngcontent-%COMP%]{font-size:11px;min-height:24px;padding:4px 11px}.mobile-empty-state[_ngcontent-%COMP%]{padding:48px 20px}.mobile-empty-state[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:56px;width:56px;height:56px}.mobile-empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px}}.actions-cell[_ngcontent-%COMP%]{white-space:nowrap}.action-button[_ngcontent-%COMP%]{width:36px!important;height:36px!important;min-width:36px!important;margin:0 4px!important;box-shadow:0 2px 4px #00000026!important;transition:all .2s ease!important}.action-button[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 8px #0003!important}.action-button[_ngcontent-%COMP%]:active{transform:translateY(0)}.action-button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px}.expense-card[_ngcontent-%COMP%]   mat-card-actions[_ngcontent-%COMP%]   .action-button[_ngcontent-%COMP%]{width:40px!important;height:40px!important;min-width:40px!important}@media(min-width:768px)and (max-width:1023px){.expense-table-container[_ngcontent-%COMP%]{padding:16px}.filter-row[_ngcontent-%COMP%]{margin-bottom:16px;gap:12px}.filter-field[_ngcontent-%COMP%]{min-width:200px}.year-selector[_ngcontent-%COMP%]{width:150px}.tags-filter-section[_ngcontent-%COMP%]{padding:14px}.tags-filter-section[_ngcontent-%COMP%]   .tags-header[_ngcontent-%COMP%]   .tags-label[_ngcontent-%COMP%]{font-size:14px}.tags-filter-section[_ngcontent-%COMP%]   .tags-chip-set[_ngcontent-%COMP%]{gap:8px}.tags-filter-section[_ngcontent-%COMP%]   .tags-chip-set[_ngcontent-%COMP%]   mat-chip[_ngcontent-%COMP%]{font-size:12px;padding:7px 13px}.mobile-card-view[_ngcontent-%COMP%]{display:none}.table-wrapper[_ngcontent-%COMP%]{display:block;border-radius:10px}.expense-table[_ngcontent-%COMP%]{min-width:1100px}.expense-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .expense-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:12px 14px;font-size:13px}.expense-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-size:12px}mat-chip[_ngcontent-%COMP%]{font-size:11px;min-height:24px;padding:4px 11px}.empty-state[_ngcontent-%COMP%]{padding:36px 24px!important;font-size:14px}}@media(min-width:1024px){.expense-table-container[_ngcontent-%COMP%]{padding:20px}.filter-row[_ngcontent-%COMP%], .tags-filter-section[_ngcontent-%COMP%]{margin-bottom:20px}.mobile-card-view[_ngcontent-%COMP%]{display:none}.table-wrapper[_ngcontent-%COMP%]{display:block}.expense-table[_ngcontent-%COMP%]{min-width:1200px}.expense-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .expense-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:14px 18px;font-size:14px}.expense-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-size:13px}mat-chip[_ngcontent-%COMP%]{font-size:12px;min-height:26px;padding:5px 14px}.empty-state[_ngcontent-%COMP%]{padding:48px 32px!important;font-size:15px}}"]})};var oR=["mat-calendar-body",""];function sR(n,i){return this._trackRow(i)}var sC=(n,i)=>i.id;function lR(n,i){if(n&1&&(g(0,"tr",0)(1,"td",3),v(2),m()()),n&2){let e=A();C(),Oi("padding-top",e._cellPadding)("padding-bottom",e._cellPadding),pe("colspan",e.numCols),C(),he(" ",e.label," ")}}function cR(n,i){if(n&1&&(g(0,"td",3),v(1),m()),n&2){let e=A(2);Oi("padding-top",e._cellPadding)("padding-bottom",e._cellPadding),pe("colspan",e._firstRowOffset),C(),he(" ",e._firstRowOffset>=e.labelMinRequiredCells?e.label:""," ")}}function dR(n,i){if(n&1){let e=ke();g(0,"td",6)(1,"button",7),I("click",function(a){let r=V(e).$implicit,o=A(2);return z(o._cellClicked(r,a))})("focus",function(a){let r=V(e).$implicit,o=A(2);return z(o._emitActiveDateChange(r,a))}),g(2,"span",8),v(3),m(),q(4,"span",9),m()()}if(n&2){let e=i.$implicit,t=i.$index,a=A().$index,r=A();Oi("width",r._cellWidth)("padding-top",r._cellPadding)("padding-bottom",r._cellPadding),pe("data-mat-row",a)("data-mat-col",t),C(),de("mat-calendar-body-disabled",!e.enabled)("mat-calendar-body-active",r._isActiveCell(a,t))("mat-calendar-body-range-start",r._isRangeStart(e.compareValue))("mat-calendar-body-range-end",r._isRangeEnd(e.compareValue))("mat-calendar-body-in-range",r._isInRange(e.compareValue))("mat-calendar-body-comparison-bridge-start",r._isComparisonBridgeStart(e.compareValue,a,t))("mat-calendar-body-comparison-bridge-end",r._isComparisonBridgeEnd(e.compareValue,a,t))("mat-calendar-body-comparison-start",r._isComparisonStart(e.compareValue))("mat-calendar-body-comparison-end",r._isComparisonEnd(e.compareValue))("mat-calendar-body-in-comparison-range",r._isInComparisonRange(e.compareValue))("mat-calendar-body-preview-start",r._isPreviewStart(e.compareValue))("mat-calendar-body-preview-end",r._isPreviewEnd(e.compareValue))("mat-calendar-body-in-preview",r._isInPreview(e.compareValue)),E("ngClass",e.cssClasses)("tabindex",r._isActiveCell(a,t)?0:-1),pe("aria-label",e.ariaLabel)("aria-disabled",!e.enabled||null)("aria-pressed",r._isSelected(e.compareValue))("aria-current",r.todayValue===e.compareValue?"date":null)("aria-describedby",r._getDescribedby(e.compareValue)),C(),de("mat-calendar-body-selected",r._isSelected(e.compareValue))("mat-calendar-body-comparison-identical",r._isComparisonIdentical(e.compareValue))("mat-calendar-body-today",r.todayValue===e.compareValue),C(),he(" ",e.displayValue," ")}}function hR(n,i){if(n&1&&(g(0,"tr",1),te(1,cR,2,6,"td",4),mn(2,dR,5,48,"td",5,sC),m()),n&2){let e=i.$implicit,t=i.$index,a=A();C(),ie(t===0&&a._firstRowOffset?1:-1),C(),fn(e)}}function uR(n,i){if(n&1&&(g(0,"th",2)(1,"span",6),v(2),m(),g(3,"span",3),v(4),m()()),n&2){let e=i.$implicit;C(2),K(e.long),C(2),K(e.narrow)}}var pR=["*"];function mR(n,i){}function fR(n,i){if(n&1){let e=ke();g(0,"mat-month-view",4),ys("activeDateChange",function(a){V(e);let r=A();return bs(r.activeDate,a)||(r.activeDate=a),z(a)}),I("_userSelection",function(a){V(e);let r=A();return z(r._dateSelected(a))})("dragStarted",function(a){V(e);let r=A();return z(r._dragStarted(a))})("dragEnded",function(a){V(e);let r=A();return z(r._dragEnded(a))}),m()}if(n&2){let e=A();_s("activeDate",e.activeDate),E("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)("comparisonStart",e.comparisonStart)("comparisonEnd",e.comparisonEnd)("startDateAccessibleName",e.startDateAccessibleName)("endDateAccessibleName",e.endDateAccessibleName)("activeDrag",e._activeDrag)}}function gR(n,i){if(n&1){let e=ke();g(0,"mat-year-view",5),ys("activeDateChange",function(a){V(e);let r=A();return bs(r.activeDate,a)||(r.activeDate=a),z(a)}),I("monthSelected",function(a){V(e);let r=A();return z(r._monthSelectedInYearView(a))})("selectedChange",function(a){V(e);let r=A();return z(r._goToDateInView(a,"month"))}),m()}if(n&2){let e=A();_s("activeDate",e.activeDate),E("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)}}function _R(n,i){if(n&1){let e=ke();g(0,"mat-multi-year-view",6),ys("activeDateChange",function(a){V(e);let r=A();return bs(r.activeDate,a)||(r.activeDate=a),z(a)}),I("yearSelected",function(a){V(e);let r=A();return z(r._yearSelectedInMultiYearView(a))})("selectedChange",function(a){V(e);let r=A();return z(r._goToDateInView(a,"year"))}),m()}if(n&2){let e=A();_s("activeDate",e.activeDate),E("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)}}function bR(n,i){}var yR=["button"],vR=[[["","matDatepickerToggleIcon",""]]],CR=["[matDatepickerToggleIcon]"];function xR(n,i){n&1&&(Ut(),g(0,"svg",2),q(1,"path",3),m())}var zr=(()=>{class n{changes=new G;calendarLabel="Calendar";openCalendarLabel="Open calendar";closeCalendarLabel="Close calendar";prevMonthLabel="Previous month";nextMonthLabel="Next month";prevYearLabel="Previous year";nextYearLabel="Next year";prevMultiYearLabel="Previous 24 years";nextMultiYearLabel="Next 24 years";switchToMonthViewLabel="Choose date";switchToMultiYearViewLabel="Choose month and year";startDateLabel="Start date";endDateLabel="End date";comparisonDateLabel="Comparison range";formatYearRange(e,t){return`${e} \u2013 ${t}`}formatYearRangeLabel(e,t){return`${e} to ${t}`}static \u0275fac=function(t){return new(t||n)};static \u0275prov=ae({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),wR=0,is=class{value;displayValue;ariaLabel;enabled;cssClasses;compareValue;rawValue;id=wR++;constructor(i,e,t,a,r={},o=i,s){this.value=i,this.displayValue=e,this.ariaLabel=t,this.enabled=a,this.cssClasses=r,this.compareValue=o,this.rawValue=s}},MR={passive:!1,capture:!0},md={passive:!0,capture:!0},tC={passive:!0},Vr=(()=>{class n{_elementRef=b(ge);_ngZone=b(dt);_platform=b(bn);_intl=b(zr);_eventCleanups;_skipNextFocus=!1;_focusActiveCellAfterViewChecked=!1;label;rows;todayValue;startValue;endValue;labelMinRequiredCells;numCols=7;activeCell=0;ngAfterViewChecked(){this._focusActiveCellAfterViewChecked&&(this._focusActiveCell(),this._focusActiveCellAfterViewChecked=!1)}isRange=!1;cellAspectRatio=1;comparisonStart=null;comparisonEnd=null;previewStart=null;previewEnd=null;startDateAccessibleName=null;endDateAccessibleName=null;selectedValueChange=new W;previewChange=new W;activeDateChange=new W;dragStarted=new W;dragEnded=new W;_firstRowOffset;_cellPadding;_cellWidth;_startDateLabelId;_endDateLabelId;_comparisonStartDateLabelId;_comparisonEndDateLabelId;_didDragSinceMouseDown=!1;_injector=b(Ue);comparisonDateAccessibleName=this._intl.comparisonDateLabel;_trackRow=e=>e;constructor(){let e=b(ki),t=b(ri);this._startDateLabelId=t.getId("mat-calendar-body-start-"),this._endDateLabelId=t.getId("mat-calendar-body-end-"),this._comparisonStartDateLabelId=t.getId("mat-calendar-body-comparison-start-"),this._comparisonEndDateLabelId=t.getId("mat-calendar-body-comparison-end-"),b(ai).load(Qi),this._ngZone.runOutsideAngular(()=>{let a=this._elementRef.nativeElement,r=[e.listen(a,"touchmove",this._touchmoveHandler,MR),e.listen(a,"mouseenter",this._enterHandler,md),e.listen(a,"focus",this._enterHandler,md),e.listen(a,"mouseleave",this._leaveHandler,md),e.listen(a,"blur",this._leaveHandler,md),e.listen(a,"mousedown",this._mousedownHandler,tC),e.listen(a,"touchstart",this._mousedownHandler,tC)];this._platform.isBrowser&&r.push(e.listen("window","mouseup",this._mouseupHandler),e.listen("window","touchend",this._touchendHandler)),this._eventCleanups=r})}_cellClicked(e,t){this._didDragSinceMouseDown||e.enabled&&this.selectedValueChange.emit({value:e.value,event:t})}_emitActiveDateChange(e,t){e.enabled&&this.activeDateChange.emit({value:e.value,event:t})}_isSelected(e){return this.startValue===e||this.endValue===e}ngOnChanges(e){let t=e.numCols,{rows:a,numCols:r}=this;(e.rows||t)&&(this._firstRowOffset=a&&a.length&&a[0].length?r-a[0].length:0),(e.cellAspectRatio||t||!this._cellPadding)&&(this._cellPadding=`${50*this.cellAspectRatio/r}%`),(t||!this._cellWidth)&&(this._cellWidth=`${100/r}%`)}ngOnDestroy(){this._eventCleanups.forEach(e=>e())}_isActiveCell(e,t){let a=e*this.numCols+t;return e&&(a-=this._firstRowOffset),a==this.activeCell}_focusActiveCell(e=!0){st(()=>{setTimeout(()=>{let t=this._elementRef.nativeElement.querySelector(".mat-calendar-body-active");t&&(e||(this._skipNextFocus=!0),t.focus())})},{injector:this._injector})}_scheduleFocusActiveCellAfterViewChecked(){this._focusActiveCellAfterViewChecked=!0}_isRangeStart(e){return Wp(e,this.startValue,this.endValue)}_isRangeEnd(e){return $p(e,this.startValue,this.endValue)}_isInRange(e){return Yp(e,this.startValue,this.endValue,this.isRange)}_isComparisonStart(e){return Wp(e,this.comparisonStart,this.comparisonEnd)}_isComparisonBridgeStart(e,t,a){if(!this._isComparisonStart(e)||this._isRangeStart(e)||!this._isInRange(e))return!1;let r=this.rows[t][a-1];if(!r){let o=this.rows[t-1];r=o&&o[o.length-1]}return r&&!this._isRangeEnd(r.compareValue)}_isComparisonBridgeEnd(e,t,a){if(!this._isComparisonEnd(e)||this._isRangeEnd(e)||!this._isInRange(e))return!1;let r=this.rows[t][a+1];if(!r){let o=this.rows[t+1];r=o&&o[0]}return r&&!this._isRangeStart(r.compareValue)}_isComparisonEnd(e){return $p(e,this.comparisonStart,this.comparisonEnd)}_isInComparisonRange(e){return Yp(e,this.comparisonStart,this.comparisonEnd,this.isRange)}_isComparisonIdentical(e){return this.comparisonStart===this.comparisonEnd&&e===this.comparisonStart}_isPreviewStart(e){return Wp(e,this.previewStart,this.previewEnd)}_isPreviewEnd(e){return $p(e,this.previewStart,this.previewEnd)}_isInPreview(e){return Yp(e,this.previewStart,this.previewEnd,this.isRange)}_getDescribedby(e){if(!this.isRange)return null;if(this.startValue===e&&this.endValue===e)return`${this._startDateLabelId} ${this._endDateLabelId}`;if(this.startValue===e)return this._startDateLabelId;if(this.endValue===e)return this._endDateLabelId;if(this.comparisonStart!==null&&this.comparisonEnd!==null){if(e===this.comparisonStart&&e===this.comparisonEnd)return`${this._comparisonStartDateLabelId} ${this._comparisonEndDateLabelId}`;if(e===this.comparisonStart)return this._comparisonStartDateLabelId;if(e===this.comparisonEnd)return this._comparisonEndDateLabelId}return null}_enterHandler=e=>{if(this._skipNextFocus&&e.type==="focus"){this._skipNextFocus=!1;return}if(e.target&&this.isRange){let t=this._getCellFromElement(e.target);t&&this._ngZone.run(()=>this.previewChange.emit({value:t.enabled?t:null,event:e}))}};_touchmoveHandler=e=>{if(!this.isRange)return;let t=iC(e),a=t?this._getCellFromElement(t):null;t!==e.target&&(this._didDragSinceMouseDown=!0),Up(e.target)&&e.preventDefault(),this._ngZone.run(()=>this.previewChange.emit({value:a?.enabled?a:null,event:e}))};_leaveHandler=e=>{this.previewEnd!==null&&this.isRange&&(e.type!=="blur"&&(this._didDragSinceMouseDown=!0),e.target&&this._getCellFromElement(e.target)&&!(e.relatedTarget&&this._getCellFromElement(e.relatedTarget))&&this._ngZone.run(()=>this.previewChange.emit({value:null,event:e})))};_mousedownHandler=e=>{if(!this.isRange)return;this._didDragSinceMouseDown=!1;let t=e.target&&this._getCellFromElement(e.target);!t||!this._isInRange(t.compareValue)||this._ngZone.run(()=>{this.dragStarted.emit({value:t.rawValue,event:e})})};_mouseupHandler=e=>{if(!this.isRange)return;let t=Up(e.target);if(!t){this._ngZone.run(()=>{this.dragEnded.emit({value:null,event:e})});return}t.closest(".mat-calendar-body")===this._elementRef.nativeElement&&this._ngZone.run(()=>{let a=this._getCellFromElement(t);this.dragEnded.emit({value:a?.rawValue??null,event:e})})};_touchendHandler=e=>{let t=iC(e);t&&this._mouseupHandler({target:t})};_getCellFromElement(e){let t=Up(e);if(t){let a=t.getAttribute("data-mat-row"),r=t.getAttribute("data-mat-col");if(a&&r)return this.rows[parseInt(a)]?.[parseInt(r)]||null}return null}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=j({type:n,selectors:[["","mat-calendar-body",""]],hostAttrs:[1,"mat-calendar-body"],inputs:{label:"label",rows:"rows",todayValue:"todayValue",startValue:"startValue",endValue:"endValue",labelMinRequiredCells:"labelMinRequiredCells",numCols:"numCols",activeCell:"activeCell",isRange:"isRange",cellAspectRatio:"cellAspectRatio",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",previewStart:"previewStart",previewEnd:"previewEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName"},outputs:{selectedValueChange:"selectedValueChange",previewChange:"previewChange",activeDateChange:"activeDateChange",dragStarted:"dragStarted",dragEnded:"dragEnded"},exportAs:["matCalendarBody"],features:[ze],attrs:oR,decls:11,vars:11,consts:[["aria-hidden","true"],["role","row"],[1,"mat-calendar-body-hidden-label",3,"id"],[1,"mat-calendar-body-label"],[1,"mat-calendar-body-label",3,"paddingTop","paddingBottom"],["role","gridcell",1,"mat-calendar-body-cell-container",3,"width","paddingTop","paddingBottom"],["role","gridcell",1,"mat-calendar-body-cell-container"],["type","button",1,"mat-calendar-body-cell",3,"click","focus","ngClass","tabindex"],[1,"mat-calendar-body-cell-content","mat-focus-indicator"],["aria-hidden","true",1,"mat-calendar-body-cell-preview"]],template:function(t,a){t&1&&(te(0,lR,3,6,"tr",0),mn(1,hR,4,1,"tr",1,sR,!0),g(3,"span",2),v(4),m(),g(5,"span",2),v(6),m(),g(7,"span",2),v(8),m(),g(9,"span",2),v(10),m()),t&2&&(ie(a._firstRowOffset<a.labelMinRequiredCells?0:-1),C(),fn(a.rows),C(2),E("id",a._startDateLabelId),C(),he(" ",a.startDateAccessibleName,`
`),C(),E("id",a._endDateLabelId),C(),he(" ",a.endDateAccessibleName,`
`),C(),E("id",a._comparisonStartDateLabelId),C(),Td(" ",a.comparisonDateAccessibleName," ",a.startDateAccessibleName,`
`),C(),E("id",a._comparisonEndDateLabelId),C(),Td(" ",a.comparisonDateAccessibleName," ",a.endDateAccessibleName,`
`))},dependencies:[Cs],styles:[`.mat-calendar-body{min-width:224px}.mat-calendar-body-today:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){border-color:var(--mat-datepicker-calendar-date-today-outline-color, var(--mat-sys-primary))}.mat-calendar-body-label{height:0;line-height:0;text-align:start;padding-left:4.7142857143%;padding-right:4.7142857143%;font-size:var(--mat-datepicker-calendar-body-label-text-size, var(--mat-sys-title-small-size));font-weight:var(--mat-datepicker-calendar-body-label-text-weight, var(--mat-sys-title-small-weight));color:var(--mat-datepicker-calendar-body-label-text-color, var(--mat-sys-on-surface))}.mat-calendar-body-hidden-label{display:none}.mat-calendar-body-cell-container{position:relative;height:0;line-height:0}.mat-calendar-body-cell{position:absolute;top:0;left:0;width:100%;height:100%;background:none;text-align:center;outline:none;margin:0;font-family:var(--mat-datepicker-calendar-text-font, var(--mat-sys-body-medium-font));font-size:var(--mat-datepicker-calendar-text-size, var(--mat-sys-body-medium-size));-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-calendar-body-cell::-moz-focus-inner{border:0}.mat-calendar-body-cell::before,.mat-calendar-body-cell::after,.mat-calendar-body-cell-preview{content:"";position:absolute;top:5%;left:0;z-index:0;box-sizing:border-box;display:block;height:90%;width:100%}.mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-start::after,.mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,.mat-calendar-body-comparison-start::after,.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:5%;width:95%;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,[dir=rtl] .mat-calendar-body-comparison-start::after,[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:0;border-radius:0;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,.mat-calendar-body-comparison-end::after,.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}[dir=rtl] .mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,[dir=rtl] .mat-calendar-body-comparison-end::after,[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{left:5%;border-radius:0;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-comparison-bridge-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-bridge-end.mat-calendar-body-range-start::after{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end.mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-end.mat-calendar-body-range-start::after{width:90%}.mat-calendar-body-in-preview{color:var(--mat-datepicker-calendar-date-preview-state-outline-color, var(--mat-sys-primary))}.mat-calendar-body-in-preview .mat-calendar-body-cell-preview{border-top:dashed 1px;border-bottom:dashed 1px}.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:dashed 1px}[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:0;border-right:dashed 1px}.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:dashed 1px}[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:0;border-left:dashed 1px}.mat-calendar-body-disabled{cursor:default}.mat-calendar-body-disabled>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){color:var(--mat-datepicker-calendar-date-disabled-state-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-calendar-body-disabled>.mat-calendar-body-today:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){border-color:var(--mat-datepicker-calendar-date-today-disabled-state-outline-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}@media(forced-colors: active){.mat-calendar-body-disabled{opacity:.5}}.mat-calendar-body-cell-content{top:5%;left:5%;z-index:1;display:flex;align-items:center;justify-content:center;box-sizing:border-box;width:90%;height:90%;line-height:1;border-width:1px;border-style:solid;border-radius:999px;color:var(--mat-datepicker-calendar-date-text-color, var(--mat-sys-on-surface));border-color:var(--mat-datepicker-calendar-date-outline-color, transparent)}.mat-calendar-body-cell-content.mat-focus-indicator{position:absolute}@media(forced-colors: active){.mat-calendar-body-cell-content{border:none}}.cdk-keyboard-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical),.cdk-program-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){background-color:var(--mat-datepicker-calendar-date-focus-state-background-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-focus-state-layer-opacity) * 100%), transparent))}@media(hover: hover){.mat-calendar-body-cell:not(.mat-calendar-body-disabled):hover>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){background-color:var(--mat-datepicker-calendar-date-hover-state-background-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-hover-state-layer-opacity) * 100%), transparent))}}.mat-calendar-body-selected{background-color:var(--mat-datepicker-calendar-date-selected-state-background-color, var(--mat-sys-primary));color:var(--mat-datepicker-calendar-date-selected-state-text-color, var(--mat-sys-on-primary))}.mat-calendar-body-disabled>.mat-calendar-body-selected{background-color:var(--mat-datepicker-calendar-date-selected-disabled-state-background-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-calendar-body-selected.mat-calendar-body-today{box-shadow:inset 0 0 0 1px var(--mat-datepicker-calendar-date-today-selected-state-outline-color, var(--mat-sys-primary))}.mat-calendar-body-in-range::before{background:var(--mat-datepicker-calendar-date-in-range-state-background-color, var(--mat-sys-primary-container))}.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range::before{background:var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color, var(--mat-sys-tertiary-container))}.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range::before{background:var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color, var(--mat-sys-tertiary-container))}.mat-calendar-body-comparison-bridge-start::before,[dir=rtl] .mat-calendar-body-comparison-bridge-end::before{background:linear-gradient(to right, var(--mat-datepicker-calendar-date-in-range-state-background-color, var(--mat-sys-primary-container)) 50%, var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color, var(--mat-sys-tertiary-container)) 50%)}.mat-calendar-body-comparison-bridge-end::before,[dir=rtl] .mat-calendar-body-comparison-bridge-start::before{background:linear-gradient(to left, var(--mat-datepicker-calendar-date-in-range-state-background-color, var(--mat-sys-primary-container)) 50%, var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color, var(--mat-sys-tertiary-container)) 50%)}.mat-calendar-body-in-range>.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range.mat-calendar-body-in-range::after{background:var(--mat-datepicker-calendar-date-in-overlap-range-state-background-color, var(--mat-sys-secondary-container))}.mat-calendar-body-comparison-identical.mat-calendar-body-selected,.mat-calendar-body-in-comparison-range>.mat-calendar-body-selected{background:var(--mat-datepicker-calendar-date-in-overlap-range-selected-state-background-color, var(--mat-sys-secondary))}@media(forced-colors: active){.mat-datepicker-popup:not(:empty),.mat-calendar-body-cell:not(.mat-calendar-body-in-range) .mat-calendar-body-selected{outline:solid 1px}.mat-calendar-body-today{outline:dotted 1px}.mat-calendar-body-cell::before,.mat-calendar-body-cell::after,.mat-calendar-body-selected{background:none}.mat-calendar-body-in-range::before,.mat-calendar-body-comparison-bridge-start::before,.mat-calendar-body-comparison-bridge-end::before{border-top:solid 1px;border-bottom:solid 1px}.mat-calendar-body-range-start::before{border-left:solid 1px}[dir=rtl] .mat-calendar-body-range-start::before{border-left:0;border-right:solid 1px}.mat-calendar-body-range-end::before{border-right:solid 1px}[dir=rtl] .mat-calendar-body-range-end::before{border-right:0;border-left:solid 1px}.mat-calendar-body-in-comparison-range::before{border-top:dashed 1px;border-bottom:dashed 1px}.mat-calendar-body-comparison-start::before{border-left:dashed 1px}[dir=rtl] .mat-calendar-body-comparison-start::before{border-left:0;border-right:dashed 1px}.mat-calendar-body-comparison-end::before{border-right:dashed 1px}[dir=rtl] .mat-calendar-body-comparison-end::before{border-right:0;border-left:dashed 1px}}
`],encapsulation:2,changeDetection:0})}return n})();function Hp(n){return n?.nodeName==="TD"}function Up(n){let i;return Hp(n)?i=n:Hp(n.parentNode)?i=n.parentNode:Hp(n.parentNode?.parentNode)&&(i=n.parentNode.parentNode),i?.getAttribute("data-mat-row")!=null?i:null}function Wp(n,i,e){return e!==null&&i!==e&&n<e&&n===i}function $p(n,i,e){return i!==null&&i!==e&&n>=i&&n===e}function Yp(n,i,e,t){return t&&i!==null&&e!==null&&i!==e&&n>=i&&n<=e}function iC(n){let i=n.changedTouches[0];return document.elementFromPoint(i.clientX,i.clientY)}var fi=class{start;end;_disableStructuralEquivalency;constructor(i,e){this.start=i,this.end=e}},ns=(()=>{class n{selection;_adapter;_selectionChanged=new G;selectionChanged=this._selectionChanged;constructor(e,t){this.selection=e,this._adapter=t,this.selection=e}updateSelection(e,t){let a=this.selection;this.selection=e,this._selectionChanged.next({selection:e,source:t,oldValue:a})}ngOnDestroy(){this._selectionChanged.complete()}_isValidDateInstance(e){return this._adapter.isDateInstance(e)&&this._adapter.isValid(e)}static \u0275fac=function(t){ms()};static \u0275prov=ae({token:n,factory:n.\u0275fac})}return n})(),SR=(()=>{class n extends ns{constructor(e){super(null,e)}add(e){super.updateSelection(e,this)}isValid(){return this.selection!=null&&this._isValidDateInstance(this.selection)}isComplete(){return this.selection!=null}clone(){let e=new n(this._adapter);return e.updateSelection(this.selection,this),e}static \u0275fac=function(t){return new(t||n)(it(Mt))};static \u0275prov=ae({token:n,factory:n.\u0275fac})}return n})();var lC={provide:ns,useFactory:()=>b(ns,{optional:!0,skipSelf:!0})||new SR(b(Mt))};var cC=new $("MAT_DATE_RANGE_SELECTION_STRATEGY");var qp=7,DR=0,nC=(()=>{class n{_changeDetectorRef=b(ye);_dateFormats=b(Ui,{optional:!0});_dateAdapter=b(Mt,{optional:!0});_dir=b(Yt,{optional:!0});_rangeStrategy=b(cC,{optional:!0});_rerenderSubscription=Zt.EMPTY;_selectionKeyPressed=!1;get activeDate(){return this._activeDate}set activeDate(e){let t=this._activeDate,a=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(a,this.minDate,this.maxDate),this._hasSameMonthAndYear(t,this._activeDate)||this._init()}_activeDate;get selected(){return this._selected}set selected(e){e instanceof fi?this._selected=e:this._selected=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setRanges(this._selected)}_selected=null;get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}_minDate=null;get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}_maxDate=null;dateFilter;dateClass;comparisonStart=null;comparisonEnd=null;startDateAccessibleName=null;endDateAccessibleName=null;activeDrag=null;selectedChange=new W;_userSelection=new W;dragStarted=new W;dragEnded=new W;activeDateChange=new W;_matCalendarBody;_monthLabel=J("");_weeks=J([]);_firstWeekOffset=J(0);_rangeStart=J(null);_rangeEnd=J(null);_comparisonRangeStart=J(null);_comparisonRangeEnd=J(null);_previewStart=J(null);_previewEnd=J(null);_isRange=J(!1);_todayDate=J(null);_weekdays=J([]);constructor(){b(ai).load(yn),this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(jt(null)).subscribe(()=>this._init())}ngOnChanges(e){let t=e.comparisonStart||e.comparisonEnd;t&&!t.firstChange&&this._setRanges(this.selected),e.activeDrag&&!this.activeDrag&&this._clearPreview()}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_dateSelected(e){let t=e.value,a=this._getDateFromDayOfMonth(t),r,o;this._selected instanceof fi?(r=this._getDateInCurrentMonth(this._selected.start),o=this._getDateInCurrentMonth(this._selected.end)):r=o=this._getDateInCurrentMonth(this._selected),(r!==t||o!==t)&&this.selectedChange.emit(a),this._userSelection.emit({value:a,event:e.event}),this._clearPreview(),this._changeDetectorRef.markForCheck()}_updateActiveDate(e){let t=e.value,a=this._activeDate;this.activeDate=this._getDateFromDayOfMonth(t),this._dateAdapter.compareDate(a,this.activeDate)&&this.activeDateChange.emit(this._activeDate)}_handleCalendarBodyKeydown(e){let t=this._activeDate,a=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,a?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,a?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,-7);break;case 40:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,7);break;case 36:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,1-this._dateAdapter.getDate(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,this._dateAdapter.getNumDaysInMonth(this._activeDate)-this._dateAdapter.getDate(this._activeDate));break;case 33:this.activeDate=e.altKey?this._dateAdapter.addCalendarYears(this._activeDate,-1):this._dateAdapter.addCalendarMonths(this._activeDate,-1);break;case 34:this.activeDate=e.altKey?this._dateAdapter.addCalendarYears(this._activeDate,1):this._dateAdapter.addCalendarMonths(this._activeDate,1);break;case 13:case 32:this._selectionKeyPressed=!0,this._canSelect(this._activeDate)&&e.preventDefault();return;case 27:this._previewEnd()!=null&&!Dt(e)&&(this._clearPreview(),this.activeDrag?this.dragEnded.emit({value:null,event:e}):(this.selectedChange.emit(null),this._userSelection.emit({value:null,event:e})),e.preventDefault(),e.stopPropagation());return;default:return}this._dateAdapter.compareDate(t,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),e.preventDefault()}_handleCalendarBodyKeyup(e){(e.keyCode===32||e.keyCode===13)&&(this._selectionKeyPressed&&this._canSelect(this._activeDate)&&this._dateSelected({value:this._dateAdapter.getDate(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_init(){this._setRanges(this.selected),this._todayDate.set(this._getCellCompareValue(this._dateAdapter.today())),this._monthLabel.set(this._dateFormats.display.monthLabel?this._dateAdapter.format(this.activeDate,this._dateFormats.display.monthLabel):this._dateAdapter.getMonthNames("short")[this._dateAdapter.getMonth(this.activeDate)].toLocaleUpperCase());let e=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),1);this._firstWeekOffset.set((qp+this._dateAdapter.getDayOfWeek(e)-this._dateAdapter.getFirstDayOfWeek())%qp),this._initWeekdays(),this._createWeekCells(),this._changeDetectorRef.markForCheck()}_focusActiveCell(e){this._matCalendarBody._focusActiveCell(e)}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_previewChanged({event:e,value:t}){if(this._rangeStrategy){let a=t?t.rawValue:null,r=this._rangeStrategy.createPreview(a,this.selected,e);if(this._previewStart.set(this._getCellCompareValue(r.start)),this._previewEnd.set(this._getCellCompareValue(r.end)),this.activeDrag&&a){let o=this._rangeStrategy.createDrag?.(this.activeDrag.value,this.selected,a,e);o&&(this._previewStart.set(this._getCellCompareValue(o.start)),this._previewEnd.set(this._getCellCompareValue(o.end)))}}}_dragEnded(e){if(this.activeDrag)if(e.value){let t=this._rangeStrategy?.createDrag?.(this.activeDrag.value,this.selected,e.value,e.event);this.dragEnded.emit({value:t??null,event:e.event})}else this.dragEnded.emit({value:null,event:e.event})}_getDateFromDayOfMonth(e){return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),e)}_initWeekdays(){let e=this._dateAdapter.getFirstDayOfWeek(),t=this._dateAdapter.getDayOfWeekNames("narrow"),r=this._dateAdapter.getDayOfWeekNames("long").map((o,s)=>({long:o,narrow:t[s],id:DR++}));this._weekdays.set(r.slice(e).concat(r.slice(0,e)))}_createWeekCells(){let e=this._dateAdapter.getNumDaysInMonth(this.activeDate),t=this._dateAdapter.getDateNames(),a=[[]];for(let r=0,o=this._firstWeekOffset();r<e;r++,o++){o==qp&&(a.push([]),o=0);let s=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),r+1),l=this._shouldEnableDate(s),c=this._dateAdapter.format(s,this._dateFormats.display.dateA11yLabel),d=this.dateClass?this.dateClass(s,"month"):void 0;a[a.length-1].push(new is(r+1,t[r],c,l,d,this._getCellCompareValue(s),s))}this._weeks.set(a)}_shouldEnableDate(e){return!!e&&(!this.minDate||this._dateAdapter.compareDate(e,this.minDate)>=0)&&(!this.maxDate||this._dateAdapter.compareDate(e,this.maxDate)<=0)&&(!this.dateFilter||this.dateFilter(e))}_getDateInCurrentMonth(e){return e&&this._hasSameMonthAndYear(e,this.activeDate)?this._dateAdapter.getDate(e):null}_hasSameMonthAndYear(e,t){return!!(e&&t&&this._dateAdapter.getMonth(e)==this._dateAdapter.getMonth(t)&&this._dateAdapter.getYear(e)==this._dateAdapter.getYear(t))}_getCellCompareValue(e){if(e){let t=this._dateAdapter.getYear(e),a=this._dateAdapter.getMonth(e),r=this._dateAdapter.getDate(e);return new Date(t,a,r).getTime()}return null}_isRtl(){return this._dir&&this._dir.value==="rtl"}_setRanges(e){e instanceof fi?(this._rangeStart.set(this._getCellCompareValue(e.start)),this._rangeEnd.set(this._getCellCompareValue(e.end)),this._isRange.set(!0)):(this._rangeStart.set(this._getCellCompareValue(e)),this._rangeEnd.set(this._rangeStart()),this._isRange.set(!1)),this._comparisonRangeStart.set(this._getCellCompareValue(this.comparisonStart)),this._comparisonRangeEnd.set(this._getCellCompareValue(this.comparisonEnd))}_canSelect(e){return!this.dateFilter||this.dateFilter(e)}_clearPreview(){this._previewStart.set(null),this._previewEnd.set(null)}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=j({type:n,selectors:[["mat-month-view"]],viewQuery:function(t,a){if(t&1&&Ye(Vr,5),t&2){let r;X(r=Z())&&(a._matCalendarBody=r.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName",activeDrag:"activeDrag"},outputs:{selectedChange:"selectedChange",_userSelection:"_userSelection",dragStarted:"dragStarted",dragEnded:"dragEnded",activeDateChange:"activeDateChange"},exportAs:["matMonthView"],features:[ze],decls:8,vars:14,consts:[["role","grid",1,"mat-calendar-table"],[1,"mat-calendar-table-header"],["scope","col"],["aria-hidden","true"],["colspan","7",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"selectedValueChange","activeDateChange","previewChange","dragStarted","dragEnded","keyup","keydown","label","rows","todayValue","startValue","endValue","comparisonStart","comparisonEnd","previewStart","previewEnd","isRange","labelMinRequiredCells","activeCell","startDateAccessibleName","endDateAccessibleName"],[1,"cdk-visually-hidden"]],template:function(t,a){t&1&&(g(0,"table",0)(1,"thead",1)(2,"tr"),mn(3,uR,5,2,"th",2,sC),m(),g(5,"tr",3),q(6,"th",4),m()(),g(7,"tbody",5),I("selectedValueChange",function(o){return a._dateSelected(o)})("activeDateChange",function(o){return a._updateActiveDate(o)})("previewChange",function(o){return a._previewChanged(o)})("dragStarted",function(o){return a.dragStarted.emit(o)})("dragEnded",function(o){return a._dragEnded(o)})("keyup",function(o){return a._handleCalendarBodyKeyup(o)})("keydown",function(o){return a._handleCalendarBodyKeydown(o)}),m()()),t&2&&(C(3),fn(a._weekdays()),C(4),E("label",a._monthLabel())("rows",a._weeks())("todayValue",a._todayDate())("startValue",a._rangeStart())("endValue",a._rangeEnd())("comparisonStart",a._comparisonRangeStart())("comparisonEnd",a._comparisonRangeEnd())("previewStart",a._previewStart())("previewEnd",a._previewEnd())("isRange",a._isRange())("labelMinRequiredCells",3)("activeCell",a._dateAdapter.getDate(a.activeDate)-1)("startDateAccessibleName",a.startDateAccessibleName)("endDateAccessibleName",a.endDateAccessibleName))},dependencies:[Vr],encapsulation:2,changeDetection:0})}return n})(),Qt=24,Gp=4,aC=(()=>{class n{_changeDetectorRef=b(ye);_dateAdapter=b(Mt,{optional:!0});_dir=b(Yt,{optional:!0});_rerenderSubscription=Zt.EMPTY;_selectionKeyPressed=!1;get activeDate(){return this._activeDate}set activeDate(e){let t=this._activeDate,a=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(a,this.minDate,this.maxDate),dC(this._dateAdapter,t,this._activeDate,this.minDate,this.maxDate)||this._init()}_activeDate;get selected(){return this._selected}set selected(e){e instanceof fi?this._selected=e:this._selected=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setSelectedYear(e)}_selected=null;get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}_minDate=null;get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}_maxDate=null;dateFilter;dateClass;selectedChange=new W;yearSelected=new W;activeDateChange=new W;_matCalendarBody;_years=J([]);_todayYear=J(0);_selectedYear=J(null);constructor(){this._dateAdapter,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(jt(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_init(){this._todayYear.set(this._dateAdapter.getYear(this._dateAdapter.today()));let t=this._dateAdapter.getYear(this._activeDate)-ts(this._dateAdapter,this.activeDate,this.minDate,this.maxDate),a=[];for(let r=0,o=[];r<Qt;r++)o.push(t+r),o.length==Gp&&(a.push(o.map(s=>this._createCellForYear(s))),o=[]);this._years.set(a),this._changeDetectorRef.markForCheck()}_yearSelected(e){let t=e.value,a=this._dateAdapter.createDate(t,0,1),r=this._getDateFromYear(t);this.yearSelected.emit(a),this.selectedChange.emit(r)}_updateActiveDate(e){let t=e.value,a=this._activeDate;this.activeDate=this._getDateFromYear(t),this._dateAdapter.compareDate(a,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(e){let t=this._activeDate,a=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,a?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,a?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-Gp);break;case 40:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,Gp);break;case 36:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-ts(this._dateAdapter,this.activeDate,this.minDate,this.maxDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,Qt-ts(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)-1);break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?-Qt*10:-Qt);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?Qt*10:Qt);break;case 13:case 32:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(t,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked(),e.preventDefault()}_handleCalendarBodyKeyup(e){(e.keyCode===32||e.keyCode===13)&&(this._selectionKeyPressed&&this._yearSelected({value:this._dateAdapter.getYear(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_getActiveCell(){return ts(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getDateFromYear(e){let t=this._dateAdapter.getMonth(this.activeDate),a=this._dateAdapter.getNumDaysInMonth(this._dateAdapter.createDate(e,t,1));return this._dateAdapter.createDate(e,t,Math.min(this._dateAdapter.getDate(this.activeDate),a))}_createCellForYear(e){let t=this._dateAdapter.createDate(e,0,1),a=this._dateAdapter.getYearName(t),r=this.dateClass?this.dateClass(t,"multi-year"):void 0;return new is(e,a,a,this._shouldEnableYear(e),r)}_shouldEnableYear(e){if(e==null||this.maxDate&&e>this._dateAdapter.getYear(this.maxDate)||this.minDate&&e<this._dateAdapter.getYear(this.minDate))return!1;if(!this.dateFilter)return!0;let t=this._dateAdapter.createDate(e,0,1);for(let a=t;this._dateAdapter.getYear(a)==e;a=this._dateAdapter.addCalendarDays(a,1))if(this.dateFilter(a))return!0;return!1}_isRtl(){return this._dir&&this._dir.value==="rtl"}_setSelectedYear(e){if(this._selectedYear.set(null),e instanceof fi){let t=e.start||e.end;t&&this._selectedYear.set(this._dateAdapter.getYear(t))}else e&&this._selectedYear.set(this._dateAdapter.getYear(e))}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=j({type:n,selectors:[["mat-multi-year-view"]],viewQuery:function(t,a){if(t&1&&Ye(Vr,5),t&2){let r;X(r=Z())&&(a._matCalendarBody=r.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",activeDateChange:"activeDateChange"},exportAs:["matMultiYearView"],decls:5,vars:7,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"selectedValueChange","activeDateChange","keyup","keydown","rows","todayValue","startValue","endValue","numCols","cellAspectRatio","activeCell"]],template:function(t,a){t&1&&(g(0,"table",0)(1,"thead",1)(2,"tr"),q(3,"th",2),m()(),g(4,"tbody",3),I("selectedValueChange",function(o){return a._yearSelected(o)})("activeDateChange",function(o){return a._updateActiveDate(o)})("keyup",function(o){return a._handleCalendarBodyKeyup(o)})("keydown",function(o){return a._handleCalendarBodyKeydown(o)}),m()()),t&2&&(C(4),E("rows",a._years())("todayValue",a._todayYear())("startValue",a._selectedYear())("endValue",a._selectedYear())("numCols",4)("cellAspectRatio",4/7)("activeCell",a._getActiveCell()))},dependencies:[Vr],encapsulation:2,changeDetection:0})}return n})();function dC(n,i,e,t,a){let r=n.getYear(i),o=n.getYear(e),s=hC(n,t,a);return Math.floor((r-s)/Qt)===Math.floor((o-s)/Qt)}function ts(n,i,e,t){let a=n.getYear(i);return ER(a-hC(n,e,t),Qt)}function hC(n,i,e){let t=0;return e?t=n.getYear(e)-Qt+1:i&&(t=n.getYear(i)),t}function ER(n,i){return(n%i+i)%i}var rC=(()=>{class n{_changeDetectorRef=b(ye);_dateFormats=b(Ui,{optional:!0});_dateAdapter=b(Mt,{optional:!0});_dir=b(Yt,{optional:!0});_rerenderSubscription=Zt.EMPTY;_selectionKeyPressed=!1;get activeDate(){return this._activeDate}set activeDate(e){let t=this._activeDate,a=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(a,this.minDate,this.maxDate),this._dateAdapter.getYear(t)!==this._dateAdapter.getYear(this._activeDate)&&this._init()}_activeDate;get selected(){return this._selected}set selected(e){e instanceof fi?this._selected=e:this._selected=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setSelectedMonth(e)}_selected=null;get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}_minDate=null;get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}_maxDate=null;dateFilter;dateClass;selectedChange=new W;monthSelected=new W;activeDateChange=new W;_matCalendarBody;_months=J([]);_yearLabel=J("");_todayMonth=J(null);_selectedMonth=J(null);constructor(){this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(jt(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_monthSelected(e){let t=e.value,a=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),t,1);this.monthSelected.emit(a);let r=this._getDateFromMonth(t);this.selectedChange.emit(r)}_updateActiveDate(e){let t=e.value,a=this._activeDate;this.activeDate=this._getDateFromMonth(t),this._dateAdapter.compareDate(a,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(e){let t=this._activeDate,a=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,a?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,a?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-4);break;case 40:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,4);break;case 36:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-this._dateAdapter.getMonth(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,11-this._dateAdapter.getMonth(this._activeDate));break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?-10:-1);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?10:1);break;case 13:case 32:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(t,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),e.preventDefault()}_handleCalendarBodyKeyup(e){(e.keyCode===32||e.keyCode===13)&&(this._selectionKeyPressed&&this._monthSelected({value:this._dateAdapter.getMonth(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_init(){this._setSelectedMonth(this.selected),this._todayMonth.set(this._getMonthInCurrentYear(this._dateAdapter.today())),this._yearLabel.set(this._dateAdapter.getYearName(this.activeDate));let e=this._dateAdapter.getMonthNames("short");this._months.set([[0,1,2,3],[4,5,6,7],[8,9,10,11]].map(t=>t.map(a=>this._createCellForMonth(a,e[a])))),this._changeDetectorRef.markForCheck()}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getMonthInCurrentYear(e){return e&&this._dateAdapter.getYear(e)==this._dateAdapter.getYear(this.activeDate)?this._dateAdapter.getMonth(e):null}_getDateFromMonth(e){let t=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,1),a=this._dateAdapter.getNumDaysInMonth(t);return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,Math.min(this._dateAdapter.getDate(this.activeDate),a))}_createCellForMonth(e,t){let a=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,1),r=this._dateAdapter.format(a,this._dateFormats.display.monthYearA11yLabel),o=this.dateClass?this.dateClass(a,"year"):void 0;return new is(e,t.toLocaleUpperCase(),r,this._shouldEnableMonth(e),o)}_shouldEnableMonth(e){let t=this._dateAdapter.getYear(this.activeDate);if(e==null||this._isYearAndMonthAfterMaxDate(t,e)||this._isYearAndMonthBeforeMinDate(t,e))return!1;if(!this.dateFilter)return!0;let a=this._dateAdapter.createDate(t,e,1);for(let r=a;this._dateAdapter.getMonth(r)==e;r=this._dateAdapter.addCalendarDays(r,1))if(this.dateFilter(r))return!0;return!1}_isYearAndMonthAfterMaxDate(e,t){if(this.maxDate){let a=this._dateAdapter.getYear(this.maxDate),r=this._dateAdapter.getMonth(this.maxDate);return e>a||e===a&&t>r}return!1}_isYearAndMonthBeforeMinDate(e,t){if(this.minDate){let a=this._dateAdapter.getYear(this.minDate),r=this._dateAdapter.getMonth(this.minDate);return e<a||e===a&&t<r}return!1}_isRtl(){return this._dir&&this._dir.value==="rtl"}_setSelectedMonth(e){e instanceof fi?this._selectedMonth.set(this._getMonthInCurrentYear(e.start)||this._getMonthInCurrentYear(e.end)):this._selectedMonth.set(this._getMonthInCurrentYear(e))}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=j({type:n,selectors:[["mat-year-view"]],viewQuery:function(t,a){if(t&1&&Ye(Vr,5),t&2){let r;X(r=Z())&&(a._matCalendarBody=r.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",monthSelected:"monthSelected",activeDateChange:"activeDateChange"},exportAs:["matYearView"],decls:5,vars:9,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"selectedValueChange","activeDateChange","keyup","keydown","label","rows","todayValue","startValue","endValue","labelMinRequiredCells","numCols","cellAspectRatio","activeCell"]],template:function(t,a){t&1&&(g(0,"table",0)(1,"thead",1)(2,"tr"),q(3,"th",2),m()(),g(4,"tbody",3),I("selectedValueChange",function(o){return a._monthSelected(o)})("activeDateChange",function(o){return a._updateActiveDate(o)})("keyup",function(o){return a._handleCalendarBodyKeyup(o)})("keydown",function(o){return a._handleCalendarBodyKeydown(o)}),m()()),t&2&&(C(4),E("label",a._yearLabel())("rows",a._months())("todayValue",a._todayMonth())("startValue",a._selectedMonth())("endValue",a._selectedMonth())("labelMinRequiredCells",2)("numCols",4)("cellAspectRatio",4/7)("activeCell",a._dateAdapter.getMonth(a.activeDate)))},dependencies:[Vr],encapsulation:2,changeDetection:0})}return n})(),uC=(()=>{class n{_intl=b(zr);calendar=b(Kp);_dateAdapter=b(Mt,{optional:!0});_dateFormats=b(Ui,{optional:!0});_periodButtonText;_periodButtonDescription;_periodButtonLabel;_prevButtonLabel;_nextButtonLabel;constructor(){b(ai).load(yn);let e=b(ye);this._updateLabels(),this.calendar.stateChanges.subscribe(()=>{this._updateLabels(),e.markForCheck()})}get periodButtonText(){return this._periodButtonText}get periodButtonDescription(){return this._periodButtonDescription}get periodButtonLabel(){return this._periodButtonLabel}get prevButtonLabel(){return this._prevButtonLabel}get nextButtonLabel(){return this._nextButtonLabel}currentPeriodClicked(){this.calendar.currentView=this.calendar.currentView=="month"?"multi-year":"month"}previousClicked(){this.previousEnabled()&&(this.calendar.activeDate=this.calendar.currentView=="month"?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,-1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,this.calendar.currentView=="year"?-1:-Qt))}nextClicked(){this.nextEnabled()&&(this.calendar.activeDate=this.calendar.currentView=="month"?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,this.calendar.currentView=="year"?1:Qt))}previousEnabled(){return this.calendar.minDate?!this.calendar.minDate||!this._isSameView(this.calendar.activeDate,this.calendar.minDate):!0}nextEnabled(){return!this.calendar.maxDate||!this._isSameView(this.calendar.activeDate,this.calendar.maxDate)}_updateLabels(){let e=this.calendar,t=this._intl,a=this._dateAdapter;e.currentView==="month"?(this._periodButtonText=a.format(e.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase(),this._periodButtonDescription=a.format(e.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase(),this._periodButtonLabel=t.switchToMultiYearViewLabel,this._prevButtonLabel=t.prevMonthLabel,this._nextButtonLabel=t.nextMonthLabel):e.currentView==="year"?(this._periodButtonText=a.getYearName(e.activeDate),this._periodButtonDescription=a.getYearName(e.activeDate),this._periodButtonLabel=t.switchToMonthViewLabel,this._prevButtonLabel=t.prevYearLabel,this._nextButtonLabel=t.nextYearLabel):(this._periodButtonText=t.formatYearRange(...this._formatMinAndMaxYearLabels()),this._periodButtonDescription=t.formatYearRangeLabel(...this._formatMinAndMaxYearLabels()),this._periodButtonLabel=t.switchToMonthViewLabel,this._prevButtonLabel=t.prevMultiYearLabel,this._nextButtonLabel=t.nextMultiYearLabel)}_isSameView(e,t){return this.calendar.currentView=="month"?this._dateAdapter.getYear(e)==this._dateAdapter.getYear(t)&&this._dateAdapter.getMonth(e)==this._dateAdapter.getMonth(t):this.calendar.currentView=="year"?this._dateAdapter.getYear(e)==this._dateAdapter.getYear(t):dC(this._dateAdapter,e,t,this.calendar.minDate,this.calendar.maxDate)}_formatMinAndMaxYearLabels(){let t=this._dateAdapter.getYear(this.calendar.activeDate)-ts(this._dateAdapter,this.calendar.activeDate,this.calendar.minDate,this.calendar.maxDate),a=t+Qt-1,r=this._dateAdapter.getYearName(this._dateAdapter.createDate(t,0,1)),o=this._dateAdapter.getYearName(this._dateAdapter.createDate(a,0,1));return[r,o]}_periodButtonLabelId=b(ri).getId("mat-calendar-period-label-");static \u0275fac=function(t){return new(t||n)};static \u0275cmp=j({type:n,selectors:[["mat-calendar-header"]],exportAs:["matCalendarHeader"],ngContentSelectors:pR,decls:17,vars:13,consts:[[1,"mat-calendar-header"],[1,"mat-calendar-controls"],["aria-live","polite",1,"cdk-visually-hidden",3,"id"],["matButton","","type","button",1,"mat-calendar-period-button",3,"click"],["aria-hidden","true"],["viewBox","0 0 10 5","focusable","false","aria-hidden","true",1,"mat-calendar-arrow"],["points","0,0 5,5 10,0"],[1,"mat-calendar-spacer"],["matIconButton","","type","button","disabledInteractive","",1,"mat-calendar-previous-button",3,"click","disabled","matTooltip"],["viewBox","0 0 24 24","focusable","false","aria-hidden","true"],["d","M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"],["matIconButton","","type","button","disabledInteractive","",1,"mat-calendar-next-button",3,"click","disabled","matTooltip"],["d","M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"]],template:function(t,a){t&1&&(et(),g(0,"div",0)(1,"div",1)(2,"span",2),v(3),m(),g(4,"button",3),I("click",function(){return a.currentPeriodClicked()}),g(5,"span",4),v(6),m(),Ut(),g(7,"svg",5),q(8,"polygon",6),m()(),Wr(),q(9,"div",7),De(10),g(11,"button",8),I("click",function(){return a.previousClicked()}),Ut(),g(12,"svg",9),q(13,"path",10),m()(),Wr(),g(14,"button",11),I("click",function(){return a.nextClicked()}),Ut(),g(15,"svg",9),q(16,"path",12),m()()()()),t&2&&(C(2),E("id",a._periodButtonLabelId),C(),K(a.periodButtonDescription),C(),pe("aria-label",a.periodButtonLabel)("aria-describedby",a._periodButtonLabelId),C(2),K(a.periodButtonText),C(),de("mat-calendar-invert",a.calendar.currentView!=="month"),C(4),E("disabled",!a.previousEnabled())("matTooltip",a.prevButtonLabel),pe("aria-label",a.prevButtonLabel),C(3),E("disabled",!a.nextEnabled())("matTooltip",a.nextButtonLabel),pe("aria-label",a.nextButtonLabel))},dependencies:[Et,Xi,ka],encapsulation:2,changeDetection:0})}return n})(),Kp=(()=>{class n{_dateAdapter=b(Mt,{optional:!0});_dateFormats=b(Ui,{optional:!0});_changeDetectorRef=b(ye);_elementRef=b(ge);headerComponent;_calendarHeaderPortal;_intlChanges;_moveFocusOnNextTick=!1;get startAt(){return this._startAt}set startAt(e){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}_startAt=null;startView="month";get selected(){return this._selected}set selected(e){e instanceof fi?this._selected=e:this._selected=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}_selected=null;get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}_minDate=null;get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}_maxDate=null;dateFilter;dateClass;comparisonStart=null;comparisonEnd=null;startDateAccessibleName=null;endDateAccessibleName=null;selectedChange=new W;yearSelected=new W;monthSelected=new W;viewChanged=new W(!0);_userSelection=new W;_userDragDrop=new W;monthView;yearView;multiYearView;get activeDate(){return this._clampedActiveDate}set activeDate(e){this._clampedActiveDate=this._dateAdapter.clampDate(e,this.minDate,this.maxDate),this.stateChanges.next(),this._changeDetectorRef.markForCheck()}_clampedActiveDate;get currentView(){return this._currentView}set currentView(e){let t=this._currentView!==e?e:null;this._currentView=e,this._moveFocusOnNextTick=!0,this._changeDetectorRef.markForCheck(),t&&(this.stateChanges.next(),this.viewChanged.emit(t))}_currentView;_activeDrag=null;stateChanges=new G;constructor(){this._intlChanges=b(zr).changes.subscribe(()=>{this._changeDetectorRef.markForCheck(),this.stateChanges.next()})}ngAfterContentInit(){this._calendarHeaderPortal=new xn(this.headerComponent||uC),this.activeDate=this.startAt||this._dateAdapter.today(),this._currentView=this.startView}ngAfterViewChecked(){this._moveFocusOnNextTick&&(this._moveFocusOnNextTick=!1,this.focusActiveCell())}ngOnDestroy(){this._intlChanges.unsubscribe(),this.stateChanges.complete()}ngOnChanges(e){let t=e.minDate&&!this._dateAdapter.sameDate(e.minDate.previousValue,e.minDate.currentValue)?e.minDate:void 0,a=e.maxDate&&!this._dateAdapter.sameDate(e.maxDate.previousValue,e.maxDate.currentValue)?e.maxDate:void 0,r=t||a||e.dateFilter;if(r&&!r.firstChange){let o=this._getCurrentViewComponent();o&&(this._elementRef.nativeElement.contains(Nd())&&(this._moveFocusOnNextTick=!0),this._changeDetectorRef.detectChanges(),o._init())}this.stateChanges.next()}focusActiveCell(){this._getCurrentViewComponent()?._focusActiveCell(!1)}updateTodaysDate(){this._getCurrentViewComponent()?._init()}_dateSelected(e){let t=e.value;(this.selected instanceof fi||t&&!this._dateAdapter.sameDate(t,this.selected))&&this.selectedChange.emit(t),this._userSelection.emit(e)}_yearSelectedInMultiYearView(e){this.yearSelected.emit(e)}_monthSelectedInYearView(e){this.monthSelected.emit(e)}_goToDateInView(e,t){this.activeDate=e,this.currentView=t}_dragStarted(e){this._activeDrag=e}_dragEnded(e){this._activeDrag&&(e.value&&this._userDragDrop.emit(e),this._activeDrag=null)}_getCurrentViewComponent(){return this.monthView||this.yearView||this.multiYearView}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=j({type:n,selectors:[["mat-calendar"]],viewQuery:function(t,a){if(t&1&&Ye(nC,5)(rC,5)(aC,5),t&2){let r;X(r=Z())&&(a.monthView=r.first),X(r=Z())&&(a.yearView=r.first),X(r=Z())&&(a.multiYearView=r.first)}},hostAttrs:[1,"mat-calendar"],inputs:{headerComponent:"headerComponent",startAt:"startAt",startView:"startView",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",_userSelection:"_userSelection",_userDragDrop:"_userDragDrop"},exportAs:["matCalendar"],features:[We([lC]),ze],decls:5,vars:2,consts:[[3,"cdkPortalOutlet"],["cdkMonitorSubtreeFocus","","tabindex","-1",1,"mat-calendar-content"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","activeDrag"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass"],[3,"activeDateChange","_userSelection","dragStarted","dragEnded","activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","activeDrag"],[3,"activeDateChange","monthSelected","selectedChange","activeDate","selected","dateFilter","maxDate","minDate","dateClass"],[3,"activeDateChange","yearSelected","selectedChange","activeDate","selected","dateFilter","maxDate","minDate","dateClass"]],template:function(t,a){if(t&1&&(H(0,mR,0,0,"ng-template",0),g(1,"div",1),te(2,fR,1,11,"mat-month-view",2)(3,gR,1,6,"mat-year-view",3)(4,_R,1,6,"mat-multi-year-view",3),m()),t&2){let r;E("cdkPortalOutlet",a._calendarHeaderPortal),C(2),ie((r=a.currentView)==="month"?2:r==="year"?3:r==="multi-year"?4:-1)}},dependencies:[Ba,tf,nC,rC,aC],styles:[`.mat-calendar{display:block;line-height:normal;font-family:var(--mat-datepicker-calendar-text-font, var(--mat-sys-body-medium-font));font-size:var(--mat-datepicker-calendar-text-size, var(--mat-sys-body-medium-size))}.mat-calendar-header{padding:8px 8px 0 8px}.mat-calendar-content{padding:0 8px 8px 8px;outline:none}.mat-calendar-controls{display:flex;align-items:center;margin:5% calc(4.7142857143% - 16px)}.mat-calendar-spacer{flex:1 1 auto}.mat-calendar-period-button{min-width:0;margin:0 8px;font-size:var(--mat-datepicker-calendar-period-button-text-size, var(--mat-sys-title-small-size));font-weight:var(--mat-datepicker-calendar-period-button-text-weight, var(--mat-sys-title-small-weight));--mat-button-text-label-text-color: var(--mat-datepicker-calendar-period-button-text-color, var(--mat-sys-on-surface-variant))}.mat-calendar-arrow{display:inline-block;width:10px;height:5px;margin:0 0 0 5px;vertical-align:middle;fill:var(--mat-datepicker-calendar-period-button-icon-color, var(--mat-sys-on-surface-variant))}.mat-calendar-arrow.mat-calendar-invert{transform:rotate(180deg)}[dir=rtl] .mat-calendar-arrow{margin:0 5px 0 0}@media(forced-colors: active){.mat-calendar-arrow{fill:CanvasText}}.mat-datepicker-content .mat-calendar-previous-button:not(.mat-mdc-button-disabled),.mat-datepicker-content .mat-calendar-next-button:not(.mat-mdc-button-disabled){color:var(--mat-datepicker-calendar-navigation-button-icon-color, var(--mat-sys-on-surface-variant))}[dir=rtl] .mat-calendar-previous-button,[dir=rtl] .mat-calendar-next-button{transform:rotate(180deg)}.mat-calendar-table{border-spacing:0;border-collapse:collapse;width:100%}.mat-calendar-table-header th{text-align:center;padding:0 0 8px 0;color:var(--mat-datepicker-calendar-header-text-color, var(--mat-sys-on-surface-variant));font-size:var(--mat-datepicker-calendar-header-text-size, var(--mat-sys-title-small-size));font-weight:var(--mat-datepicker-calendar-header-text-weight, var(--mat-sys-title-small-weight))}.mat-calendar-table-header-divider{position:relative;height:1px}.mat-calendar-table-header-divider::after{content:"";position:absolute;top:0;left:-8px;right:-8px;height:1px;background:var(--mat-datepicker-calendar-header-divider-color, transparent)}.mat-calendar-body-cell-content::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px)*-1)}.mat-calendar-body-cell:focus-visible .mat-focus-indicator::before{content:""}
`],encapsulation:2,changeDetection:0})}return n})(),kR=new $("mat-datepicker-scroll-strategy",{providedIn:"root",factory:()=>{let n=b(Ue);return()=>ja(n)}}),pC=(()=>{class n{_elementRef=b(ge);_animationsDisabled=ht();_changeDetectorRef=b(ye);_globalModel=b(ns);_dateAdapter=b(Mt);_ngZone=b(dt);_rangeSelectionStrategy=b(cC,{optional:!0});_stateChanges;_model;_eventCleanups;_animationFallback;_calendar;color;datepicker;comparisonStart=null;comparisonEnd=null;startDateAccessibleName=null;endDateAccessibleName=null;_isAbove=!1;_animationDone=new G;_isAnimating=!1;_closeButtonText;_closeButtonFocused=!1;_actionsPortal=null;_dialogLabelId=null;constructor(){if(b(ai).load(yn),this._closeButtonText=b(zr).closeCalendarLabel,!this._animationsDisabled){let e=this._elementRef.nativeElement,t=b(ki);this._eventCleanups=this._ngZone.runOutsideAngular(()=>[t.listen(e,"animationstart",this._handleAnimationEvent),t.listen(e,"animationend",this._handleAnimationEvent),t.listen(e,"animationcancel",this._handleAnimationEvent)])}}ngAfterViewInit(){this._stateChanges=this.datepicker.stateChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()}),this._calendar.focusActiveCell()}ngOnDestroy(){clearTimeout(this._animationFallback),this._eventCleanups?.forEach(e=>e()),this._stateChanges?.unsubscribe(),this._animationDone.complete()}_handleUserSelection(e){let t=this._model.selection,a=e.value,r=t instanceof fi;if(r&&this._rangeSelectionStrategy){let o=this._rangeSelectionStrategy.selectionFinished(a,t,e.event);this._model.updateSelection(o,this)}else a&&(r||!this._dateAdapter.sameDate(a,t))&&this._model.add(a);(!this._model||this._model.isComplete())&&!this._actionsPortal&&this.datepicker.close()}_handleUserDragDrop(e){this._model.updateSelection(e.value,this)}_startExitAnimation(){this._elementRef.nativeElement.classList.add("mat-datepicker-content-exit"),this._animationsDisabled?this._animationDone.next():(clearTimeout(this._animationFallback),this._animationFallback=setTimeout(()=>{this._isAnimating||this._animationDone.next()},200))}_handleAnimationEvent=e=>{let t=this._elementRef.nativeElement;e.target!==t||!e.animationName.startsWith("_mat-datepicker-content")||(clearTimeout(this._animationFallback),this._isAnimating=e.type==="animationstart",t.classList.toggle("mat-datepicker-content-animating",this._isAnimating),this._isAnimating||this._animationDone.next())};_getSelected(){return this._model.selection}_applyPendingSelection(){this._model!==this._globalModel&&this._globalModel.updateSelection(this._model.selection,this)}_assignActions(e,t){this._model=e?this._globalModel.clone():this._globalModel,this._actionsPortal=e,t&&this._changeDetectorRef.detectChanges()}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=j({type:n,selectors:[["mat-datepicker-content"]],viewQuery:function(t,a){if(t&1&&Ye(Kp,5),t&2){let r;X(r=Z())&&(a._calendar=r.first)}},hostAttrs:[1,"mat-datepicker-content"],hostVars:6,hostBindings:function(t,a){t&2&&(Ct(a.color?"mat-"+a.color:""),de("mat-datepicker-content-touch",a.datepicker.touchUi)("mat-datepicker-content-animations-enabled",!a._animationsDisabled))},inputs:{color:"color"},exportAs:["matDatepickerContent"],decls:5,vars:26,consts:[["cdkTrapFocus","","role","dialog",1,"mat-datepicker-content-container"],[3,"yearSelected","monthSelected","viewChanged","_userSelection","_userDragDrop","id","startAt","startView","minDate","maxDate","dateFilter","headerComponent","selected","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName"],[3,"cdkPortalOutlet"],["type","button","matButton","elevated",1,"mat-datepicker-close-button",3,"focus","blur","click","color"]],template:function(t,a){t&1&&(g(0,"div",0)(1,"mat-calendar",1),I("yearSelected",function(o){return a.datepicker._selectYear(o)})("monthSelected",function(o){return a.datepicker._selectMonth(o)})("viewChanged",function(o){return a.datepicker._viewChanged(o)})("_userSelection",function(o){return a._handleUserSelection(o)})("_userDragDrop",function(o){return a._handleUserDragDrop(o)}),m(),H(2,bR,0,0,"ng-template",2),g(3,"button",3),I("focus",function(){return a._closeButtonFocused=!0})("blur",function(){return a._closeButtonFocused=!1})("click",function(){return a.datepicker.close()}),v(4),m()()),t&2&&(de("mat-datepicker-content-container-with-custom-header",a.datepicker.calendarHeaderComponent)("mat-datepicker-content-container-with-actions",a._actionsPortal),pe("aria-modal",!0)("aria-labelledby",a._dialogLabelId??void 0),C(),Ct(a.datepicker.panelClass),E("id",a.datepicker.id)("startAt",a.datepicker.startAt)("startView",a.datepicker.startView)("minDate",a.datepicker._getMinDate())("maxDate",a.datepicker._getMaxDate())("dateFilter",a.datepicker._getDateFilter())("headerComponent",a.datepicker.calendarHeaderComponent)("selected",a._getSelected())("dateClass",a.datepicker.dateClass)("comparisonStart",a.comparisonStart)("comparisonEnd",a.comparisonEnd)("startDateAccessibleName",a.startDateAccessibleName)("endDateAccessibleName",a.endDateAccessibleName),C(),E("cdkPortalOutlet",a._actionsPortal),C(),de("cdk-visually-hidden",!a._closeButtonFocused),E("color",a.color||"primary"),C(),K(a._closeButtonText))},dependencies:[nf,Kp,Ba,Et],styles:[`@keyframes _mat-datepicker-content-dropdown-enter{from{opacity:0;transform:scaleY(0.8)}to{opacity:1;transform:none}}@keyframes _mat-datepicker-content-dialog-enter{from{opacity:0;transform:scale(0.8)}to{opacity:1;transform:none}}@keyframes _mat-datepicker-content-exit{from{opacity:1}to{opacity:0}}.mat-datepicker-content{display:block;background-color:var(--mat-datepicker-calendar-container-background-color, var(--mat-sys-surface-container-high));color:var(--mat-datepicker-calendar-container-text-color, var(--mat-sys-on-surface));box-shadow:var(--mat-datepicker-calendar-container-elevation-shadow, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12));border-radius:var(--mat-datepicker-calendar-container-shape, var(--mat-sys-corner-large))}.mat-datepicker-content.mat-datepicker-content-animations-enabled{animation:_mat-datepicker-content-dropdown-enter 120ms cubic-bezier(0, 0, 0.2, 1)}.mat-datepicker-content .mat-calendar{width:296px;height:354px}.mat-datepicker-content .mat-datepicker-content-container-with-custom-header .mat-calendar{height:auto}.mat-datepicker-content .mat-datepicker-close-button{position:absolute;top:100%;left:0;margin-top:8px}.mat-datepicker-content-animating .mat-datepicker-content .mat-datepicker-close-button{display:none}.mat-datepicker-content-container{display:flex;flex-direction:column;justify-content:space-between}.mat-datepicker-content-touch{display:block;max-height:80vh;box-shadow:var(--mat-datepicker-calendar-container-touch-elevation-shadow, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12));border-radius:var(--mat-datepicker-calendar-container-touch-shape, var(--mat-sys-corner-extra-large));position:relative;overflow:visible}.mat-datepicker-content-touch.mat-datepicker-content-animations-enabled{animation:_mat-datepicker-content-dialog-enter 150ms cubic-bezier(0, 0, 0.2, 1)}.mat-datepicker-content-touch .mat-datepicker-content-container{min-height:312px;max-height:788px;min-width:250px;max-width:750px}.mat-datepicker-content-touch .mat-calendar{width:100%;height:auto}.mat-datepicker-content-exit.mat-datepicker-content-animations-enabled{animation:_mat-datepicker-content-exit 100ms linear}@media all and (orientation: landscape){.mat-datepicker-content-touch .mat-datepicker-content-container{width:64vh;height:80vh}}@media all and (orientation: portrait){.mat-datepicker-content-touch .mat-datepicker-content-container{width:80vw;height:100vw}.mat-datepicker-content-touch .mat-datepicker-content-container-with-actions{height:115vw}}
`],encapsulation:2,changeDetection:0})}return n})(),oC=(()=>{class n{_injector=b(Ue);_viewContainerRef=b(ii);_dateAdapter=b(Mt,{optional:!0});_dir=b(Yt,{optional:!0});_model=b(ns);_animationsDisabled=ht();_scrollStrategy=b(kR);_inputStateChanges=Zt.EMPTY;_document=b(Tt);calendarHeaderComponent;get startAt(){return this._startAt||(this.datepickerInput?this.datepickerInput.getStartValue():null)}set startAt(e){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}_startAt=null;startView="month";get color(){return this._color||(this.datepickerInput?this.datepickerInput.getThemePalette():void 0)}set color(e){this._color=e}_color;touchUi=!1;get disabled(){return this._disabled===void 0&&this.datepickerInput?this.datepickerInput.disabled:!!this._disabled}set disabled(e){e!==this._disabled&&(this._disabled=e,this.stateChanges.next(void 0))}_disabled;xPosition="start";yPosition="below";restoreFocus=!0;yearSelected=new W;monthSelected=new W;viewChanged=new W(!0);dateClass;openedStream=new W;closedStream=new W;get panelClass(){return this._panelClass}set panelClass(e){this._panelClass=sf(e)}_panelClass;get opened(){return this._opened}set opened(e){e?this.open():this.close()}_opened=!1;id=b(ri).getId("mat-datepicker-");_getMinDate(){return this.datepickerInput&&this.datepickerInput.min}_getMaxDate(){return this.datepickerInput&&this.datepickerInput.max}_getDateFilter(){return this.datepickerInput&&this.datepickerInput.dateFilter}_overlayRef=null;_componentRef=null;_focusedElementBeforeOpen=null;_backdropHarnessClass=`${this.id}-backdrop`;_actionsPortal=null;datepickerInput;stateChanges=new G;_changeDetectorRef=b(ye);constructor(){this._dateAdapter,this._model.selectionChanged.subscribe(()=>{this._changeDetectorRef.markForCheck()})}ngOnChanges(e){let t=e.xPosition||e.yPosition;if(t&&!t.firstChange&&this._overlayRef){let a=this._overlayRef.getConfig().positionStrategy;a instanceof Mf&&(this._setConnectedPositions(a),this.opened&&this._overlayRef.updatePosition())}this.stateChanges.next(void 0)}ngOnDestroy(){this._destroyOverlay(),this.close(),this._inputStateChanges.unsubscribe(),this.stateChanges.complete()}select(e){this._model.add(e)}_selectYear(e){this.yearSelected.emit(e)}_selectMonth(e){this.monthSelected.emit(e)}_viewChanged(e){this.viewChanged.emit(e)}registerInput(e){return this.datepickerInput,this._inputStateChanges.unsubscribe(),this.datepickerInput=e,this._inputStateChanges=e.stateChanges.subscribe(()=>this.stateChanges.next(void 0)),this._model}registerActions(e){this._actionsPortal,this._actionsPortal=e,this._componentRef?.instance._assignActions(e,!0)}removeActions(e){e===this._actionsPortal&&(this._actionsPortal=null,this._componentRef?.instance._assignActions(null,!0))}open(){this._opened||this.disabled||this._componentRef?.instance._isAnimating||(this.datepickerInput,this._focusedElementBeforeOpen=Nd(),this._openOverlay(),this._opened=!0,this.openedStream.emit())}close(){if(!this._opened||this._componentRef?.instance._isAnimating)return;let e=this.restoreFocus&&this._focusedElementBeforeOpen&&typeof this._focusedElementBeforeOpen.focus=="function",t=()=>{this._opened&&(this._opened=!1,this.closedStream.emit())};if(this._componentRef){let{instance:a,location:r}=this._componentRef;a._animationDone.pipe(vt(1)).subscribe(()=>{let o=this._document.activeElement;e&&(!o||o===this._document.activeElement||r.nativeElement.contains(o))&&this._focusedElementBeforeOpen.focus(),this._focusedElementBeforeOpen=null,this._destroyOverlay()}),a._startExitAnimation()}e?setTimeout(t):t()}_applyPendingSelection(){this._componentRef?.instance?._applyPendingSelection()}_forwardContentValues(e){e.datepicker=this,e.color=this.color,e._dialogLabelId=this.datepickerInput.getOverlayLabelId(),e._assignActions(this._actionsPortal,!1)}_openOverlay(){this._destroyOverlay();let e=this.touchUi,t=new xn(pC,this._viewContainerRef),a=this._overlayRef=Ha(this._injector,new Us({positionStrategy:e?this._getDialogStrategy():this._getDropdownStrategy(),hasBackdrop:!0,backdropClass:[e?"cdk-overlay-dark-backdrop":"mat-overlay-transparent-backdrop",this._backdropHarnessClass],direction:this._dir||"ltr",scrollStrategy:e?wf(this._injector):this._scrollStrategy(),panelClass:`mat-datepicker-${e?"dialog":"popup"}`,disableAnimations:this._animationsDisabled}));this._getCloseStream(a).subscribe(r=>{r&&r.preventDefault(),this.close()}),a.keydownEvents().subscribe(r=>{let o=r.keyCode;(o===38||o===40||o===37||o===39||o===33||o===34)&&r.preventDefault()}),this._componentRef=a.attach(t),this._forwardContentValues(this._componentRef.instance),e||st(()=>{a.updatePosition()},{injector:this._injector})}_destroyOverlay(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=this._componentRef=null)}_getDialogStrategy(){return $s(this._injector).centerHorizontally().centerVertically()}_getDropdownStrategy(){let e=Ws(this._injector,this.datepickerInput.getConnectedOverlayOrigin()).withTransformOriginOn(".mat-datepicker-content").withFlexibleDimensions(!1).withViewportMargin(8).withLockedPosition();return this._setConnectedPositions(e)}_setConnectedPositions(e){let t=this.xPosition==="end"?"end":"start",a=t==="start"?"end":"start",r=this.yPosition==="above"?"bottom":"top",o=r==="top"?"bottom":"top";return e.withPositions([{originX:t,originY:o,overlayX:t,overlayY:r},{originX:t,originY:r,overlayX:t,overlayY:o},{originX:a,originY:o,overlayX:a,overlayY:r},{originX:a,originY:r,overlayX:a,overlayY:o}])}_getCloseStream(e){let t=["ctrlKey","shiftKey","metaKey"];return bt(e.backdropClick(),e.detachments(),e.keydownEvents().pipe(yt(a=>a.keyCode===27&&!Dt(a)||this.datepickerInput&&Dt(a,"altKey")&&a.keyCode===38&&t.every(r=>!Dt(a,r)))))}static \u0275fac=function(t){return new(t||n)};static \u0275dir=Y({type:n,inputs:{calendarHeaderComponent:"calendarHeaderComponent",startAt:"startAt",startView:"startView",color:"color",touchUi:[2,"touchUi","touchUi",ce],disabled:[2,"disabled","disabled",ce],xPosition:"xPosition",yPosition:"yPosition",restoreFocus:[2,"restoreFocus","restoreFocus",ce],dateClass:"dateClass",panelClass:"panelClass",opened:[2,"opened","opened",ce]},outputs:{yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",openedStream:"opened",closedStream:"closed"},features:[ze]})}return n})(),mC=(()=>{class n extends oC{static \u0275fac=(()=>{let e;return function(a){return(e||(e=nt(n)))(a||n)}})();static \u0275cmp=j({type:n,selectors:[["mat-datepicker"]],exportAs:["matDatepicker"],features:[We([lC,{provide:oC,useExisting:n}]),Re],decls:0,vars:0,template:function(t,a){},encapsulation:2,changeDetection:0})}return n})(),Lr=class{target;targetElement;value=null;constructor(i,e){this.target=i,this.targetElement=e,this.value=this.target.value}},PR=(()=>{class n{_elementRef=b(ge);_dateAdapter=b(Mt,{optional:!0});_dateFormats=b(Ui,{optional:!0});_isInitialized=!1;get value(){return this._model?this._getValueFromModel(this._model.selection):this._pendingValue}set value(e){this._assignValueProgrammatically(e,!0)}_model;get disabled(){return!!this._disabled||this._parentDisabled()}set disabled(e){let t=e,a=this._elementRef.nativeElement;this._disabled!==t&&(this._disabled=t,this.stateChanges.next(void 0)),t&&this._isInitialized&&a.blur&&a.blur()}_disabled;dateChange=new W;dateInput=new W;stateChanges=new G;_onTouched=()=>{};_validatorOnChange=()=>{};_cvaOnChange=()=>{};_valueChangesSubscription=Zt.EMPTY;_localeSubscription=Zt.EMPTY;_pendingValue=null;_parseValidator=()=>this._lastValueValid?null:{matDatepickerParse:{text:this._elementRef.nativeElement.value}};_filterValidator=e=>{let t=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e.value));return!t||this._matchesFilter(t)?null:{matDatepickerFilter:!0}};_minValidator=e=>{let t=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e.value)),a=this._getMinDate();return!a||!t||this._dateAdapter.compareDate(a,t)<=0?null:{matDatepickerMin:{min:a,actual:t}}};_maxValidator=e=>{let t=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e.value)),a=this._getMaxDate();return!a||!t||this._dateAdapter.compareDate(a,t)>=0?null:{matDatepickerMax:{max:a,actual:t}}};_getValidators(){return[this._parseValidator,this._minValidator,this._maxValidator,this._filterValidator]}_registerModel(e){this._model=e,this._valueChangesSubscription.unsubscribe(),this._pendingValue&&this._assignValue(this._pendingValue),this._valueChangesSubscription=this._model.selectionChanged.subscribe(t=>{if(this._shouldHandleChangeEvent(t)){let a=this._getValueFromModel(t.selection);this._lastValueValid=this._isValidValue(a),this._cvaOnChange(a),this._onTouched(),this._formatValue(a),this.dateInput.emit(new Lr(this,this._elementRef.nativeElement)),this.dateChange.emit(new Lr(this,this._elementRef.nativeElement))}})}_lastValueValid=!1;constructor(){this._localeSubscription=this._dateAdapter.localeChanges.subscribe(()=>{this._assignValueProgrammatically(this.value,!0)})}ngAfterViewInit(){this._isInitialized=!0}ngOnChanges(e){OR(e,this._dateAdapter)&&this.stateChanges.next(void 0)}ngOnDestroy(){this._valueChangesSubscription.unsubscribe(),this._localeSubscription.unsubscribe(),this.stateChanges.complete()}registerOnValidatorChange(e){this._validatorOnChange=e}validate(e){return this._validator?this._validator(e):null}writeValue(e){this._assignValueProgrammatically(e,e!==this.value)}registerOnChange(e){this._cvaOnChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e}_onKeydown(e){let t=["ctrlKey","shiftKey","metaKey"];Dt(e,"altKey")&&e.keyCode===40&&t.every(r=>!Dt(e,r))&&!this._elementRef.nativeElement.readOnly&&(this._openPopup(),e.preventDefault())}_onInput(e){let t=e.target.value,a=this._lastValueValid,r=this._dateAdapter.parse(t,this._dateFormats.parse.dateInput);this._lastValueValid=this._isValidValue(r),r=this._dateAdapter.getValidDateOrNull(r);let o=!this._dateAdapter.sameDate(r,this.value);!r||o?this._cvaOnChange(r):(t&&!this.value&&this._cvaOnChange(r),a!==this._lastValueValid&&this._validatorOnChange()),o&&(this._assignValue(r),this.dateInput.emit(new Lr(this,this._elementRef.nativeElement)))}_onChange(){this.dateChange.emit(new Lr(this,this._elementRef.nativeElement))}_onBlur(){this.value&&this._formatValue(this.value),this._onTouched()}_formatValue(e){this._elementRef.nativeElement.value=e!=null?this._dateAdapter.format(e,this._dateFormats.display.dateInput):""}_assignValue(e){this._model?(this._assignValueToModel(e),this._pendingValue=null):this._pendingValue=e}_isValidValue(e){return!e||this._dateAdapter.isValid(e)}_parentDisabled(){return!1}_assignValueProgrammatically(e,t){e=this._dateAdapter.deserialize(e),this._lastValueValid=this._isValidValue(e),e=this._dateAdapter.getValidDateOrNull(e),this._assignValue(e),t&&this._formatValue(e)}_matchesFilter(e){let t=this._getDateFilter();return!t||t(e)}static \u0275fac=function(t){return new(t||n)};static \u0275dir=Y({type:n,inputs:{value:"value",disabled:[2,"disabled","disabled",ce]},outputs:{dateChange:"dateChange",dateInput:"dateInput"},features:[ze]})}return n})();function OR(n,i){let e=Object.keys(n);for(let t of e){let{previousValue:a,currentValue:r}=n[t];if(i.isDateInstance(a)&&i.isDateInstance(r)){if(!i.sameDate(a,r))return!0}else return!0}return!1}var AR={provide:hf,useExisting:ds(()=>_d),multi:!0},TR={provide:uf,useExisting:ds(()=>_d),multi:!0},_d=(()=>{class n extends PR{_formField=b(Bs,{optional:!0});_closedSubscription=Zt.EMPTY;_openedSubscription=Zt.EMPTY;set matDatepicker(e){e&&(this._datepicker=e,this._ariaOwns.set(e.opened?e.id:null),this._closedSubscription=e.closedStream.subscribe(()=>{this._onTouched(),this._ariaOwns.set(null)}),this._openedSubscription=e.openedStream.subscribe(()=>{this._ariaOwns.set(e.id)}),this._registerModel(e.registerInput(this)))}_datepicker;_ariaOwns=J(null);get min(){return this._min}set min(e){let t=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e));this._dateAdapter.sameDate(t,this._min)||(this._min=t,this._validatorOnChange())}_min=null;get max(){return this._max}set max(e){let t=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e));this._dateAdapter.sameDate(t,this._max)||(this._max=t,this._validatorOnChange())}_max=null;get dateFilter(){return this._dateFilter}set dateFilter(e){let t=this._matchesFilter(this.value);this._dateFilter=e,this._matchesFilter(this.value)!==t&&this._validatorOnChange()}_dateFilter;_validator=null;constructor(){super(),this._validator=He.compose(super._getValidators())}getConnectedOverlayOrigin(){return this._formField?this._formField.getConnectedOverlayOrigin():this._elementRef}getOverlayLabelId(){return this._formField?this._formField.getLabelId():this._elementRef.nativeElement.getAttribute("aria-labelledby")}getThemePalette(){return this._formField?this._formField.color:void 0}getStartValue(){return this.value}ngOnDestroy(){super.ngOnDestroy(),this._closedSubscription.unsubscribe(),this._openedSubscription.unsubscribe()}_openPopup(){this._datepicker&&this._datepicker.open()}_getValueFromModel(e){return e}_assignValueToModel(e){this._model&&this._model.updateSelection(e,this)}_getMinDate(){return this._min}_getMaxDate(){return this._max}_getDateFilter(){return this._dateFilter}_shouldHandleChangeEvent(e){return e.source!==this}static \u0275fac=function(t){return new(t||n)};static \u0275dir=Y({type:n,selectors:[["input","matDatepicker",""]],hostAttrs:[1,"mat-datepicker-input"],hostVars:6,hostBindings:function(t,a){t&1&&I("input",function(o){return a._onInput(o)})("change",function(){return a._onChange()})("blur",function(){return a._onBlur()})("keydown",function(o){return a._onKeydown(o)}),t&2&&(Oa("disabled",a.disabled),pe("aria-haspopup",a._datepicker?"dialog":null)("aria-owns",a._ariaOwns())("min",a.min?a._dateAdapter.toIso8601(a.min):null)("max",a.max?a._dateAdapter.toIso8601(a.max):null)("data-mat-calendar",a._datepicker?a._datepicker.id:null))},inputs:{matDatepicker:"matDatepicker",min:"min",max:"max",dateFilter:[0,"matDatepickerFilter","dateFilter"]},exportAs:["matDatepickerInput"],features:[We([AR,TR,{provide:gf,useExisting:n}]),Re]})}return n})(),RR=(()=>{class n{static \u0275fac=function(t){return new(t||n)};static \u0275dir=Y({type:n,selectors:[["","matDatepickerToggleIcon",""]]})}return n})(),Zp=(()=>{class n{_intl=b(zr);_changeDetectorRef=b(ye);_stateChanges=Zt.EMPTY;datepicker;tabIndex=null;ariaLabel;get disabled(){return this._disabled===void 0&&this.datepicker?this.datepicker.disabled:!!this._disabled}set disabled(e){this._disabled=e}_disabled;disableRipple=!1;_customIcon;_button;constructor(){let e=b(new _n("tabindex"),{optional:!0}),t=Number(e);this.tabIndex=t||t===0?t:null}ngOnChanges(e){e.datepicker&&this._watchStateChanges()}ngOnDestroy(){this._stateChanges.unsubscribe()}ngAfterContentInit(){this._watchStateChanges()}_open(e){this.datepicker&&!this.disabled&&(this.datepicker.open(),e.stopPropagation())}_watchStateChanges(){let e=this.datepicker?this.datepicker.stateChanges:B(),t=this.datepicker&&this.datepicker.datepickerInput?this.datepicker.datepickerInput.stateChanges:B(),a=this.datepicker?bt(this.datepicker.openedStream,this.datepicker.closedStream):B();this._stateChanges.unsubscribe(),this._stateChanges=bt(this._intl.changes,e,t,a).subscribe(()=>this._changeDetectorRef.markForCheck())}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=j({type:n,selectors:[["mat-datepicker-toggle"]],contentQueries:function(t,a,r){if(t&1&&ni(r,RR,5),t&2){let o;X(o=Z())&&(a._customIcon=o.first)}},viewQuery:function(t,a){if(t&1&&Ye(yR,5),t&2){let r;X(r=Z())&&(a._button=r.first)}},hostAttrs:[1,"mat-datepicker-toggle"],hostVars:8,hostBindings:function(t,a){t&1&&I("click",function(o){return a._open(o)}),t&2&&(pe("tabindex",null)("data-mat-calendar",a.datepicker?a.datepicker.id:null),de("mat-datepicker-toggle-active",a.datepicker&&a.datepicker.opened)("mat-accent",a.datepicker&&a.datepicker.color==="accent")("mat-warn",a.datepicker&&a.datepicker.color==="warn"))},inputs:{datepicker:[0,"for","datepicker"],tabIndex:"tabIndex",ariaLabel:[0,"aria-label","ariaLabel"],disabled:[2,"disabled","disabled",ce],disableRipple:"disableRipple"},exportAs:["matDatepickerToggle"],features:[ze],ngContentSelectors:CR,decls:4,vars:7,consts:[["button",""],["matIconButton","","type","button",3,"tabIndex","disabled","disableRipple"],["viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false","aria-hidden","true",1,"mat-datepicker-toggle-default-icon"],["d","M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"]],template:function(t,a){t&1&&(et(vR),g(0,"button",1,0),te(2,xR,2,0,":svg:svg",2),De(3),m()),t&2&&(E("tabIndex",a.disabled?-1:a.tabIndex)("disabled",a.disabled)("disableRipple",a.disableRipple),pe("aria-haspopup",a.datepicker?"dialog":null)("aria-label",a.ariaLabel||a._intl.openCalendarLabel)("aria-expanded",a.datepicker?a.datepicker.opened:null),C(2),ie(a._customIcon?-1:2))},dependencies:[Xi],styles:[`.mat-datepicker-toggle{pointer-events:auto;color:var(--mat-datepicker-toggle-icon-color, var(--mat-sys-on-surface-variant))}.mat-datepicker-toggle button{color:inherit}.mat-datepicker-toggle-active{color:var(--mat-datepicker-toggle-active-state-icon-color, var(--mat-sys-primary))}@media(forced-colors: active){.mat-datepicker-toggle-default-icon{color:CanvasText}}
`],encapsulation:2,changeDetection:0})}return n})();var fC=(()=>{class n{static \u0275fac=function(t){return new(t||n)};static \u0275mod=Se({type:n});static \u0275inj=Me({providers:[zr],imports:[kt,ra,Es,$d,pC,Zp,uC,qe,za]})}return n})();var ft=[];for(let n=0;n<256;++n)ft.push((n+256).toString(16).slice(1));function gC(n,i=0){return(ft[n[i+0]]+ft[n[i+1]]+ft[n[i+2]]+ft[n[i+3]]+"-"+ft[n[i+4]]+ft[n[i+5]]+"-"+ft[n[i+6]]+ft[n[i+7]]+"-"+ft[n[i+8]]+ft[n[i+9]]+"-"+ft[n[i+10]]+ft[n[i+11]]+ft[n[i+12]]+ft[n[i+13]]+ft[n[i+14]]+ft[n[i+15]]).toLowerCase()}var Jp,FR=new Uint8Array(16);function em(){if(!Jp){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Jp=crypto.getRandomValues.bind(crypto)}return Jp(FR)}var NR=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),tm={randomUUID:NR};function LR(n,i,e){n=n||{};let t=n.random??n.rng?.()??em();if(t.length<16)throw new Error("Random bytes length must be >= 16");if(t[6]=t[6]&15|64,t[8]=t[8]&63|128,i){if(e=e||0,e<0||e+16>i.length)throw new RangeError(`UUID byte range ${e}:${e+15} is out of buffer bounds`);for(let a=0;a<16;++a)i[e+a]=t[a];return i}return gC(t)}function VR(n,i,e){return tm.randomUUID&&!i&&!n?tm.randomUUID():LR(n,i,e)}var im=VR;var Jn=new $("StorageService");var $i=class n{storage=b(Jn);expensesSubject=new Ve([]);expenses$=this.expensesSubject.asObservable();getExpenses(){return this.storage.readExpenses().pipe(ct(i=>this.expensesSubject.next(i)),At(i=>(console.error("Error loading expenses:",i),B([]))))}addExpense(i){let e=this.validateExpense(i);if(!e.valid)return ei(()=>new Error(`Validation failed: ${e.errors.join(", ")}`));let t=be(O({},i),{id:this.generateId(),createdAt:new Date}),r=[...this.expensesSubject.value,t];return this.storage.writeExpenses(r).pipe(ct(()=>{this.expensesSubject.next(r)}),Oe(()=>this.storage.readExpenses()),ct(o=>{this.expensesSubject.next(o)}),ee(()=>t),At(o=>(console.error("Error adding expense:",o),this.getExpenses().subscribe(),ei(()=>o))))}updateExpense(i){let e=this.validateExpense(i);if(!e.valid)return ei(()=>new Error(`Validation failed: ${e.errors.join(", ")}`));let t=this.expensesSubject.value,a=t.findIndex(o=>o.id===i.id);if(a===-1)return ei(()=>new Error("Expense not found"));let r=[...t];return r[a]=i,this.storage.writeExpenses(r).pipe(ct(()=>{this.expensesSubject.next(r)}),Oe(()=>this.storage.readExpenses()),ct(o=>{this.expensesSubject.next(o)}),ee(()=>i),At(o=>(console.error("Error updating expense:",o),this.getExpenses().subscribe(),ei(()=>o))))}deleteExpense(i){let e=this.expensesSubject.value;if(e.findIndex(r=>r.id===i)===-1)return ei(()=>new Error("Expense not found"));let a=e.filter(r=>r.id!==i);return this.storage.writeExpenses(a).pipe(ct(()=>{this.expensesSubject.next(a)}),Oe(()=>this.storage.readExpenses()),ct(r=>{this.expensesSubject.next(r)}),ee(()=>!0),At(r=>(console.error("Error deleting expense:",r),this.getExpenses().subscribe(),ei(()=>r))))}validateExpense(i){let e=[];return(!i.name||i.name.trim()==="")&&e.push("Name is required"),(!i.description||i.description.trim()==="")&&e.push("Description is required"),(!i.issuer||i.issuer.trim()==="")&&e.push("Issuer is required"),(!i.category||i.category.trim()==="")&&e.push("Category is required"),(!i.bank||i.bank.trim()==="")&&e.push("Bank is required"),i.approximateAmount===void 0||i.approximateAmount===null?e.push("Approximate amount is required"):(typeof i.approximateAmount!="number"||i.approximateAmount<0)&&e.push("Approximate amount must be a positive number"),i.scheduledPaymentDate?(!(i.scheduledPaymentDate instanceof Date)||isNaN(i.scheduledPaymentDate.getTime()))&&e.push("Scheduled payment date must be a valid date"):e.push("Scheduled payment date is required"),i.actualAmount!==null&&i.actualAmount!==void 0&&(typeof i.actualAmount!="number"||i.actualAmount<0)&&e.push("Actual amount must be a positive number"),i.actualPaymentDate!==null&&i.actualPaymentDate!==void 0&&(!(i.actualPaymentDate instanceof Date)||isNaN(i.actualPaymentDate.getTime()))&&e.push("Actual payment date must be a valid date"),i.paymentStatus?["PENDING","PAID","FAILED"].includes(i.paymentStatus)||e.push("Payment status must be PENDING, PAID, or FAILED"):e.push("Payment status is required"),i.periodicity?["MENSUAL","BIMENSUAL","TRIMESTRAL","ANUAL"].includes(i.periodicity)||e.push("Periodicity must be MENSUAL, BIMENSUAL, TRIMESTRAL, or ANUAL"):e.push("Periodicity is required"),i.fraction?["\xDANICA","PRIMERA","SEGONA","TERCERA","QUARTA"].includes(i.fraction)||e.push("Fraction must be \xDANICA, PRIMERA, SEGONA, TERCERA, or QUARTA"):e.push("Fraction is required"),i.actualPaymentDate&&i.scheduledPaymentDate&&i.actualPaymentDate instanceof Date&&i.scheduledPaymentDate instanceof Date&&i.actualPaymentDate<i.scheduledPaymentDate&&e.push("Actual payment date cannot be before scheduled payment date"),{valid:e.length===0,errors:e}}generateId(){return im()}transformDates(i){return be(O({},i),{scheduledPaymentDate:i.scheduledPaymentDate instanceof Date?i.scheduledPaymentDate:new Date(i.scheduledPaymentDate),actualPaymentDate:i.actualPaymentDate?i.actualPaymentDate instanceof Date?i.actualPaymentDate:new Date(i.actualPaymentDate):null,createdAt:i.createdAt instanceof Date?i.createdAt:new Date(i.createdAt)})}static \u0275fac=function(e){return new(e||n)};static \u0275prov=ae({token:n,factory:n.\u0275fac,providedIn:"root"})};var ea=class n{storage=b(Jn);settingsSubject=new Ve({categories:[],tags:[],lastUpdated:new Date});settings$=this.settingsSubject.asObservable();categories$=this.settings$.pipe(ee(i=>i.categories));tags$=this.settings$.pipe(ee(i=>i.tags));loadSettings(){return this.storage.readSettings().pipe(ee(i=>(this.settingsSubject.next(i),i)))}validateCategory(i,e){let t=[];(!i||i.trim().length===0)&&t.push("La categor\xEDa no puede estar vac\xEDa");let a=this.settingsSubject.value.categories,r=i.trim().toLowerCase(),o=e?.trim().toLowerCase();return a.some(l=>{let c=l.trim().toLowerCase();return c===r&&c!==o})&&t.push("Ya existe una categor\xEDa con este nombre"),{valid:t.length===0,errors:t}}validateTag(i,e){let t=[];(!i||i.trim().length===0)&&t.push("La etiqueta no puede estar vac\xEDa");let a=this.settingsSubject.value.tags,r=i.trim().toLowerCase(),o=e?.trim().toLowerCase();return a.some(l=>{let c=l.trim().toLowerCase();return c===r&&c!==o})&&t.push("Ya existe una etiqueta con este nombre"),{valid:t.length===0,errors:t}}addCategory(i){let e=this.validateCategory(i);if(!e.valid)throw new Error(e.errors.join(", "));let t=this.settingsSubject.value,a=be(O({},t),{categories:[...t.categories,i.trim()],lastUpdated:new Date});return this.settingsSubject.next(a),this.storage.writeSettings(a).pipe(ee(()=>i.trim()))}updateCategory(i,e){let t=this.validateCategory(e,i);if(!t.valid)throw new Error(t.errors.join(", "));let a=this.settingsSubject.value,r=a.categories.findIndex(l=>l.toLowerCase()===i.toLowerCase());if(r===-1)throw new Error("Categor\xEDa no encontrada");let o=[...a.categories];o[r]=e.trim();let s=be(O({},a),{categories:o,lastUpdated:new Date});return this.settingsSubject.next(s),this.storage.writeSettings(s).pipe(ee(()=>e.trim()))}deleteCategory(i){let e=this.settingsSubject.value,t=e.categories.findIndex(o=>o.toLowerCase()===i.toLowerCase());if(t===-1)throw new Error("Categor\xEDa no encontrada");let a=e.categories.filter((o,s)=>s!==t),r=be(O({},e),{categories:a,lastUpdated:new Date});return this.settingsSubject.next(r),this.storage.writeSettings(r).pipe(ee(()=>!0))}addTag(i){let e=this.validateTag(i);if(!e.valid)throw new Error(e.errors.join(", "));let t=this.settingsSubject.value,a=be(O({},t),{tags:[...t.tags,i.trim()],lastUpdated:new Date});return this.settingsSubject.next(a),this.storage.writeSettings(a).pipe(ee(()=>i.trim()))}updateTag(i,e){let t=this.validateTag(e,i);if(!t.valid)throw new Error(t.errors.join(", "));let a=this.settingsSubject.value,r=a.tags.findIndex(l=>l.toLowerCase()===i.toLowerCase());if(r===-1)throw new Error("Etiqueta no encontrada");let o=[...a.tags];o[r]=e.trim();let s=be(O({},a),{tags:o,lastUpdated:new Date});return this.settingsSubject.next(s),this.storage.writeSettings(s).pipe(ee(()=>e.trim()))}deleteTag(i){let e=this.settingsSubject.value,t=e.tags.findIndex(o=>o.toLowerCase()===i.toLowerCase());if(t===-1)throw new Error("Etiqueta no encontrada");let a=e.tags.filter((o,s)=>s!==t),r=be(O({},e),{tags:a,lastUpdated:new Date});return this.settingsSubject.next(r),this.storage.writeSettings(r).pipe(ee(()=>!0))}static \u0275fac=function(e){return new(e||n)};static \u0275prov=ae({token:n,factory:n.\u0275fac,providedIn:"root"})};function BR(n,i){if(n&1&&(g(0,"div",1)(1,"mat-icon"),v(2),m(),g(3,"span"),v(4),m()()),n&2){let e=A();Ct(e.type),C(2),K(e.getIcon()),C(2),K(e.message)}}var ta=class n{message="";type="info";show=!1;getIcon(){return{success:"check_circle",error:"error",warning:"warning",info:"info"}[this.type]}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=j({type:n,selectors:[["app-notification-message"]],inputs:{message:"message",type:"type",show:"show"},decls:1,vars:1,consts:[[1,"notification-message",3,"class"],[1,"notification-message"]],template:function(e,t){e&1&&te(0,BR,5,4,"div",0),e&2&&ie(t.show&&t.message?0:-1)},dependencies:[Rt,li,si],styles:[".notification-message[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.5rem 1rem;border-radius:8px;font-size:.875rem;margin-top:1rem;animation:_ngcontent-%COMP%_slideIn .3s ease-out}.notification-message[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{flex-shrink:0;font-size:20px;width:20px;height:20px}.notification-message[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{flex:1;word-break:break-word}.notification-message.success[_ngcontent-%COMP%]{background-color:#eaf6eb;color:#3d8b40;border-left:4px solid #4caf50}.notification-message.success[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#4caf50}.notification-message.error[_ngcontent-%COMP%]{background-color:#fff8f7;color:#ea1c0d;border-left:4px solid #f44336}.notification-message.error[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#f44336}.notification-message.warning[_ngcontent-%COMP%]{background-color:#ffeacc;color:#995b00;border-left:4px solid #ff9800}.notification-message.warning[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#ff9800}.notification-message.info[_ngcontent-%COMP%]{background-color:#e4e7f6;color:#32408f;border-left:4px solid #3f51b5}.notification-message.info[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#3f51b5}@keyframes _ngcontent-%COMP%_slideIn{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}@media(max-width:768px){.notification-message[_ngcontent-%COMP%]{padding:.25rem .5rem;font-size:.75rem}.notification-message[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px}}"]})};function jR(n,i){n&1&&(g(0,"mat-error"),v(1,"Obligatori"),m())}function HR(n,i){if(n&1&&(g(0,"mat-option",24),v(1),m()),n&2){let e=i.$implicit;E("value",e),C(),he(" ",e," ")}}function UR(n,i){n&1&&(g(0,"mat-error"),v(1,"Obligatori"),m())}function WR(n,i){n&1&&(g(0,"mat-error"),v(1,"Obligatori"),m())}function $R(n,i){n&1&&(g(0,"mat-error"),v(1,"Obligatori"),m())}function YR(n,i){n&1&&(g(0,"mat-error"),v(1,"Obligatori"),m())}function qR(n,i){if(n&1&&(g(0,"mat-option",24),v(1),m()),n&2){let e=i.$implicit,t=A();E("value",e),C(),he(" ",t.getPeriodicityLabel(e)," ")}}function GR(n,i){n&1&&(g(0,"mat-error"),v(1,"Obligatori"),m())}function KR(n,i){if(n&1&&(g(0,"mat-option",24),v(1),m()),n&2){let e=i.$implicit,t=A();E("value",e),C(),he(" ",t.getFractionLabel(e)," ")}}function QR(n,i){n&1&&(g(0,"mat-error"),v(1,"Obligatori"),m())}function XR(n,i){n&1&&(g(0,"mat-error"),v(1,"Obligatori"),m())}function ZR(n,i){n&1&&(g(0,"mat-error"),v(1,"Obligatori"),m())}function JR(n,i){if(n&1&&(g(0,"mat-option",24),v(1),m()),n&2){let e=i.$implicit;E("value",e),C(),he(" ",e," ")}}function eI(n,i){n&1&&(g(0,"mat-error"),v(1,"Obligatori per estat Pagat"),m())}function tI(n,i){n&1&&(g(0,"mat-error"),v(1,"Ha de ser positiu"),m())}function iI(n,i){n&1&&(g(0,"mat-error"),v(1,"Obligatori per estat Pagat"),m())}function nI(n,i){if(n&1&&(g(0,"mat-option",24)(1,"span",32),v(2),m()()),n&2){let e=i.$implicit,t=A();E("value",e),C(),Ct("status-"+e.toLowerCase()),C(),he(" ",t.getStatusLabel(e)," ")}}var as=class n{constructor(i){this.data=i;this.isEditMode=!!i?.expense,this.expenseId=i?.expense?.id,this.expenseForm=this.fb.group({name:[i?.expense?.name||"",[He.required]],description:[i?.expense?.description||"",[He.required]],issuer:[i?.expense?.issuer||"",[He.required]],tag:[i?.expense?.tag||""],category:[i?.expense?.category||"",[He.required]],approximateAmount:[i?.expense?.approximateAmount||null,[He.required,He.min(0)]],scheduledPaymentDate:[i?.expense?.scheduledPaymentDate?new Date(i.expense.scheduledPaymentDate):null,[He.required]],actualPaymentDate:[i?.expense?.actualPaymentDate?new Date(i.expense.actualPaymentDate):null],actualAmount:[i?.expense?.actualAmount||null,[He.min(0)]],paymentStatus:[i?.expense?.paymentStatus||"PENDING",[He.required]],bank:[i?.expense?.bank||"",[He.required]],periodicity:[i?.expense?.periodicity||"MENSUAL",[He.required]],fraction:[i?.expense?.fraction||"\xDANICA",[He.required]]}),this.expenseForm.get("paymentStatus")?.valueChanges.subscribe(e=>{this.updatePaymentValidations(e)}),this.isEditMode&&i?.expense?.paymentStatus&&this.updatePaymentValidations(i.expense.paymentStatus)}fb=b(Ns);dialogRef=b(Df);expenseService=b($i);settingsService=b(ea);cdr=b(ye);expenseForm;errorMessage="";showErrorMessage=!1;isSubmitting=!1;isEditMode=!1;expenseId;categories$=this.settingsService.categories$;tags$=this.settingsService.tags$;paymentStatuses=["PENDING","PAID","FAILED"];periodicities=["MENSUAL","BIMENSUAL","TRIMESTRAL","ANUAL"];fractions=["\xDANICA","PRIMERA","SEGONA","TERCERA","QUARTA"];updatePaymentValidations(i){let e=this.expenseForm.get("actualAmount"),t=this.expenseForm.get("actualPaymentDate");i==="PAID"?(e?.setValidators([He.required,He.min(0)]),t?.setValidators([He.required])):(e?.setValidators([He.min(0)]),t?.clearValidators()),e?.updateValueAndValidity(),t?.updateValueAndValidity()}onSubmit(){if(this.expenseForm.invalid){this.expenseForm.markAllAsTouched();return}this.isSubmitting=!0,this.showErrorMessage=!1,this.errorMessage="";let i=this.expenseForm.value;if(this.isEditMode&&this.expenseId){let e={id:this.expenseId,name:i.name,description:i.description,issuer:i.issuer,tag:i.tag||"",category:i.category,approximateAmount:i.approximateAmount,scheduledPaymentDate:i.scheduledPaymentDate,actualPaymentDate:i.actualPaymentDate||null,actualAmount:i.actualAmount||null,paymentStatus:i.paymentStatus,bank:i.bank,periodicity:i.periodicity,fraction:i.fraction,createdAt:this.data.expense.createdAt};this.expenseService.updateExpense(e).subscribe({next:t=>{this.dialogRef.close(t)},error:t=>{setTimeout(()=>{this.errorMessage=t.message||"Error al actualitzar la despesa. Torna-ho a intentar.",this.showErrorMessage=!0,this.isSubmitting=!1,this.cdr.detectChanges()})}})}else{let e={name:i.name,description:i.description,issuer:i.issuer,tag:i.tag||"",category:i.category,approximateAmount:i.approximateAmount,scheduledPaymentDate:i.scheduledPaymentDate,actualPaymentDate:i.actualPaymentDate||null,actualAmount:i.actualAmount||null,paymentStatus:i.paymentStatus,bank:i.bank,periodicity:i.periodicity,fraction:i.fraction};this.expenseService.addExpense(e).subscribe({next:t=>{this.dialogRef.close(t)},error:t=>{setTimeout(()=>{this.errorMessage=t.message||"Error al afegir la despesa. Torna-ho a intentar.",this.showErrorMessage=!0,this.isSubmitting=!1,this.cdr.detectChanges()})}})}}onCancel(){this.dialogRef.close()}getErrorMessage(i){let e=this.expenseForm.get(i);return!e||!e.errors||!e.touched?"":e.errors.required?`${this.getFieldLabel(i)} \xE9s obligatori`:e.errors.min?`${this.getFieldLabel(i)} ha de ser un nombre positiu`:"Valor no v\xE0lid"}getFieldLabel(i){return{name:"Nom",description:"Descripci\xF3",issuer:"Emissor",tag:"Etiqueta",category:"Categoria",approximateAmount:"Import aproximat",scheduledPaymentDate:"Data prevista de pagament",actualPaymentDate:"Data real de pagament",actualAmount:"Import real",paymentStatus:"Estat del pagament",bank:"Banc",periodicity:"Periodicitat",fraction:"Fracci\xF3"}[i]||i}getStatusLabel(i){return{PENDING:"Pendent",PAID:"Pagat",FAILED:"Fallat"}[i]||i}getPeriodicityLabel(i){return{MENSUAL:"Mensual",BIMENSUAL:"Bimensual",TRIMESTRAL:"Trimestral",ANUAL:"Anual"}[i]||i}getFractionLabel(i){return{\u00DANICA:"\xDAnica",PRIMERA:"Primera",SEGONA:"Segona",TERCERA:"Tercera",QUARTA:"Quarta"}[i]||i}static \u0275fac=function(e){return new(e||n)(Be(Ef))};static \u0275cmp=j({type:n,selectors:[["app-add-expense-dialog"]],decls:129,vars:36,consts:[["scheduledPicker",""],["actualPicker",""],[1,"dialog-header"],["mat-dialog-title",""],["type","error",3,"message","show"],[1,"expense-form",3,"formGroup"],[1,"form-row"],["appearance","outline"],["matInput","","formControlName","name","placeholder","Factura llum","required",""],["matPrefix",""],[4,"ngIf"],["formControlName","category","required",""],[3,"value",4,"ngFor","ngForOf"],[1,"form-row","full-width"],["matInput","","formControlName","description","placeholder","Descripci\xF3 breu","required",""],["matInput","","formControlName","issuer","placeholder","Endesa","required",""],["matInput","","formControlName","bank","placeholder","CaixaBank","required",""],["formControlName","periodicity","required",""],["formControlName","fraction","required",""],[1,"form-row","three-columns"],["matInput","","type","number","formControlName","approximateAmount","placeholder","0.00","required",""],["matInput","","formControlName","scheduledPaymentDate","required","",3,"matDatepicker"],["matSuffix","",3,"for"],["formControlName","tag"],[3,"value"],[1,"divider"],["matInput","","type","number","formControlName","actualAmount","placeholder","0.00"],["matInput","","formControlName","actualPaymentDate",3,"matDatepicker"],["formControlName","paymentStatus","required",""],["mat-button","",3,"click","disabled"],[1,"button-text"],["mat-raised-button","","color","primary",3,"click","disabled"],[1,"status-option"]],template:function(e,t){if(e&1){let a=ke();g(0,"div",2)(1,"h2",3)(2,"mat-icon"),v(3),m(),v(4),m()(),g(5,"mat-dialog-content"),q(6,"app-notification-message",4),g(7,"form",5)(8,"div",6)(9,"mat-form-field",7)(10,"mat-label"),v(11,"Nom"),m(),q(12,"input",8),g(13,"mat-icon",9),v(14,"label"),m(),H(15,jR,2,0,"mat-error",10),m(),g(16,"mat-form-field",7)(17,"mat-label"),v(18,"Categoria"),m(),g(19,"mat-select",11),H(20,HR,2,2,"mat-option",12),je(21,"async"),m(),g(22,"mat-icon",9),v(23,"category"),m(),H(24,UR,2,0,"mat-error",10),m()(),g(25,"div",13)(26,"mat-form-field",7)(27,"mat-label"),v(28,"Descripci\xF3"),m(),q(29,"input",14),g(30,"mat-icon",9),v(31,"description"),m(),H(32,WR,2,0,"mat-error",10),m()(),g(33,"div",6)(34,"mat-form-field",7)(35,"mat-label"),v(36,"Emissor"),m(),q(37,"input",15),g(38,"mat-icon",9),v(39,"business"),m(),H(40,$R,2,0,"mat-error",10),m(),g(41,"mat-form-field",7)(42,"mat-label"),v(43,"Banc"),m(),q(44,"input",16),g(45,"mat-icon",9),v(46,"account_balance"),m(),H(47,YR,2,0,"mat-error",10),m()(),g(48,"div",6)(49,"mat-form-field",7)(50,"mat-label"),v(51,"Periodicitat"),m(),g(52,"mat-select",17),H(53,qR,2,2,"mat-option",12),m(),g(54,"mat-icon",9),v(55,"event_repeat"),m(),H(56,GR,2,0,"mat-error",10),m(),g(57,"mat-form-field",7)(58,"mat-label"),v(59,"Fracci\xF3"),m(),g(60,"mat-select",18),H(61,KR,2,2,"mat-option",12),m(),g(62,"mat-icon",9),v(63,"splitscreen"),m(),H(64,QR,2,0,"mat-error",10),m()(),g(65,"div",19)(66,"mat-form-field",7)(67,"mat-label"),v(68,"Import aprox."),m(),q(69,"input",20),g(70,"span",9),v(71,"\u20AC\xA0"),m(),H(72,XR,2,0,"mat-error",10),m(),g(73,"mat-form-field",7)(74,"mat-label"),v(75,"Data prevista"),m(),q(76,"input",21)(77,"mat-datepicker-toggle",22)(78,"mat-datepicker",null,0),H(80,ZR,2,0,"mat-error",10),m(),g(81,"mat-form-field",7)(82,"mat-label"),v(83,"Etiqueta"),m(),g(84,"mat-select",23)(85,"mat-option",24),v(86,"Sense etiqueta"),m(),H(87,JR,2,2,"mat-option",12),je(88,"async"),m(),g(89,"mat-icon",9),v(90,"local_offer"),m()()(),g(91,"div",25)(92,"span"),v(93),m()(),g(94,"div",19)(95,"mat-form-field",7)(96,"mat-label"),v(97,"Import real"),m(),q(98,"input",26),g(99,"span",9),v(100,"\u20AC\xA0"),m(),H(101,eI,2,0,"mat-error",10)(102,tI,2,0,"mat-error",10),m(),g(103,"mat-form-field",7)(104,"mat-label"),v(105,"Data real"),m(),q(106,"input",27)(107,"mat-datepicker-toggle",22)(108,"mat-datepicker",null,1),H(110,iI,2,0,"mat-error",10),m(),g(111,"mat-form-field",7)(112,"mat-label"),v(113,"Estat"),m(),g(114,"mat-select",28),H(115,nI,3,4,"mat-option",12),m(),g(116,"mat-icon",9),v(117,"payment"),m()()()()(),g(118,"mat-dialog-actions")(119,"button",29),I("click",function(){return V(a),z(t.onCancel())}),g(120,"mat-icon"),v(121,"close"),m(),g(122,"span",30),v(123,"Cancel\xB7la"),m()(),g(124,"button",31),I("click",function(){return V(a),z(t.onSubmit())}),g(125,"mat-icon"),v(126),m(),g(127,"span",30),v(128),m()()()}if(e&2){let a,r,o,s,l,c,d,h,u,p,f,_,y,x=Pi(79),w=Pi(109);C(3),K(t.isEditMode?"edit":"add_circle"),C(),he(" ",t.isEditMode?"Edita la despesa":"Nova despesa"," "),C(2),E("message",t.errorMessage)("show",t.showErrorMessage),C(),E("formGroup",t.expenseForm),C(8),E("ngIf",(a=t.expenseForm.get("name"))==null?null:a.invalid),C(5),E("ngForOf",gn(21,32,t.categories$)),C(4),E("ngIf",(r=t.expenseForm.get("category"))==null?null:r.invalid),C(8),E("ngIf",(o=t.expenseForm.get("description"))==null?null:o.invalid),C(8),E("ngIf",(s=t.expenseForm.get("issuer"))==null?null:s.invalid),C(7),E("ngIf",(l=t.expenseForm.get("bank"))==null?null:l.invalid),C(6),E("ngForOf",t.periodicities),C(3),E("ngIf",(c=t.expenseForm.get("periodicity"))==null?null:c.invalid),C(5),E("ngForOf",t.fractions),C(3),E("ngIf",(d=t.expenseForm.get("fraction"))==null?null:d.invalid),C(8),E("ngIf",(h=t.expenseForm.get("approximateAmount"))==null?null:h.invalid),C(4),E("matDatepicker",x),C(),E("for",x),C(3),E("ngIf",(u=t.expenseForm.get("scheduledPaymentDate"))==null?null:u.invalid),C(5),E("value",""),C(2),E("ngForOf",gn(88,34,t.tags$)),C(6),he("Pagament Real ",((p=t.expenseForm.get("paymentStatus"))==null?null:p.value)==="PAID"?"(Obligatori)":"(Opcional)"),C(8),E("ngIf",(f=t.expenseForm.get("actualAmount"))==null?null:f.hasError("required")),C(),E("ngIf",(_=t.expenseForm.get("actualAmount"))==null?null:_.hasError("min")),C(4),E("matDatepicker",w),C(),E("for",w),C(3),E("ngIf",(y=t.expenseForm.get("actualPaymentDate"))==null?null:y.hasError("required")),C(5),E("ngForOf",t.paymentStatuses),C(4),E("disabled",t.isSubmitting),C(5),E("disabled",t.isSubmitting||t.expenseForm.invalid),C(2),K(t.isEditMode?"save":"add"),C(2),K(t.isSubmitting?t.isEditMode?"Guardant...":"Afegint...":t.isEditMode?"Guardar":"Afegir")}},dependencies:[Rt,Ra,Ia,Ls,Rs,Os,pf,As,Ts,Fs,aa,Is,qs,kf,Of,Pf,oi,Cn,vn,Vs,zs,ff,La,Na,Zn,Ir,Wi,fC,mC,_d,Zp,kv,kt,Et,li,si,ta,xs],styles:['[_nghost-%COMP%]     .mat-mdc-dialog-container{overflow:hidden!important;padding:0!important}[_nghost-%COMP%]     .mat-mdc-dialog-surface{overflow:hidden!important;display:flex!important;flex-direction:column!important}.dialog-header[_ngcontent-%COMP%]{flex-shrink:0;background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;padding:1rem 1.25rem}@media(min-width:768px){.dialog-header[_ngcontent-%COMP%]{padding:1.25rem 1.5rem}}@media(min-width:1024px){.dialog-header[_ngcontent-%COMP%]{padding:1.25rem 1.5rem}}.dialog-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;display:flex;align-items:center;gap:.75rem;font-size:1.125rem}@media(min-width:1024px){.dialog-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.25rem}}.dialog-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-weight:500}.dialog-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:24px;width:24px;height:24px}mat-dialog-content[_ngcontent-%COMP%]{flex:0 1 auto!important;overflow:hidden!important;padding:1rem 1.25rem}@media(min-width:768px){mat-dialog-content[_ngcontent-%COMP%]{padding:1.25rem 1.5rem}}@media(min-width:1024px){mat-dialog-content[_ngcontent-%COMP%]{padding:1.25rem 1.5rem}}mat-dialog-content[_ngcontent-%COMP%]{max-height:none!important}.error-message[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;background-color:#ffebee;color:#c62828;padding:.75rem 1rem;border-radius:8px;margin-bottom:1rem;font-size:.875rem;border-left:4px solid #c62828}.error-message[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px;flex-shrink:0}.error-message[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{flex:1}.expense-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.75rem}.form-row[_ngcontent-%COMP%]{display:grid;gap:.75rem;grid-template-columns:1fr}.form-row[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{margin:0}.divider[_ngcontent-%COMP%]{display:flex;align-items:center;margin:.5rem 0}.divider[_ngcontent-%COMP%]:before, .divider[_ngcontent-%COMP%]:after{content:"";flex:1;height:1px;background:#e0e0e0}.divider[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:0 .75rem;font-size:.75rem;font-weight:500;color:#757575;text-transform:uppercase;letter-spacing:.5px}mat-form-field[_ngcontent-%COMP%]     .mat-mdc-text-field-wrapper{background-color:#fff}mat-form-field[_ngcontent-%COMP%]     .mat-mdc-form-field-icon-prefix{padding-right:.5rem;color:#757575}mat-form-field[_ngcontent-%COMP%]     .mat-mdc-form-field-icon-prefix mat-icon{font-size:20px;width:20px;height:20px}.status-option[_ngcontent-%COMP%]{display:inline-flex;align-items:center;padding:.25rem .75rem;border-radius:12px;font-size:.75rem;font-weight:500}.status-option.status-pending[_ngcontent-%COMP%]{background-color:#fff3e0;color:#e65100}.status-option.status-paid[_ngcontent-%COMP%]{background-color:#e8f5e9;color:#2e7d32}.status-option.status-failed[_ngcontent-%COMP%]{background-color:#ffebee;color:#c62828}mat-dialog-actions[_ngcontent-%COMP%]{flex-shrink:0;padding:.75rem 1.25rem}@media(min-width:768px){mat-dialog-actions[_ngcontent-%COMP%]{padding:1rem 1.5rem}}@media(min-width:1024px){mat-dialog-actions[_ngcontent-%COMP%]{padding:1rem 1.5rem}}mat-dialog-actions[_ngcontent-%COMP%]{border-top:1px solid #e0e0e0;background-color:#f5f5f5;gap:.75rem;display:flex;justify-content:flex-end}mat-dialog-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:0 1.25rem;height:40px;font-size:.875rem}mat-dialog-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px}@media(max-width:767px){[_nghost-%COMP%]     .mat-mdc-dialog-container{max-width:100vw!important;width:100vw!important;max-height:100vh!important;height:100vh!important;border-radius:0!important;margin:0!important}.dialog-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1rem}.dialog-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px}.expense-form[_ngcontent-%COMP%], .form-row[_ngcontent-%COMP%]{gap:.5rem}.divider[_ngcontent-%COMP%]{margin:.25rem 0}.divider[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.75rem;padding:0 .5rem}mat-dialog-actions[_ngcontent-%COMP%]{flex-direction:column-reverse;gap:.5rem}mat-dialog-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;margin:0;height:44px}.error-message[_ngcontent-%COMP%]{padding:.5rem .75rem;font-size:.75rem;margin-bottom:.75rem}.error-message[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px}}@media(min-width:768px){[_nghost-%COMP%]     .mat-mdc-dialog-container{max-width:90vw!important;width:700px;max-height:90vh!important}.form-row[_ngcontent-%COMP%]{grid-template-columns:1fr 1fr}.form-row.full-width[_ngcontent-%COMP%]{grid-template-columns:1fr}.form-row.three-columns[_ngcontent-%COMP%]{grid-template-columns:1fr 1fr 1fr}}@media(min-width:1024px){[_nghost-%COMP%]     .mat-mdc-dialog-container{max-width:800px;width:800px;max-height:90vh!important}.form-row[_ngcontent-%COMP%]{grid-template-columns:1fr 1fr}.form-row.full-width[_ngcontent-%COMP%]{grid-template-columns:1fr}.form-row.three-columns[_ngcontent-%COMP%]{grid-template-columns:1fr 1fr 1fr}}']})};function aI(n,i){n&1&&(g(0,"div",14),q(1,"mat-spinner"),g(2,"p"),v(3,"Carregant despeses..."),m()())}function rI(n,i){if(n&1&&q(0,"app-notification-message",15),n&2){let e=A();E("message",e.errorMessage)("show",e.showErrorMessage)}}function oI(n,i){if(n&1){let e=ke();g(0,"div",16)(1,"button",17),I("click",function(){V(e);let a=A();return z(a.loadExpenses())}),g(2,"mat-icon"),v(3,"refresh"),m(),g(4,"span"),v(5,"Reintenta"),m()()()}}function sI(n,i){n&1&&(g(0,"div",18)(1,"mat-icon"),v(2,"receipt_long"),m(),g(3,"h2"),v(4,"Encara no hi ha despeses"),m(),g(5,"p"),v(6,'Prem el bot\xF3 "Afegeix despesa" per comen\xE7ar'),m()())}function lI(n,i){if(n&1){let e=ke();g(0,"div",19)(1,"app-expense-table",20),I("edit",function(a){V(e);let r=A();return z(r.openEditDialog(a))})("delete",function(a){V(e);let r=A();return z(r.confirmDelete(a))})("yearChange",function(a){V(e);let r=A();return z(r.onYearChange(a))}),m()()}if(n&2){let e=A();C(),E("expenses",e.expenses)("selectedYear",e.selectedYear)}}var bd=class n{expenseService=b($i);authService=b(Bt);dialog=b(Ys);router=b(Ze);cdr=b(ye);expenses=[];selectedYear=new Date().getFullYear();availableYears=[];isLoading=!1;errorMessage="";showErrorMessage=!1;ngOnInit(){this.initializeYears(),this.loadExpenses()}initializeYears(){let i=new Date().getFullYear();this.availableYears=Array.from({length:5},(e,t)=>i-t)}loadExpenses(){console.log("Loading expenses..."),this.isLoading=!0,this.showErrorMessage=!1,this.errorMessage="",this.cdr.detectChanges(),this.expenseService.getExpenses().subscribe({next:i=>{console.log("Expenses loaded:",i.length),this.expenses=i,this.isLoading=!1,this.cdr.detectChanges()},error:i=>{console.error("Error loading expenses:",i),this.errorMessage="No s'han pogut carregar les despeses. Torna-ho a intentar.",this.showErrorMessage=!0,this.isLoading=!1,this.cdr.detectChanges()},complete:()=>{console.log("Load expenses completed")}})}openAddDialog(){this.dialog.open(as,{width:"800px",maxWidth:"95vw",maxHeight:"95vh",disableClose:!0,autoFocus:!1,panelClass:"expense-dialog"}).afterClosed().subscribe(e=>{e&&this.loadExpenses()})}openEditDialog(i){this.dialog.open(as,{width:"800px",maxWidth:"95vw",maxHeight:"95vh",disableClose:!0,autoFocus:!1,panelClass:"expense-dialog",data:{expense:i}}).afterClosed().subscribe(t=>{t&&this.loadExpenses()})}confirmDelete(i){confirm(`Est\xE0s segur que vols eliminar la despesa "${i.name}"?`)&&this.expenseService.deleteExpense(i.id).subscribe({next:()=>{this.loadExpenses()},error:e=>{this.errorMessage="No s'ha pogut eliminar la despesa. Torna-ho a intentar.",this.showErrorMessage=!0,console.error("Error deleting expense:",e)}})}logout(){this.authService.logout()}goToDashboard(){this.router.navigate(["/dashboard"])}onYearChange(i){this.selectedYear=i}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=j({type:n,selectors:[["app-expense-list-page"]],decls:24,vars:5,consts:[[1,"page-container"],[1,"page-header"],[1,"dashboard-header"],[1,"header-actions"],["mat-icon-button","","matTooltip","Tauler","aria-label","Tauler",3,"click"],["mat-icon-button","","routerLink","/settings","matTooltip","Configuraci\xF3","aria-label","Configuraci\xF3"],["mat-icon-button","","matTooltip","Tancar sessi\xF3","aria-label","Tanca sessi\xF3",3,"click"],[1,"page-content"],["class","loading-container",4,"ngIf"],["type","error",3,"message","show",4,"ngIf"],["class","error-actions",4,"ngIf"],["class","empty-state",4,"ngIf"],["class","table-container",4,"ngIf"],["mat-fab","","color","primary","aria-label","Afegeix despesa",1,"fab-button",3,"click"],[1,"loading-container"],["type","error",3,"message","show"],[1,"error-actions"],["mat-raised-button","","color","primary",3,"click"],[1,"empty-state"],[1,"table-container"],[3,"edit","delete","yearChange","expenses","selectedYear"]],template:function(e,t){e&1&&(g(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1"),v(4,"Llista"),m(),g(5,"div",3)(6,"button",4),I("click",function(){return t.goToDashboard()}),g(7,"mat-icon"),v(8,"dashboard"),m()(),g(9,"button",5)(10,"mat-icon"),v(11,"settings"),m()(),g(12,"button",6),I("click",function(){return t.logout()}),g(13,"mat-icon"),v(14,"logout"),m()()()()(),g(15,"div",7),H(16,aI,4,0,"div",8)(17,rI,1,2,"app-notification-message",9)(18,oI,6,0,"div",10)(19,sI,7,0,"div",11)(20,lI,2,2,"div",12),m(),g(21,"button",13),I("click",function(){return t.openAddDialog()}),g(22,"mat-icon"),v(23,"add"),m()()()),e&2&&(C(16),E("ngIf",t.isLoading),C(),E("ngIf",!t.isLoading),C(),E("ngIf",t.showErrorMessage&&!t.isLoading),C(),E("ngIf",!t.isLoading&&!t.showErrorMessage&&t.expenses.length===0),C(),E("ngIf",!t.isLoading&&!t.showErrorMessage&&t.expenses.length>0))},dependencies:[Rt,Ia,En,Tv,kt,Et,Xi,_f,li,si,Fv,Iv,qs,oi,Zn,ud,ta],styles:[".page-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100vh;overflow:hidden}.dashboard-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;gap:1rem}.dashboard-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;font-size:1.125rem}@media(min-width:1024px){.dashboard-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.5rem}}.dashboard-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-weight:500;white-space:nowrap}.dashboard-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.25rem;flex-shrink:0}.dashboard-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:40px;height:40px;padding:0}.dashboard-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px}.spacer[_ngcontent-%COMP%]{flex:1 1 auto}.app-toolbar[_ngcontent-%COMP%]{flex-shrink:0;z-index:1020;box-shadow:0 4px 6px -1px #0000001a,0 2px 4px -1px #0000000f}.app-toolbar[_ngcontent-%COMP%]   .app-title[_ngcontent-%COMP%]{font-size:1rem}@media(min-width:1024px){.app-toolbar[_ngcontent-%COMP%]   .app-title[_ngcontent-%COMP%]{font-size:1.125rem}}.app-toolbar[_ngcontent-%COMP%]   .app-title[_ngcontent-%COMP%]{font-weight:500}.app-toolbar[_ngcontent-%COMP%]   .toolbar-buttons[_ngcontent-%COMP%]{display:flex;gap:.5rem}.app-toolbar[_ngcontent-%COMP%]   .toolbar-buttons[_ngcontent-%COMP%]   .toolbar-button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:.5rem}.app-toolbar[_ngcontent-%COMP%]   .mobile-toolbar-buttons[_ngcontent-%COMP%]{display:none}.page-content[_ngcontent-%COMP%]{flex:1;overflow-y:auto;overflow-x:hidden;padding:1rem}@media(min-width:768px){.page-content[_ngcontent-%COMP%]{padding:1.25rem}}@media(min-width:1024px){.page-content[_ngcontent-%COMP%]{padding:1.5rem}}.page-content[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px;height:8px}.page-content[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#eee;border-radius:8px}.page-content[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#bdbdbd;border-radius:8px}.page-content[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#a4a4a4}.loading-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:3rem}.loading-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:1rem;color:#757575}.error-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:3rem;text-align:center}.error-container[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:48px;width:48px;height:48px;margin-bottom:1rem}.error-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:1rem;color:#212121}.error-actions[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:1rem}.error-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}.empty-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:3rem;text-align:center}.empty-state[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:64px;width:64px;height:64px;color:#bdbdbd;margin-bottom:1rem}.empty-state[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0 0 .5rem;color:#212121}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#757575}.table-container[_ngcontent-%COMP%]{margin-top:1rem}.fab-button[_ngcontent-%COMP%]{position:fixed;bottom:1.5rem;right:1.5rem;z-index:1030;box-shadow:0 10px 15px -3px #0000001a,0 4px 6px -2px #0000000d;transition:transform .15s ease-in-out,box-shadow .15s ease-in-out}.fab-button[_ngcontent-%COMP%]:hover{transform:scale(1.05);box-shadow:0 20px 25px -5px #0000001a,0 10px 10px -5px #0000000a}.fab-button[_ngcontent-%COMP%]:active{transform:scale(.95)}@media(max-width:767px){.page-content[_ngcontent-%COMP%]{padding:1rem .5rem}.dashboard-header[_ngcontent-%COMP%]{gap:.5rem}.dashboard-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1rem}.dashboard-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]{gap:0}.dashboard-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:36px;height:36px}.dashboard-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px}.fab-button[_ngcontent-%COMP%]{bottom:1rem;right:1rem}.fab-button[_ngcontent-%COMP%]     .mat-mdc-fab{width:56px;height:56px}.fab-button[_ngcontent-%COMP%]     .mat-icon{font-size:24px}.loading-container[_ngcontent-%COMP%], .error-container[_ngcontent-%COMP%], .empty-state[_ngcontent-%COMP%]{padding:1.5rem 1rem}.loading-container[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .error-container[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .empty-state[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:40px;width:40px;height:40px}.loading-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .error-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .empty-state[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.125rem}.loading-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .error-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.875rem}.table-container[_ngcontent-%COMP%]{margin-top:.5rem}}@media(max-width:479px){.app-toolbar[_ngcontent-%COMP%]   .app-title[_ngcontent-%COMP%]{font-size:.875rem;max-width:150px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.app-toolbar[_ngcontent-%COMP%]   .mobile-toolbar-buttons[_ngcontent-%COMP%]{gap:0}.app-toolbar[_ngcontent-%COMP%]   .mobile-toolbar-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:0 .5rem}.page-content[_ngcontent-%COMP%]{padding:.5rem .25rem}.fab-button[_ngcontent-%COMP%]{bottom:.75rem;right:.75rem}.fab-button[_ngcontent-%COMP%]     .mat-mdc-fab{width:48px;height:48px}.fab-button[_ngcontent-%COMP%]     .mat-icon{font-size:20px}}@media(min-width:768px){.page-content[_ngcontent-%COMP%]{padding:1.25rem}.dashboard-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.25rem}.fab-button[_ngcontent-%COMP%]{bottom:1.25rem;right:1.25rem}.loading-container[_ngcontent-%COMP%], .error-container[_ngcontent-%COMP%], .empty-state[_ngcontent-%COMP%]{padding:2.5rem}.loading-container[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .error-container[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .empty-state[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:56px;width:56px;height:56px}.table-container[_ngcontent-%COMP%]{margin-top:.75rem}}@media(min-width:1024px){.page-content[_ngcontent-%COMP%]{padding:1.5rem}.dashboard-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.5rem}.dashboard-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]{gap:.5rem}.fab-button[_ngcontent-%COMP%]{bottom:1.5rem;right:1.5rem}.loading-container[_ngcontent-%COMP%], .error-container[_ngcontent-%COMP%], .empty-state[_ngcontent-%COMP%]{padding:3rem}.loading-container[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .error-container[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .empty-state[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:64px;width:64px;height:64px}.table-container[_ngcontent-%COMP%]{margin-top:1rem}}"]})};var rs=n=>[n,"EUR","symbol","1.2-2","es"];function cI(n,i){if(n&1&&(g(0,"mat-option",37),v(1),m()),n&2){let e=i.$implicit;E("value",e),C(),he(" ",e," ")}}function dI(n,i){if(n&1&&(g(0,"div",14)(1,"div",38),v(2),m(),g(3,"div",39),v(4),je(5,"currency"),m(),g(6,"div",40),v(7),je(8,"date"),m(),g(9,"div",41)(10,"span",42),v(11),m(),g(12,"span",43),v(13,"d\xEDas restantes"),m()()()),n&2){let e=A();C(2),K(e.nextPayment().name),C(2),K(bi(5,4,_i(13,rs,e.nextPayment().approximateAmount))),C(3),he(" ",na(8,10,e.nextPayment().scheduledPaymentDate,"dd/MM/yyyy")," "),C(4),K(e.daysUntilNextPayment())}}function hI(n,i){n&1&&(g(0,"div",15)(1,"mat-icon"),v(2,"check_circle"),m(),g(3,"p"),v(4,"No hi ha pagaments pendents propers"),m()())}function uI(n,i){if(n&1){let e=ke();g(0,"button",47),I("click",function(){V(e);let a=A(2);return z(a.clearTagFilters())}),g(1,"mat-icon"),v(2,"clear"),m()()}}function pI(n,i){n&1&&(g(0,"mat-icon",49),v(1,"check"),m())}function mI(n,i){if(n&1){let e=ke();g(0,"mat-chip",48),I("click",function(){let a=V(e).$implicit,r=A(2);return z(r.toggleTag(a))}),v(1),te(2,pI,2,0,"mat-icon",49),m()}if(n&2){let e=i.$implicit,t=A(2);de("selected",t.isTagSelected(e)),E("highlighted",t.isTagSelected(e)),C(),he(" ",e," "),C(),ie(t.isTagSelected(e)?2:-1)}}function fI(n,i){if(n&1&&(g(0,"mat-card",20)(1,"mat-card-header")(2,"mat-card-title")(3,"mat-icon"),v(4,"label"),m(),v(5," Filtrar por Etiquetas "),m(),te(6,uI,3,0,"button",44),m(),g(7,"mat-card-content")(8,"mat-chip-set",45),mn(9,mI,3,5,"mat-chip",46,gs),m()()()),n&2){let e=A();C(6),ie(e.selectedTags().size>0?6:-1),C(3),fn(e.availableTags())}}var yd=class n{constructor(i,e){this.expenseService=i;this.router=e}authService=b(Bt);expenses=J([]);selectedYear=J(new Date().getFullYear());availableYears=J([]);availableTags=J([]);selectedTags=J(new Set);filteredExpenses=Id(()=>{let i=this.selectedYear(),e=this.selectedTags();return this.expenses().filter(t=>{let r=new Date(t.scheduledPaymentDate).getFullYear()===i;return e.size===0?r:r&&t.tag&&e.has(t.tag)})});nextPayment=J(null);daysUntilNextPayment=J(0);totalPaidThisMonth=J(0);totalPaidThisYear=J(0);totalPendingPayments=J(0);averageMonthlyExpense=J(0);mostExpensiveCategory=J("");pendingPaymentsCount=J(0);paidPaymentsCount=J(0);monthlyChartData=J({labels:[],datasets:[{data:[],label:"Gastos Mensuales",backgroundColor:"rgba(63, 81, 181, 0.7)",borderColor:"rgba(63, 81, 181, 1)",borderWidth:1}]});categoryChartData=J({labels:[],datasets:[{data:[],backgroundColor:["rgba(255, 99, 132, 0.7)","rgba(54, 162, 235, 0.7)","rgba(255, 206, 86, 0.7)","rgba(75, 192, 192, 0.7)","rgba(153, 102, 255, 0.7)","rgba(255, 159, 64, 0.7)"]}]});barChartOptions={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!0,position:"top"},tooltip:{callbacks:{footer:i=>`Total: ${i.reduce((t,a)=>t+(a.parsed.y||0),0).toFixed(2)} \u20AC`}}},scales:{x:{stacked:!0},y:{stacked:!0,beginAtZero:!0,ticks:{callback:function(i){return i+" \u20AC"}}}}};doughnutChartOptions={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"right"}}};ngOnInit(){this.loadExpenses()}logout(){this.authService.logout()}loadExpenses(){this.expenseService.getExpenses().subscribe({next:i=>{this.expenses.set(i),this.calculateAvailableYears(i),this.calculateAvailableTags(i),this.updateDashboard()},error:i=>{console.error("Error loading expenses:",i)}})}calculateAvailableYears(i){let e=new Set;i.forEach(a=>{let r=new Date(a.scheduledPaymentDate).getFullYear();e.add(r)});let t=Array.from(e).sort((a,r)=>r-a);this.availableYears.set(t),t.length>0&&!t.includes(this.selectedYear())&&this.selectedYear.set(t[0])}calculateAvailableTags(i){let e=new Set;i.forEach(a=>{a.tag&&a.tag.trim()!==""&&e.add(a.tag)});let t=Array.from(e).sort();this.availableTags.set(t)}onYearChange(i){this.selectedYear.set(i),this.updateDashboard()}toggleTag(i){let e=new Set(this.selectedTags());e.has(i)?e.delete(i):e.add(i),this.selectedTags.set(e),this.updateDashboard()}isTagSelected(i){return this.selectedTags().has(i)}clearTagFilters(){this.selectedTags.set(new Set),this.updateDashboard()}updateDashboard(){let i=this.filteredExpenses();this.calculateNextPayment(i),this.calculateStatistics(i),this.generateMonthlyChart(i),this.generateCategoryChart(i)}calculateStatistics(i){let e=new Date,t=e.getMonth(),a=e.getFullYear(),r=i.filter(f=>{if(f.paymentStatus!=="PAID"||!f.actualPaymentDate||!f.actualAmount)return!1;let _=new Date(f.actualPaymentDate);return _.getMonth()===t&&_.getFullYear()===a}).reduce((f,_)=>f+(_.actualAmount||0),0);this.totalPaidThisMonth.set(r);let o=i.filter(f=>f.paymentStatus!=="PAID"||!f.actualPaymentDate||!f.actualAmount?!1:new Date(f.actualPaymentDate).getFullYear()===a).reduce((f,_)=>f+(_.actualAmount||0),0);this.totalPaidThisYear.set(o);let s=i.filter(f=>f.paymentStatus==="PENDING").reduce((f,_)=>f+_.approximateAmount,0);this.totalPendingPayments.set(s),this.pendingPaymentsCount.set(i.filter(f=>f.paymentStatus==="PENDING").length),this.paidPaymentsCount.set(i.filter(f=>f.paymentStatus==="PAID").length);let l=this.getMonthlyExpenses(i,6),c=l.reduce((f,_)=>f+_.paid,0),d=l.length>0?c/l.length:0;this.averageMonthlyExpense.set(d);let h=new Map;i.filter(f=>f.paymentStatus==="PAID"&&f.actualAmount).forEach(f=>{let _=h.get(f.category)||0;h.set(f.category,_+(f.actualAmount||0))});let u="",p=0;h.forEach((f,_)=>{f>p&&(p=f,u=_)}),this.mostExpensiveCategory.set(u||"N/A")}calculateNextPayment(i){let e=new Date,t=i.filter(a=>a.paymentStatus==="PENDING").map(a=>be(O({},a),{scheduledPaymentDate:new Date(a.scheduledPaymentDate)})).filter(a=>a.scheduledPaymentDate>=e).sort((a,r)=>a.scheduledPaymentDate.getTime()-r.scheduledPaymentDate.getTime());if(t.length>0){let a=t[0];this.nextPayment.set(a);let r=a.scheduledPaymentDate.getTime()-e.getTime(),o=Math.ceil(r/(1e3*60*60*24));this.daysUntilNextPayment.set(o)}}generateMonthlyChart(i){let e=this.selectedYear(),t=this.getMonthlyExpensesForYear(i,e);this.monthlyChartData.set({labels:t.map(a=>a.month),datasets:[{data:t.map(a=>a.paid),label:"Pagado (\u20AC)",backgroundColor:"rgba(76, 175, 80, 0.7)",borderColor:"rgba(76, 175, 80, 1)",borderWidth:1},{data:t.map(a=>a.pending),label:"Pendiente (\u20AC)",backgroundColor:"rgba(255, 152, 0, 0.7)",borderColor:"rgba(255, 152, 0, 1)",borderWidth:1}]})}generateCategoryChart(i){let e=new Map;i.filter(r=>r.paymentStatus==="PAID"&&r.actualAmount).forEach(r=>{let o=e.get(r.category)||0;e.set(r.category,o+(r.actualAmount||0))});let t=Array.from(e.keys()),a=Array.from(e.values());this.categoryChartData.set({labels:t,datasets:[{data:a,backgroundColor:["rgba(255, 99, 132, 0.7)","rgba(54, 162, 235, 0.7)","rgba(255, 206, 86, 0.7)","rgba(75, 192, 192, 0.7)","rgba(153, 102, 255, 0.7)","rgba(255, 159, 64, 0.7)","rgba(201, 203, 207, 0.7)"]}]})}getMonthlyExpenses(i,e){let t=new Date,a=new Map;for(let r=e-1;r>=0;r--){let o=new Date(t.getFullYear(),t.getMonth()-r,1),s=`${o.getFullYear()}-${String(o.getMonth()+1).padStart(2,"0")}`;a.set(s,{paid:0,pending:0,count:0})}return i.forEach(r=>{let o=null,s=0,l=!1;if(r.paymentStatus==="PAID"&&r.actualPaymentDate&&r.actualAmount?(o=new Date(r.actualPaymentDate),s=r.actualAmount,l=!0):r.paymentStatus==="PENDING"&&(o=new Date(r.scheduledPaymentDate),s=r.approximateAmount,l=!1),o){let c=`${o.getFullYear()}-${String(o.getMonth()+1).padStart(2,"0")}`;if(a.has(c)){let d=a.get(c);l?d.paid+=s:d.pending+=s,d.count+=1}}}),Array.from(a.entries()).map(([r,o])=>{let[s,l]=r.split("-");return{month:new Date(parseInt(s),parseInt(l)-1,1).toLocaleDateString("es-ES",{month:"short",year:"numeric"}),paid:o.paid,pending:o.pending,count:o.count}})}getMonthlyExpensesForYear(i,e){let t=new Map;for(let a=0;a<12;a++){let r=`${e}-${String(a+1).padStart(2,"0")}`;t.set(r,{paid:0,pending:0,count:0})}return i.forEach(a=>{let r=null,o=0,s=!1;if(a.paymentStatus==="PAID"&&a.actualPaymentDate&&a.actualAmount?(r=new Date(a.actualPaymentDate),o=a.actualAmount,s=!0):a.paymentStatus==="PENDING"&&(r=new Date(a.scheduledPaymentDate),o=a.approximateAmount,s=!1),r){let l=r.getFullYear(),c=r.getMonth();if(l===e){let d=`${l}-${String(c+1).padStart(2,"0")}`;if(t.has(d)){let h=t.get(d);s?h.paid+=o:h.pending+=o,h.count+=1}}}}),Array.from(t.entries()).sort((a,r)=>a[0].localeCompare(r[0])).map(([a,r])=>{let[o,s]=a.split("-");return{month:new Date(parseInt(o),parseInt(s)-1,1).toLocaleDateString("es-ES",{month:"short"}),paid:r.paid,pending:r.pending,count:r.count}})}goToExpenses(){this.router.navigate(["/expenses"])}static \u0275fac=function(e){return new(e||n)(Be($i),Be(Ze))};static \u0275cmp=j({type:n,selectors:[["app-dashboard-page"]],decls:114,vars:49,consts:[[1,"page-container"],[1,"page-header"],[1,"dashboard-header"],[1,"header-title"],["appearance","outline",1,"year-selector"],[3,"selectionChange","value"],[3,"value",4,"ngFor","ngForOf"],[1,"header-actions"],["mat-icon-button","","matTooltip","Llista","aria-label","Ver lista",3,"click"],["mat-icon-button","","routerLink","/settings","matTooltip","Configuraci\xF3","aria-label","Configuraci\xF3"],["mat-icon-button","","matTooltip","Tancar sessi\xF3","aria-label","Tanca sessi\xF3",3,"click"],[1,"page-content"],[1,"main-cards-grid"],[1,"next-payment-card"],[1,"next-payment-info"],[1,"no-payments"],[1,"year-total-card"],[1,"year-total-info"],[1,"year-total-amount"],[1,"year-total-subtitle"],[1,"tags-filter-card"],[1,"stats-grid"],[1,"stat-card","stat-card-blue"],[1,"stat-icon"],[1,"stat-info"],[1,"stat-label"],[1,"stat-value"],[1,"stat-card","stat-card-orange"],[1,"stat-subtitle"],[1,"stat-card","stat-card-green"],[1,"stat-card","stat-card-purple"],[1,"stat-value-text"],[1,"charts-grid"],[1,"chart-card"],[1,"chart-container"],["baseChart","","type","bar",3,"data","options"],["baseChart","","type","doughnut",3,"data","options"],[3,"value"],[1,"payment-name"],[1,"payment-amount"],[1,"payment-date"],[1,"payment-countdown"],[1,"countdown-number"],[1,"countdown-label"],["mat-icon-button","","matTooltip","Limpiar filtros"],[1,"tags-chip-set"],[3,"selected","highlighted"],["mat-icon-button","","matTooltip","Limpiar filtros",3,"click"],[3,"click","highlighted"],["matChipTrailingIcon",""]],template:function(e,t){e&1&&(g(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1"),v(5,"Tauler"),m(),g(6,"mat-form-field",4)(7,"mat-label"),v(8,"Any"),m(),g(9,"mat-select",5),I("selectionChange",function(r){return t.onYearChange(r.value)}),H(10,cI,2,2,"mat-option",6),m()()(),g(11,"div",7)(12,"button",8),I("click",function(){return t.goToExpenses()}),g(13,"mat-icon"),v(14,"list"),m()(),g(15,"button",9)(16,"mat-icon"),v(17,"settings"),m()(),g(18,"button",10),I("click",function(){return t.logout()}),g(19,"mat-icon"),v(20,"logout"),m()()()()(),g(21,"div",11)(22,"div",12)(23,"mat-card",13)(24,"mat-card-header")(25,"mat-card-title")(26,"mat-icon"),v(27,"schedule"),m(),v(28," Proper Pagament "),m()(),g(29,"mat-card-content"),te(30,dI,14,15,"div",14)(31,hI,5,0,"div",15),m()(),g(32,"mat-card",16)(33,"mat-card-header")(34,"mat-card-title")(35,"mat-icon"),v(36,"calendar_today"),m(),v(37),m()(),g(38,"mat-card-content")(39,"div",17)(40,"div",18),v(41),je(42,"currency"),m(),g(43,"div",19)(44,"mat-icon"),v(45,"check_circle"),m(),g(46,"span"),v(47),m()()()()()(),te(48,fI,11,1,"mat-card",20),g(49,"div",21)(50,"mat-card",22)(51,"mat-card-content")(52,"div",23)(53,"mat-icon"),v(54,"payments"),m()(),g(55,"div",24)(56,"div",25),v(57,"Pagat Aquest Mes"),m(),g(58,"div",26),v(59),je(60,"currency"),m()()()(),g(61,"mat-card",27)(62,"mat-card-content")(63,"div",23)(64,"mat-icon"),v(65,"pending_actions"),m()(),g(66,"div",24)(67,"div",25),v(68,"Total Pendent"),m(),g(69,"div",26),v(70),je(71,"currency"),m(),g(72,"div",28),v(73),m()()()(),g(74,"mat-card",29)(75,"mat-card-content")(76,"div",23)(77,"mat-icon"),v(78,"trending_up"),m()(),g(79,"div",24)(80,"div",25),v(81,"Promig Mensual"),m(),g(82,"div",26),v(83),je(84,"currency"),m(),g(85,"div",28),v(86,"\xDAltims 6 mesos"),m()()()(),g(87,"mat-card",30)(88,"mat-card-content")(89,"div",23)(90,"mat-icon"),v(91,"category"),m()(),g(92,"div",24)(93,"div",25),v(94,"Categor\xEDa Top"),m(),g(95,"div",31),v(96),m(),g(97,"div",28),v(98,"Mayor gasto total"),m()()()()(),g(99,"div",32)(100,"mat-card",33)(101,"mat-card-header")(102,"mat-card-title"),v(103),m()(),g(104,"mat-card-content")(105,"div",34),q(106,"canvas",35),m()()(),g(107,"mat-card",33)(108,"mat-card-header")(109,"mat-card-title"),v(110,"Distribuci\xF3n por Categor\xEDa"),m()(),g(111,"mat-card-content")(112,"div",34),q(113,"canvas",36),m()()()()()()),e&2&&(C(9),E("value",t.selectedYear()),C(),E("ngForOf",t.availableYears()),C(20),ie(t.nextPayment()?30:31),C(7),he(" Total Pagat ",t.selectedYear()," "),C(4),K(bi(42,17,_i(41,rs,t.totalPaidThisYear()))),C(6),he("",t.paidPaymentsCount()," pagos realizados"),C(),ie(t.availableTags().length>0?48:-1),C(11),K(bi(60,23,_i(43,rs,t.totalPaidThisMonth()))),C(11),K(bi(71,29,_i(45,rs,t.totalPendingPayments()))),C(3),he("",t.pendingPaymentsCount()," pagaments"),C(10),K(bi(84,35,_i(47,rs,t.averageMonthlyExpense()))),C(13),K(t.mostExpensiveCategory()),C(7),he("Gastos Mensuales ",t.selectedYear()),C(3),E("data",t.monthlyChartData())("options",t.barChartOptions),C(7),E("data",t.categoryChartData())("options",t.doughnutChartOptions))},dependencies:[Rt,Ra,Kn,$n,qn,Gn,Yn,kt,Xi,li,si,Zn,Cn,vn,Ir,Wi,oi,hd,Jo,dd,cd,Nr,ka,uo,En,wv,Ms,ws],styles:[".page-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100vh;overflow:hidden}.page-header[_ngcontent-%COMP%]{flex-shrink:0;padding:1rem}@media(min-width:768px){.page-header[_ngcontent-%COMP%]{padding:1.25rem}}@media(min-width:1024px){.page-header[_ngcontent-%COMP%]{padding:1.5rem}}.page-header[_ngcontent-%COMP%]{border-bottom:1px solid #e0e0e0;background:#fff;z-index:1020}.page-content[_ngcontent-%COMP%]{flex:1;overflow-y:auto;overflow-x:hidden;padding:1rem}@media(min-width:768px){.page-content[_ngcontent-%COMP%]{padding:1.25rem}}@media(min-width:1024px){.page-content[_ngcontent-%COMP%]{padding:1.5rem}}.page-content[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px;height:8px}.page-content[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#eee;border-radius:8px}.page-content[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#bdbdbd;border-radius:8px}.page-content[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#a4a4a4}.dashboard-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;gap:1rem}.dashboard-header[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;flex:1;min-width:0}.dashboard-header[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;font-size:1.125rem}@media(min-width:1024px){.dashboard-header[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.5rem}}.dashboard-header[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-weight:500;white-space:nowrap}.dashboard-header[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]   .year-selector[_ngcontent-%COMP%]{width:100px;margin:0}.dashboard-header[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]   .year-selector[_ngcontent-%COMP%]     .mat-mdc-form-field-subscript-wrapper{display:none}.dashboard-header[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]   .year-selector[_ngcontent-%COMP%]     .mat-mdc-text-field-wrapper{padding:0}.dashboard-header[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]   .year-selector[_ngcontent-%COMP%]     .mdc-text-field{padding:8px 12px}.dashboard-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.25rem;flex-shrink:0}.dashboard-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:40px;height:40px;padding:0}.dashboard-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px}.main-cards-grid[_ngcontent-%COMP%]{display:grid;gap:1.5rem;grid-template-columns:repeat(1,1fr)}@media(min-width:768px){.main-cards-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}@media(min-width:1024px){.main-cards-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}.main-cards-grid[_ngcontent-%COMP%]{margin-bottom:1.5rem}.next-payment-card[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff}.next-payment-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;color:#fff;font-size:1.125rem}.next-payment-card[_ngcontent-%COMP%]   .next-payment-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:1.25rem 0}.next-payment-card[_ngcontent-%COMP%]   .next-payment-info[_ngcontent-%COMP%]   .payment-name[_ngcontent-%COMP%]{font-size:1.125rem}@media(min-width:1024px){.next-payment-card[_ngcontent-%COMP%]   .next-payment-info[_ngcontent-%COMP%]   .payment-name[_ngcontent-%COMP%]{font-size:1.25rem}}.next-payment-card[_ngcontent-%COMP%]   .next-payment-info[_ngcontent-%COMP%]   .payment-name[_ngcontent-%COMP%]{font-weight:500;margin-bottom:.5rem}.next-payment-card[_ngcontent-%COMP%]   .next-payment-info[_ngcontent-%COMP%]   .payment-amount[_ngcontent-%COMP%]{font-size:1.875rem}@media(min-width:1024px){.next-payment-card[_ngcontent-%COMP%]   .next-payment-info[_ngcontent-%COMP%]   .payment-amount[_ngcontent-%COMP%]{font-size:2.25rem}}.next-payment-card[_ngcontent-%COMP%]   .next-payment-info[_ngcontent-%COMP%]   .payment-amount[_ngcontent-%COMP%]{font-weight:700;margin-bottom:.5rem}.next-payment-card[_ngcontent-%COMP%]   .next-payment-info[_ngcontent-%COMP%]   .payment-date[_ngcontent-%COMP%]{font-size:1rem}@media(min-width:1024px){.next-payment-card[_ngcontent-%COMP%]   .next-payment-info[_ngcontent-%COMP%]   .payment-date[_ngcontent-%COMP%]{font-size:1.125rem}}.next-payment-card[_ngcontent-%COMP%]   .next-payment-info[_ngcontent-%COMP%]   .payment-date[_ngcontent-%COMP%]{opacity:.9;margin-bottom:1rem}.next-payment-card[_ngcontent-%COMP%]   .next-payment-info[_ngcontent-%COMP%]   .payment-countdown[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:1rem 2rem;background:#fff3;border-radius:12px;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.next-payment-card[_ngcontent-%COMP%]   .next-payment-info[_ngcontent-%COMP%]   .payment-countdown[_ngcontent-%COMP%]   .countdown-number[_ngcontent-%COMP%]{font-size:2.25rem}@media(min-width:1024px){.next-payment-card[_ngcontent-%COMP%]   .next-payment-info[_ngcontent-%COMP%]   .payment-countdown[_ngcontent-%COMP%]   .countdown-number[_ngcontent-%COMP%]{font-size:3rem}}.next-payment-card[_ngcontent-%COMP%]   .next-payment-info[_ngcontent-%COMP%]   .payment-countdown[_ngcontent-%COMP%]   .countdown-number[_ngcontent-%COMP%]{font-weight:700;line-height:1}.next-payment-card[_ngcontent-%COMP%]   .next-payment-info[_ngcontent-%COMP%]   .payment-countdown[_ngcontent-%COMP%]   .countdown-label[_ngcontent-%COMP%]{font-size:.875rem;opacity:.9;margin-top:.25rem}.next-payment-card[_ngcontent-%COMP%]   .no-payments[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:2rem;opacity:.9}.next-payment-card[_ngcontent-%COMP%]   .no-payments[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:64px;width:64px;height:64px;margin-bottom:1rem}.next-payment-card[_ngcontent-%COMP%]   .no-payments[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:1.125rem}.year-total-card[_ngcontent-%COMP%]{background:linear-gradient(135deg,#11998e,#38ef7d);color:#fff}.year-total-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;color:#fff;font-size:1.125rem}.year-total-card[_ngcontent-%COMP%]   .year-total-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:1.25rem 0}.year-total-card[_ngcontent-%COMP%]   .year-total-info[_ngcontent-%COMP%]   .year-total-amount[_ngcontent-%COMP%]{font-size:1.875rem}@media(min-width:1024px){.year-total-card[_ngcontent-%COMP%]   .year-total-info[_ngcontent-%COMP%]   .year-total-amount[_ngcontent-%COMP%]{font-size:3rem}}.year-total-card[_ngcontent-%COMP%]   .year-total-info[_ngcontent-%COMP%]   .year-total-amount[_ngcontent-%COMP%]{font-weight:700;margin-bottom:1rem}.year-total-card[_ngcontent-%COMP%]   .year-total-info[_ngcontent-%COMP%]   .year-total-subtitle[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;font-size:1rem;opacity:.95;padding:.75rem 1.5rem;background:#fff3;border-radius:9999px;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.year-total-card[_ngcontent-%COMP%]   .year-total-info[_ngcontent-%COMP%]   .year-total-subtitle[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px}.tags-filter-card[_ngcontent-%COMP%]{margin-bottom:1.5rem}.tags-filter-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.tags-filter-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;font-size:1.125rem;font-weight:500}.tags-filter-card[_ngcontent-%COMP%]   .tags-chip-set[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.5rem}.tags-filter-card[_ngcontent-%COMP%]   .tags-chip-set[_ngcontent-%COMP%]   mat-chip[_ngcontent-%COMP%]{cursor:pointer;transition:all .15s ease-in-out;background-color:#e0e0e0;color:#000000de}.tags-filter-card[_ngcontent-%COMP%]   .tags-chip-set[_ngcontent-%COMP%]   mat-chip[_ngcontent-%COMP%]:hover{background-color:#bdbdbd;transform:translateY(-2px);box-shadow:0 4px 6px -1px #0000001a,0 2px 4px -1px #0000000f}.tags-filter-card[_ngcontent-%COMP%]   .tags-chip-set[_ngcontent-%COMP%]   mat-chip.selected[_ngcontent-%COMP%]{background-color:#3f51b5;color:#fff}.tags-filter-card[_ngcontent-%COMP%]   .tags-chip-set[_ngcontent-%COMP%]   mat-chip.selected[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#fff}.tags-filter-card[_ngcontent-%COMP%]   .tags-chip-set[_ngcontent-%COMP%]   mat-chip[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px}.stats-grid[_ngcontent-%COMP%]{display:grid;gap:1.25rem;grid-template-columns:repeat(1,1fr)}@media(min-width:768px){.stats-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}@media(min-width:1024px){.stats-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(4,1fr)}}.stats-grid[_ngcontent-%COMP%]{margin-bottom:1.5rem}.stat-card[_ngcontent-%COMP%]{transition:transform .15s ease-in-out,box-shadow .15s ease-in-out}.stat-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 10px 15px -3px #0000001a,0 4px 6px -2px #0000000d}.stat-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;padding:1.25rem!important}.stat-card[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:60px;height:60px;border-radius:12px;background:#fff3}.stat-card[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:32px;width:32px;height:32px;color:#fff}.stat-card[_ngcontent-%COMP%]   .stat-info[_ngcontent-%COMP%]{flex:1}.stat-card[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{font-size:.75rem;font-weight:500;opacity:.9;margin-bottom:.25rem;text-transform:uppercase;letter-spacing:.5px}.stat-card[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{font-size:1.5rem}@media(min-width:1024px){.stat-card[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{font-size:1.875rem}}.stat-card[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{font-weight:700;line-height:1.2}.stat-card[_ngcontent-%COMP%]   .stat-value-text[_ngcontent-%COMP%]{font-size:1.125rem}@media(min-width:1024px){.stat-card[_ngcontent-%COMP%]   .stat-value-text[_ngcontent-%COMP%]{font-size:1.25rem}}.stat-card[_ngcontent-%COMP%]   .stat-value-text[_ngcontent-%COMP%]{font-weight:600;line-height:1.2;text-transform:capitalize}.stat-card[_ngcontent-%COMP%]   .stat-subtitle[_ngcontent-%COMP%]{font-size:.75rem;opacity:.8;margin-top:.25rem}.stat-card.stat-card-blue[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff}.stat-card.stat-card-orange[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f093fb,#f5576c);color:#fff}.stat-card.stat-card-green[_ngcontent-%COMP%]{background:linear-gradient(135deg,#4facfe,#00f2fe);color:#fff}.stat-card.stat-card-purple[_ngcontent-%COMP%]{background:linear-gradient(135deg,#a8edea,#fed6e3);color:#333}.charts-grid[_ngcontent-%COMP%]{display:grid;gap:1.5rem;grid-template-columns:repeat(1,1fr)}@media(min-width:768px){.charts-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(1,1fr)}}@media(min-width:1024px){.charts-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}.chart-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{margin-bottom:1rem}.chart-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:500}.chart-card[_ngcontent-%COMP%]   .chart-container[_ngcontent-%COMP%]{height:300px;position:relative}@media(max-width:767px){.page-header[_ngcontent-%COMP%]{padding:.5rem 1rem}.page-content[_ngcontent-%COMP%]{padding:1rem}.dashboard-header[_ngcontent-%COMP%], .dashboard-header[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]{gap:.5rem}.dashboard-header[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1rem}.dashboard-header[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]   .year-selector[_ngcontent-%COMP%]{width:80px}.dashboard-header[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]   .year-selector[_ngcontent-%COMP%]     .mdc-text-field{padding:6px 8px}.dashboard-header[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]   .year-selector[_ngcontent-%COMP%]     .mat-mdc-form-field-infix{min-height:32px;padding:4px 0}.dashboard-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]{gap:0}.dashboard-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:36px;height:36px}.dashboard-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px}.main-cards-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:1rem;margin-bottom:1rem}.stats-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:.75rem;margin-bottom:1rem}.charts-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:1rem}.chart-card[_ngcontent-%COMP%]   .chart-container[_ngcontent-%COMP%]{height:250px}.stat-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{padding:1rem!important}.stat-card[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{width:50px;height:50px}.stat-card[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:28px;width:28px;height:28px}}@media(min-width:768px){.page-header[_ngcontent-%COMP%]{padding:1rem 1.25rem}.page-content[_ngcontent-%COMP%]{padding:1.25rem}.dashboard-header[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.25rem}.dashboard-header[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]   .year-selector[_ngcontent-%COMP%]{width:110px}.main-cards-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr);gap:1.25rem;margin-bottom:1.25rem}.stats-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr);gap:1rem;margin-bottom:1.25rem}.charts-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr);gap:1.25rem}.chart-card[_ngcontent-%COMP%]   .chart-container[_ngcontent-%COMP%]{height:280px}}@media(min-width:1024px){.page-header[_ngcontent-%COMP%]{padding:1.25rem 1.5rem}.page-content[_ngcontent-%COMP%]{padding:1.5rem}.dashboard-header[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.5rem}.dashboard-header[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]   .year-selector[_ngcontent-%COMP%]{width:120px}.dashboard-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]{gap:.5rem}.stats-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(4,1fr)}.chart-card[_ngcontent-%COMP%]   .chart-container[_ngcontent-%COMP%]{height:300px}}@media(min-width:1440px){.chart-card[_ngcontent-%COMP%]   .chart-container[_ngcontent-%COMP%]{height:350px}}"]})};function gI(n,i){if(n&1){let e=ke();g(0,"div",1)(1,"button",2),I("click",function(){V(e);let a=A();return z(a.action())}),v(2),m()()}if(n&2){let e=A();C(2),he(" ",e.data.action," ")}}var _I=["label"];function bI(n,i){}var yI=Math.pow(2,31)-1,os=class{_overlayRef;instance;containerInstance;_afterDismissed=new G;_afterOpened=new G;_onAction=new G;_durationTimeoutId;_dismissedByAction=!1;constructor(i,e){this._overlayRef=e,this.containerInstance=i,i._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(i){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(i,yI))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}},_C=new $("MatSnackBarData"),Br=class{politeness="polite";announcementMessage="";viewContainerRef;duration=0;panelClass;direction;data=null;horizontalPosition="center";verticalPosition="bottom"},vI=(()=>{class n{static \u0275fac=function(t){return new(t||n)};static \u0275dir=Y({type:n,selectors:[["","matSnackBarLabel",""]],hostAttrs:[1,"mat-mdc-snack-bar-label","mdc-snackbar__label"]})}return n})(),CI=(()=>{class n{static \u0275fac=function(t){return new(t||n)};static \u0275dir=Y({type:n,selectors:[["","matSnackBarActions",""]],hostAttrs:[1,"mat-mdc-snack-bar-actions","mdc-snackbar__actions"]})}return n})(),xI=(()=>{class n{static \u0275fac=function(t){return new(t||n)};static \u0275dir=Y({type:n,selectors:[["","matSnackBarAction",""]],hostAttrs:[1,"mat-mdc-snack-bar-action","mdc-snackbar__action"]})}return n})(),wI=(()=>{class n{snackBarRef=b(os);data=b(_C);constructor(){}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=j({type:n,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-mdc-simple-snack-bar"],exportAs:["matSnackBar"],decls:3,vars:2,consts:[["matSnackBarLabel",""],["matSnackBarActions",""],["matButton","","matSnackBarAction","",3,"click"]],template:function(t,a){t&1&&(g(0,"div",0),v(1),m(),te(2,gI,3,1,"div",1)),t&2&&(C(),he(" ",a.data.message,`
`),C(),ie(a.hasAction?2:-1))},dependencies:[Et,vI,CI,xI],styles:[`.mat-mdc-simple-snack-bar{display:flex}.mat-mdc-simple-snack-bar .mat-mdc-snack-bar-label{max-height:50vh;overflow:auto}
`],encapsulation:2,changeDetection:0})}return n})(),nm="_mat-snack-bar-enter",am="_mat-snack-bar-exit",MI=(()=>{class n extends xf{_ngZone=b(dt);_elementRef=b(ge);_changeDetectorRef=b(ye);_platform=b(bn);_animationsDisabled=ht();snackBarConfig=b(Br);_document=b(Tt);_trackedModals=new Set;_enterFallback;_exitFallback;_injector=b(Ue);_announceDelay=150;_announceTimeoutId;_destroyed=!1;_portalOutlet;_onAnnounce=new G;_onExit=new G;_onEnter=new G;_animationState="void";_live;_label;_role;_liveElementId=b(ri).getId("mat-snack-bar-container-live-");constructor(){super();let e=this.snackBarConfig;e.politeness==="assertive"&&!e.announcementMessage?this._live="assertive":e.politeness==="off"?this._live="off":this._live="polite",this._platform.FIREFOX&&(this._live==="polite"&&(this._role="status"),this._live==="assertive"&&(this._role="alert"))}attachComponentPortal(e){this._assertNotAttached();let t=this._portalOutlet.attachComponentPortal(e);return this._afterPortalAttached(),t}attachTemplatePortal(e){this._assertNotAttached();let t=this._portalOutlet.attachTemplatePortal(e);return this._afterPortalAttached(),t}attachDomPortal=e=>{this._assertNotAttached();let t=this._portalOutlet.attachDomPortal(e);return this._afterPortalAttached(),t};onAnimationEnd(e){e===am?this._completeExit():e===nm&&(clearTimeout(this._enterFallback),this._ngZone.run(()=>{this._onEnter.next(),this._onEnter.complete()}))}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.markForCheck(),this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce(),this._animationsDisabled?st(()=>{this._ngZone.run(()=>queueMicrotask(()=>this.onAnimationEnd(nm)))},{injector:this._injector}):(clearTimeout(this._enterFallback),this._enterFallback=setTimeout(()=>{this._elementRef.nativeElement.classList.add("mat-snack-bar-fallback-visible"),this.onAnimationEnd(nm)},200)))}exit(){return this._destroyed?B(void 0):(this._ngZone.run(()=>{this._animationState="hidden",this._changeDetectorRef.markForCheck(),this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId),this._animationsDisabled?st(()=>{this._ngZone.run(()=>queueMicrotask(()=>this.onAnimationEnd(am)))},{injector:this._injector}):(clearTimeout(this._exitFallback),this._exitFallback=setTimeout(()=>this.onAnimationEnd(am),200))}),this._onExit)}ngOnDestroy(){this._destroyed=!0,this._clearFromModals(),this._completeExit()}_completeExit(){clearTimeout(this._exitFallback),queueMicrotask(()=>{this._onExit.next(),this._onExit.complete()})}_afterPortalAttached(){let e=this._elementRef.nativeElement,t=this.snackBarConfig.panelClass;t&&(Array.isArray(t)?t.forEach(o=>e.classList.add(o)):e.classList.add(t)),this._exposeToModals();let a=this._label.nativeElement,r="mdc-snackbar__label";a.classList.toggle(r,!a.querySelector(`.${r}`))}_exposeToModals(){let e=this._liveElementId,t=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let a=0;a<t.length;a++){let r=t[a],o=r.getAttribute("aria-owns");this._trackedModals.add(r),o?o.indexOf(e)===-1&&r.setAttribute("aria-owns",o+" "+e):r.setAttribute("aria-owns",e)}}_clearFromModals(){this._trackedModals.forEach(e=>{let t=e.getAttribute("aria-owns");if(t){let a=t.replace(this._liveElementId,"").trim();a.length>0?e.setAttribute("aria-owns",a):e.removeAttribute("aria-owns")}}),this._trackedModals.clear()}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{if(this._destroyed)return;let e=this._elementRef.nativeElement,t=e.querySelector("[aria-hidden]"),a=e.querySelector("[aria-live]");if(t&&a){let r=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&t.contains(document.activeElement)&&(r=document.activeElement),t.removeAttribute("aria-hidden"),a.appendChild(t),r?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=j({type:n,selectors:[["mat-snack-bar-container"]],viewQuery:function(t,a){if(t&1&&Ye(Ba,7)(_I,7),t&2){let r;X(r=Z())&&(a._portalOutlet=r.first),X(r=Z())&&(a._label=r.first)}},hostAttrs:[1,"mdc-snackbar","mat-mdc-snack-bar-container"],hostVars:6,hostBindings:function(t,a){t&1&&I("animationend",function(o){return a.onAnimationEnd(o.animationName)})("animationcancel",function(o){return a.onAnimationEnd(o.animationName)}),t&2&&de("mat-snack-bar-container-enter",a._animationState==="visible")("mat-snack-bar-container-exit",a._animationState==="hidden")("mat-snack-bar-container-animations-enabled",!a._animationsDisabled)},features:[Re],decls:6,vars:3,consts:[["label",""],[1,"mdc-snackbar__surface","mat-mdc-snackbar-surface"],[1,"mat-mdc-snack-bar-label"],["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(t,a){t&1&&(g(0,"div",1)(1,"div",2,0)(3,"div",3),H(4,bI,0,0,"ng-template",4),m(),q(5,"div"),m()()),t&2&&(C(5),pe("aria-live",a._live)("role",a._role)("id",a._liveElementId))},dependencies:[Ba],styles:[`@keyframes _mat-snack-bar-enter{from{transform:scale(0.8);opacity:0}to{transform:scale(1);opacity:1}}@keyframes _mat-snack-bar-exit{from{opacity:1}to{opacity:0}}.mat-mdc-snack-bar-container{display:flex;align-items:center;justify-content:center;box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0);margin:8px}.mat-mdc-snack-bar-handset .mat-mdc-snack-bar-container{width:100vw}.mat-snack-bar-container-animations-enabled{opacity:0}.mat-snack-bar-container-animations-enabled.mat-snack-bar-fallback-visible{opacity:1}.mat-snack-bar-container-animations-enabled.mat-snack-bar-container-enter{animation:_mat-snack-bar-enter 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-snack-bar-container-animations-enabled.mat-snack-bar-container-exit{animation:_mat-snack-bar-exit 75ms cubic-bezier(0.4, 0, 1, 1) forwards}.mat-mdc-snackbar-surface{box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12);display:flex;align-items:center;justify-content:flex-start;box-sizing:border-box;padding-left:0;padding-right:8px}[dir=rtl] .mat-mdc-snackbar-surface{padding-right:0;padding-left:8px}.mat-mdc-snack-bar-container .mat-mdc-snackbar-surface{min-width:344px;max-width:672px}.mat-mdc-snack-bar-handset .mat-mdc-snackbar-surface{width:100%;min-width:0}@media(forced-colors: active){.mat-mdc-snackbar-surface{outline:solid 1px}}.mat-mdc-snack-bar-container .mat-mdc-snackbar-surface{color:var(--mat-snack-bar-supporting-text-color, var(--mat-sys-inverse-on-surface));border-radius:var(--mat-snack-bar-container-shape, var(--mat-sys-corner-extra-small));background-color:var(--mat-snack-bar-container-color, var(--mat-sys-inverse-surface))}.mdc-snackbar__label{width:100%;flex-grow:1;box-sizing:border-box;margin:0;padding:14px 8px 14px 16px}[dir=rtl] .mdc-snackbar__label{padding-left:8px;padding-right:16px}.mat-mdc-snack-bar-container .mdc-snackbar__label{font-family:var(--mat-snack-bar-supporting-text-font, var(--mat-sys-body-medium-font));font-size:var(--mat-snack-bar-supporting-text-size, var(--mat-sys-body-medium-size));font-weight:var(--mat-snack-bar-supporting-text-weight, var(--mat-sys-body-medium-weight));line-height:var(--mat-snack-bar-supporting-text-line-height, var(--mat-sys-body-medium-line-height))}.mat-mdc-snack-bar-actions{display:flex;flex-shrink:0;align-items:center;box-sizing:border-box}.mat-mdc-snack-bar-handset,.mat-mdc-snack-bar-container,.mat-mdc-snack-bar-label{flex:1 1 auto}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled){--mat-button-text-state-layer-color: currentColor;--mat-button-text-ripple-color: currentColor}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled).mat-unthemed{color:var(--mat-snack-bar-button-color, var(--mat-sys-inverse-primary))}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled) .mat-ripple-element{opacity:.1}
`],encapsulation:2})}return n})(),SI=new $("mat-snack-bar-default-options",{providedIn:"root",factory:()=>new Br}),bC=(()=>{class n{_live=b(Ds);_injector=b(Ue);_breakpointObserver=b(Km);_parentSnackBar=b(n,{optional:!0,skipSelf:!0});_defaultConfig=b(SI);_animationsDisabled=ht();_snackBarRefAtThisLevel=null;simpleSnackBarComponent=wI;snackBarContainerComponent=MI;handsetCssClass="mat-mdc-snack-bar-handset";get _openedSnackBarRef(){let e=this._parentSnackBar;return e?e._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(e){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=e:this._snackBarRefAtThisLevel=e}constructor(){}openFromComponent(e,t){return this._attach(e,t)}openFromTemplate(e,t){return this._attach(e,t)}open(e,t="",a){let r=O(O({},this._defaultConfig),a);return r.data={message:e,action:t},r.announcementMessage===e&&(r.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,r)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(e,t){let a=t&&t.viewContainerRef&&t.viewContainerRef.injector,r=Ue.create({parent:a||this._injector,providers:[{provide:Br,useValue:t}]}),o=new xn(this.snackBarContainerComponent,t.viewContainerRef,r),s=e.attach(o);return s.instance.snackBarConfig=t,s.instance}_attach(e,t){let a=O(O(O({},new Br),this._defaultConfig),t),r=this._createOverlay(a),o=this._attachSnackBarContainer(r,a),s=new os(o,r);if(e instanceof ti){let l=new Wd(e,null,{$implicit:a.data,snackBarRef:s});s.instance=o.attachTemplatePortal(l)}else{let l=this._createInjector(a,s),c=new xn(e,void 0,l),d=o.attachComponentPortal(c);s.instance=d.instance}return this._breakpointObserver.observe(Qm.HandsetPortrait).pipe(Ce(r.detachments())).subscribe(l=>{r.overlayElement.classList.toggle(this.handsetCssClass,l.matches)}),a.announcementMessage&&o._onAnnounce.subscribe(()=>{this._live.announce(a.announcementMessage,a.politeness)}),this._animateSnackBar(s,a),this._openedSnackBarRef=s,this._openedSnackBarRef}_animateSnackBar(e,t){e.afterDismissed().subscribe(()=>{this._openedSnackBarRef==e&&(this._openedSnackBarRef=null),t.announcementMessage&&this._live.clear()}),t.duration&&t.duration>0&&e.afterOpened().subscribe(()=>e._dismissAfter(t.duration)),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{e.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):e.containerInstance.enter()}_createOverlay(e){let t=new Us;t.direction=e.direction;let a=$s(this._injector),r=e.direction==="rtl",o=e.horizontalPosition==="left"||e.horizontalPosition==="start"&&!r||e.horizontalPosition==="end"&&r,s=!o&&e.horizontalPosition!=="center";return o?a.left("0"):s?a.right("0"):a.centerHorizontally(),e.verticalPosition==="top"?a.top("0"):a.bottom("0"),t.positionStrategy=a,t.disableAnimations=this._animationsDisabled,Ha(this._injector,t)}_createInjector(e,t){let a=e&&e.viewContainerRef&&e.viewContainerRef.injector;return Ue.create({parent:a||this._injector,providers:[{provide:os,useValue:t},{provide:_C,useValue:e.data}]})}static \u0275fac=function(t){return new(t||n)};static \u0275prov=ae({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var yC=()=>[];function DI(n,i){n&1&&(g(0,"p",12),v(1,"No hi ha categories. Afegeix-ne una per comen\xE7ar."),m())}function EI(n,i){n&1&&(g(0,"th",32),v(1,"Nom"),m())}function kI(n,i){if(n&1&&(g(0,"td",33),v(1),m()),n&2){let e=i.$implicit;C(),K(e)}}function PI(n,i){n&1&&(g(0,"th",32),v(1,"Accions"),m())}function OI(n,i){if(n&1){let e=ke();g(0,"td",34)(1,"button",35),I("click",function(){let a=V(e).$implicit,r=A(2);return z(r.onEditCategory(a))}),g(2,"mat-icon"),v(3,"edit"),m()(),g(4,"button",36),I("click",function(){let a=V(e).$implicit,r=A(2);return z(r.onDeleteCategory(a))}),g(5,"mat-icon"),v(6,"delete"),m()()()}}function AI(n,i){n&1&&q(0,"tr",37)}function TI(n,i){n&1&&q(0,"tr",38)}function RI(n,i){if(n&1&&(g(0,"div",13)(1,"table",24),je(2,"async"),Qe(3,25),H(4,EI,2,0,"th",26)(5,kI,2,1,"td",27),Xe(),Qe(6,28),H(7,PI,2,0,"th",26)(8,OI,7,0,"td",29),Xe(),H(9,AI,1,0,"tr",30)(10,TI,1,0,"tr",31),m()()),n&2){let e=A();C(),E("dataSource",gn(2,3,e.categories$)??Rd(5,yC)),C(8),E("matHeaderRowDef",e.displayedColumns),C(),E("matRowDefColumns",e.displayedColumns)}}function II(n,i){n&1&&(g(0,"p",12),v(1,"No hi ha etiquetes. Afegeix-ne una per comen\xE7ar."),m())}function FI(n,i){n&1&&(g(0,"th",32),v(1,"Nom"),m())}function NI(n,i){if(n&1&&(g(0,"td",33),v(1),m()),n&2){let e=i.$implicit;C(),K(e)}}function LI(n,i){n&1&&(g(0,"th",32),v(1,"Accions"),m())}function VI(n,i){if(n&1){let e=ke();g(0,"td",34)(1,"button",35),I("click",function(){let a=V(e).$implicit,r=A(2);return z(r.onEditTag(a))}),g(2,"mat-icon"),v(3,"edit"),m()(),g(4,"button",36),I("click",function(){let a=V(e).$implicit,r=A(2);return z(r.onDeleteTag(a))}),g(5,"mat-icon"),v(6,"delete"),m()()()}}function zI(n,i){n&1&&q(0,"tr",37)}function BI(n,i){n&1&&q(0,"tr",38)}function jI(n,i){if(n&1&&(g(0,"div",13)(1,"table",24),je(2,"async"),Qe(3,25),H(4,FI,2,0,"th",26)(5,NI,2,1,"td",27),Xe(),Qe(6,28),H(7,LI,2,0,"th",26)(8,VI,7,0,"td",29),Xe(),H(9,zI,1,0,"tr",30)(10,BI,1,0,"tr",31),m()()),n&2){let e=A();C(),E("dataSource",gn(2,3,e.tags$)??Rd(5,yC)),C(8),E("matHeaderRowDef",e.displayedColumns),C(),E("matRowDefColumns",e.displayedColumns)}}function HI(n,i){if(n&1&&(g(0,"mat-card",14)(1,"mat-card-content")(2,"div",39)(3,"mat-icon",40),v(4,"error"),m(),g(5,"span"),v(6),m()()()()),n&2){let e=A();C(6),K(e.errorMessage)}}function UI(n,i){if(n&1&&(g(0,"div",41)(1,"mat-icon"),v(2,"receipt_long"),m(),g(3,"span",42),v(4),m()()),n&2){let e=A(2);C(4),K(e.selectedExpensesFile.name)}}function WI(n,i){if(n&1&&(g(0,"div",41)(1,"mat-icon"),v(2,"settings"),m(),g(3,"span",42),v(4),m()()),n&2){let e=A(2);C(4),K(e.selectedSettingsFile.name)}}function $I(n,i){if(n&1&&(g(0,"div",21),te(1,UI,5,1,"div",41),te(2,WI,5,1,"div",41),m()),n&2){let e=A();C(),ie(e.selectedExpensesFile?1:-1),C(),ie(e.selectedSettingsFile?2:-1)}}var vd=class n{settingsService=b(ea);expenseService=b($i);storage=b(Jn);authService=b(Bt);router=b(Ze);dialog=b(Ys);snackBar=b(bC);categories$=this.settingsService.categories$;tags$=this.settingsService.tags$;displayedColumns=["name","actions"];errorMessage=null;downloadMessage="";downloadType="success";showDownloadMessage=!1;uploadMessage="";uploadType="success";showUploadMessage=!1;selectedExpensesFile=null;selectedSettingsFile=null;ngOnInit(){this.loadSettings()}loadSettings(){this.errorMessage=null,this.settingsService.loadSettings().subscribe({error:i=>{this.handleLoadError(i)}})}handleLoadError(i){console.error("Error loading settings:",i),i.status===401||i.status===403?this.errorMessage="Error d'autenticaci\xF3 amb GitHub. Comprova les teves credencials.":i.status===404?this.errorMessage="Arxiu de configuraci\xF3 no trobat. Es crear\xE0 un de nou quan afegeixis categories o etiquetes.":navigator.onLine?i.message?.includes("JSON")||i.message?.includes("parse")?this.errorMessage="L'arxiu de configuraci\xF3 est\xE0 corrupte. Es crear\xE0 un de nou.":this.errorMessage="Error carregant la configuraci\xF3. Torna-ho a provar m\xE9s tard.":this.errorMessage="No hi ha connexi\xF3 a internet. Comprova la teva connexi\xF3."}onAddCategory(){this.openSettingsDialog("category","add").subscribe(i=>{i&&this.settingsService.addCategory(i.value).subscribe({next:()=>{this.snackBar.open("Categoria afegida correctament","Tancar",{duration:3e3})},error:e=>{this.snackBar.open(e.message||"Error afegint la categoria","Tancar",{duration:5e3})}})})}onEditCategory(i){this.openSettingsDialog("category","edit",i).subscribe(e=>{e&&this.settingsService.updateCategory(i,e.value).subscribe({next:()=>{this.snackBar.open("Categoria actualitzada correctament","Tancar",{duration:3e3})},error:t=>{this.snackBar.open(t.message||"Error actualitzant la categoria","Tancar",{duration:5e3})}})})}onDeleteCategory(i){this.openConfirmDialog("Eliminar Categoria",`Est\xE0s segur que vols eliminar la categoria "${i}"?`).subscribe(e=>{e&&this.settingsService.deleteCategory(i).subscribe({next:()=>{this.snackBar.open("Categoria eliminada correctament","Tancar",{duration:3e3})},error:t=>{this.snackBar.open(t.message||"Error eliminant la categoria","Tancar",{duration:5e3})}})})}onAddTag(){this.openSettingsDialog("tag","add").subscribe(i=>{i&&this.settingsService.addTag(i.value).subscribe({next:()=>{this.snackBar.open("Etiqueta afegida correctament","Tancar",{duration:3e3})},error:e=>{this.snackBar.open(e.message||"Error afegint l'etiqueta","Tancar",{duration:5e3})}})})}onEditTag(i){this.openSettingsDialog("tag","edit",i).subscribe(e=>{e&&this.settingsService.updateTag(i,e.value).subscribe({next:()=>{this.snackBar.open("Etiqueta actualitzada correctament","Tancar",{duration:3e3})},error:t=>{this.snackBar.open(t.message||"Error actualitzant l'etiqueta","Tancar",{duration:5e3})}})})}onDeleteTag(i){this.openConfirmDialog("Eliminar Etiqueta",`Est\xE0s segur que vols eliminar l'etiqueta "${i}"?`).subscribe(e=>{e&&this.settingsService.deleteTag(i).subscribe({next:()=>{this.snackBar.open("Etiqueta eliminada correctament","Tancar",{duration:3e3})},error:t=>{this.snackBar.open(t.message||"Error eliminant l'etiqueta","Tancar",{duration:5e3})}})})}logout(){this.authService.logout()}downloadExpensesJson(){this.showDownloadMessage=!1,this.storage.readExpenses().subscribe({next:i=>{this.downloadJsonFile(i,"expenses.json"),this.downloadMessage="Arxiu expenses.json descarregat correctament",this.downloadType="success",this.showDownloadMessage=!0,setTimeout(()=>{this.showDownloadMessage=!1},5e3)},error:i=>{console.error("Error downloading expenses:",i),this.downloadMessage="Error en descarregar expenses.json: "+i.message,this.downloadType="error",this.showDownloadMessage=!0,setTimeout(()=>{this.showDownloadMessage=!1},5e3)}})}downloadSettingsJson(){this.showDownloadMessage=!1,this.storage.readSettings().subscribe({next:i=>{this.downloadJsonFile(i,"settings.json"),this.downloadMessage="Arxiu settings.json descarregat correctament",this.downloadType="success",this.showDownloadMessage=!0,setTimeout(()=>{this.showDownloadMessage=!1},5e3)},error:i=>{console.error("Error downloading settings:",i),this.downloadMessage="Error en descarregar settings.json: "+i.message,this.downloadType="error",this.showDownloadMessage=!0,setTimeout(()=>{this.showDownloadMessage=!1},5e3)}})}downloadJsonFile(i,e){let t=JSON.stringify(i,null,2),a=new Blob([t],{type:"application/json"}),r=window.URL.createObjectURL(a),o=document.createElement("a");o.href=r,o.download=e,o.click(),window.URL.revokeObjectURL(r)}onExpensesFileSelected(i){let e=i.target;e.files&&e.files.length>0&&(this.selectedExpensesFile=e.files[0],this.showUploadMessage=!1)}onSettingsFileSelected(i){let e=i.target;e.files&&e.files.length>0&&(this.selectedSettingsFile=e.files[0],this.showUploadMessage=!1)}uploadFiles(){this.showUploadMessage=!1;let i=0,e=0,t=[];if((this.selectedExpensesFile?1:0)+(this.selectedSettingsFile?1:0)===0)return;let r=[];this.selectedExpensesFile&&r.push(this.readAndUploadExpenses(this.selectedExpensesFile).then(()=>{i++}).catch(o=>{e++,t.push(`Expenses: ${o.message}`),console.error("Error uploading expenses:",o)})),this.selectedSettingsFile&&r.push(this.readAndUploadSettings(this.selectedSettingsFile).then(()=>{i++}).catch(o=>{e++,t.push(`Settings: ${o.message}`),console.error("Error uploading settings:",o)})),Promise.all(r).finally(()=>{e===0?(this.uploadMessage=`${i} arxiu(s) pujat(s) correctament a GitHub`,this.uploadType="success"):i===0?(this.uploadMessage=t.join(". "),this.uploadType="error"):(this.uploadMessage=`${i} arxiu(s) pujat(s), ${e} amb errors: ${t.join(". ")}`,this.uploadType="warning"),this.showUploadMessage=!0,setTimeout(()=>{this.showUploadMessage=!1},8e3)})}readAndUploadExpenses(i){return new Promise((e,t)=>{let a=new FileReader;a.onload=r=>{try{let o=r.target?.result,s=JSON.parse(o);if(!Array.isArray(s)){t(new Error("L'arxiu expenses.json ha de contenir un array"));return}this.storage.writeExpenses(s).subscribe({next:()=>{this.selectedExpensesFile=null,e()},error:l=>{let c=l.message||"Error al subir expenses.json";t(new Error(c))}})}catch{t(new Error("Error en parsejar expenses.json: format JSON inv\xE0lid"))}},a.onerror=()=>t(new Error("Error en llegir l'arxiu")),a.readAsText(i)})}readAndUploadSettings(i){return new Promise((e,t)=>{let a=new FileReader;a.onload=r=>{try{let o=r.target?.result,s=JSON.parse(o);if(!s.categories||!s.tags){t(new Error("L'arxiu settings.json ha de contenir categories i tags"));return}this.storage.writeSettings(s).subscribe({next:()=>{this.selectedSettingsFile=null,this.loadSettings(),e()},error:l=>{let c=l.message||"Error al subir settings.json";t(new Error(c))}})}catch{t(new Error("Error en parsejar settings.json: format JSON inv\xE0lid"))}},a.onerror=()=>t(new Error("Error en llegir l'arxiu")),a.readAsText(i)})}openSettingsDialog(i,e,t){return new qi(a=>{import("./chunk-ZL3NGLSI.js").then(r=>{this.dialog.open(r.SettingsDialogComponent,{width:"400px",data:{type:i,mode:e,currentValue:t}}).afterClosed().subscribe(s=>{a.next(s),a.complete()})})})}openConfirmDialog(i,e){return new qi(t=>{import("./chunk-IZ4LUJEK.js").then(a=>{this.dialog.open(a.ConfirmDialogComponent,{width:"400px",data:{title:i,message:e}}).afterClosed().subscribe(o=>{t.next(o===!0),t.complete()})})})}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=j({type:n,selectors:[["app-settings-page"]],decls:98,vars:15,consts:[["expensesFileInput",""],["settingsFileInput",""],[1,"page-container"],[1,"page-header"],[1,"dashboard-header"],[1,"header-actions"],["mat-icon-button","","routerLink","/dashboard","matTooltip","Tauler","aria-label","Tauler"],["mat-icon-button","","routerLink","/expenses","matTooltip","Llista","aria-label","Llista de despeses"],["mat-icon-button","","matTooltip","Tancar sessi\xF3","aria-label","Tanca sessi\xF3",3,"click"],[1,"page-content"],[1,"settings-section"],["mat-raised-button","","color","primary",1,"add-button",3,"click"],[1,"empty-message"],[1,"table-wrapper"],[1,"error-card"],[1,"section-description"],[1,"action-buttons"],["mat-raised-button","","color","primary",3,"click"],["mat-raised-button","","color","accent",3,"click"],[3,"message","type","show"],["type","file","accept",".json",2,"display","none",3,"change"],[1,"selected-files"],[1,"upload-action"],["mat-raised-button","","color","primary",3,"click","disabled"],["mat-table","",1,"settings-table",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","actions"],["mat-cell","","class","actions-cell",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["mat-cell","",1,"actions-cell"],["mat-mini-fab","","color","primary","matTooltip","Editar",1,"action-button",3,"click"],["mat-mini-fab","","color","warn","matTooltip","Eliminar",1,"action-button",3,"click"],["mat-header-row",""],["mat-row",""],[1,"error-content"],["color","warn"],[1,"file-info"],[1,"file-name"]],template:function(e,t){if(e&1){let a=ke();g(0,"div",2)(1,"div",3)(2,"div",4)(3,"h1"),v(4,"Configuraci\xF3"),m(),g(5,"div",5)(6,"button",6)(7,"mat-icon"),v(8,"dashboard"),m()(),g(9,"button",7)(10,"mat-icon"),v(11,"list"),m()(),g(12,"button",8),I("click",function(){return V(a),z(t.logout())}),g(13,"mat-icon"),v(14,"logout"),m()()()()(),g(15,"div",9)(16,"mat-card",10)(17,"mat-card-header")(18,"mat-card-title")(19,"mat-icon"),v(20,"category"),m(),v(21," Categories "),m()(),g(22,"mat-card-content")(23,"button",11),I("click",function(){return V(a),z(t.onAddCategory())}),g(24,"mat-icon"),v(25,"add"),m(),v(26," Afegir Categoria "),m(),te(27,DI,2,0,"p",12),je(28,"async"),Ad(29,RI,11,6,"div",13),m()(),g(30,"mat-card",10)(31,"mat-card-header")(32,"mat-card-title")(33,"mat-icon"),v(34,"label"),m(),v(35," Etiquetes "),m()(),g(36,"mat-card-content")(37,"button",11),I("click",function(){return V(a),z(t.onAddTag())}),g(38,"mat-icon"),v(39,"add"),m(),v(40," Afegir Etiqueta "),m(),te(41,II,2,0,"p",12),je(42,"async"),Ad(43,jI,11,6,"div",13),m()(),te(44,HI,7,1,"mat-card",14),g(45,"mat-card",10)(46,"mat-card-header")(47,"mat-card-title")(48,"mat-icon"),v(49,"download"),m(),v(50," Exportar Dades "),m()(),g(51,"mat-card-content")(52,"p",15),v(53,"Descarrega els arxius JSON tal com estan emmagatzemats a GitHub."),m(),g(54,"div",16)(55,"button",17),I("click",function(){return V(a),z(t.downloadExpensesJson())}),g(56,"mat-icon"),v(57,"receipt_long"),m(),g(58,"span"),v(59,"Descarregar Expenses.json"),m()(),g(60,"button",18),I("click",function(){return V(a),z(t.downloadSettingsJson())}),g(61,"mat-icon"),v(62,"settings"),m(),g(63,"span"),v(64,"Descarregar Settings.json"),m()()(),q(65,"app-notification-message",19),m()(),g(66,"mat-card",10)(67,"mat-card-header")(68,"mat-card-title")(69,"mat-icon"),v(70,"upload"),m(),v(71," Importar Dades "),m()(),g(72,"mat-card-content")(73,"p",15),v(74,"Puja arxius JSON per actualitzar les dades a GitHub."),m(),g(75,"div",16)(76,"input",20,0),I("change",function(o){return V(a),z(t.onExpensesFileSelected(o))}),m(),g(78,"button",17),I("click",function(){V(a);let o=Pi(77);return z(o.click())}),g(79,"mat-icon"),v(80,"receipt_long"),m(),g(81,"span"),v(82,"Seleccionar Expenses.json"),m()(),g(83,"input",20,1),I("change",function(o){return V(a),z(t.onSettingsFileSelected(o))}),m(),g(85,"button",18),I("click",function(){V(a);let o=Pi(84);return z(o.click())}),g(86,"mat-icon"),v(87,"settings"),m(),g(88,"span"),v(89,"Seleccionar Settings.json"),m()()(),te(90,$I,3,2,"div",21),g(91,"div",22)(92,"button",23),I("click",function(){return V(a),z(t.uploadFiles())}),g(93,"mat-icon"),v(94,"cloud_upload"),m(),g(95,"span"),v(96,"Pujar Arxius"),m()()(),q(97,"app-notification-message",19),m()()()()}if(e&2){let a,r;C(27),ie(((a=gn(28,11,t.categories$))==null?null:a.length)===0?27:29),C(14),ie(((r=gn(42,13,t.tags$))==null?null:r.length)===0?41:43),C(3),ie(t.errorMessage?44:-1),C(21),E("message",t.downloadMessage)("type",t.downloadType)("show",t.showDownloadMessage),C(25),ie(t.selectedExpensesFile||t.selectedSettingsFile?90:-1),C(2),E("disabled",!t.selectedExpensesFile&&!t.selectedSettingsFile),C(5),E("message",t.uploadMessage)("type",t.uploadType)("show",t.showUploadMessage)}},dependencies:[Rt,uo,En,Kn,$n,qn,Gn,Yn,ld,Zc,ed,ad,td,Jc,rd,id,nd,od,sd,kt,Et,js,Xi,li,si,Nr,ka,ta,xs],styles:[".page-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100vh;overflow:hidden}.page-header[_ngcontent-%COMP%]{flex-shrink:0;padding:1rem}@media(min-width:768px){.page-header[_ngcontent-%COMP%]{padding:1.25rem}}@media(min-width:1024px){.page-header[_ngcontent-%COMP%]{padding:1.5rem}}.page-header[_ngcontent-%COMP%]{border-bottom:1px solid #e0e0e0;background:#fff;z-index:1020}.page-content[_ngcontent-%COMP%]{flex:1;overflow-y:auto;overflow-x:hidden;padding:1rem}@media(min-width:768px){.page-content[_ngcontent-%COMP%]{padding:1.25rem}}@media(min-width:1024px){.page-content[_ngcontent-%COMP%]{padding:1.5rem}}.page-content[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px;height:8px}.page-content[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#eee;border-radius:8px}.page-content[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#bdbdbd;border-radius:8px}.page-content[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#a4a4a4}.dashboard-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;gap:1rem}.dashboard-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;font-size:1.125rem}@media(min-width:1024px){.dashboard-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.5rem}}.dashboard-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-weight:500;white-space:nowrap}.dashboard-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.25rem;flex-shrink:0}.dashboard-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:40px;height:40px;padding:0}.dashboard-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px}.settings-section[_ngcontent-%COMP%]{margin-bottom:1.25rem;box-shadow:0 4px 6px -1px #0000001a,0 2px 4px -1px #0000000f}.settings-section[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{padding:1rem;background-color:#fafafa;border-bottom:1px solid #eeeeee}.settings-section[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;margin:0;font-size:1.125rem}@media(min-width:1024px){.settings-section[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{font-size:1.25rem}}.settings-section[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{font-weight:500;color:#212121}.settings-section[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#3f51b5}.settings-section[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{padding:1rem}.settings-section[_ngcontent-%COMP%]   .add-button[_ngcontent-%COMP%]{width:100%;margin-bottom:1rem;display:flex;align-items:center;justify-content:center;gap:.5rem}.settings-section[_ngcontent-%COMP%]   .empty-message[_ngcontent-%COMP%]{text-align:center;color:#757575;padding:1.5rem;margin:0;font-style:italic}.settings-section[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]{overflow-x:auto;width:100%;background-color:#fff;border-radius:8px;box-shadow:0 2px 8px #00000014;border:1px solid #e8eaed}.settings-section[_ngcontent-%COMP%]   .settings-table[_ngcontent-%COMP%]{width:100%;border-collapse:separate;border-spacing:0}.settings-section[_ngcontent-%COMP%]   .settings-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:600;font-size:13px;text-transform:uppercase;letter-spacing:.5px;background:linear-gradient(to bottom,#f8f9fa,#f1f3f4);color:#5f6368;border-bottom:2px solid #e8eaed;position:sticky;top:0;z-index:10}.settings-section[_ngcontent-%COMP%]   .settings-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .settings-section[_ngcontent-%COMP%]   .settings-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:14px 18px}.settings-section[_ngcontent-%COMP%]   .settings-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:14px;color:#3c4043;border-bottom:1px solid #f1f3f4}.settings-section[_ngcontent-%COMP%]   .settings-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]{border-bottom:none}.settings-section[_ngcontent-%COMP%]   .settings-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#f8f9fa}.settings-section[_ngcontent-%COMP%]   .settings-table[_ngcontent-%COMP%]   .actions-cell[_ngcontent-%COMP%]{white-space:nowrap;text-align:right;width:140px}.settings-section[_ngcontent-%COMP%]   .settings-table[_ngcontent-%COMP%]   .action-button[_ngcontent-%COMP%]{width:36px!important;height:36px!important;min-width:36px!important;margin:0 4px!important;box-shadow:0 2px 4px #00000026!important;transition:all .2s ease!important}.settings-section[_ngcontent-%COMP%]   .settings-table[_ngcontent-%COMP%]   .action-button[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 8px #0003!important}.settings-section[_ngcontent-%COMP%]   .settings-table[_ngcontent-%COMP%]   .action-button[_ngcontent-%COMP%]:active{transform:translateY(0)}.settings-section[_ngcontent-%COMP%]   .settings-table[_ngcontent-%COMP%]   .action-button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px}.error-card[_ngcontent-%COMP%]{margin-bottom:1.25rem;background-color:#fff8f7;border-left:4px solid #f44336;box-shadow:0 4px 6px -1px #0000001a,0 2px 4px -1px #0000000f}.error-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{padding:1rem}.error-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .error-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}.error-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .error-content[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{flex-shrink:0}.error-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .error-content[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#ea1c0d;font-size:.875rem}.section-description[_ngcontent-%COMP%]{color:#757575;font-size:.875rem;margin-bottom:1rem;font-style:italic}.action-buttons[_ngcontent-%COMP%]{display:flex;gap:1.25rem;flex-wrap:wrap;margin-bottom:1rem}.action-buttons[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{display:none}.action-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;flex:1;min-width:200px}.action-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px}.selected-files[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem;margin-bottom:1rem;padding:1rem;background-color:#fafafa;border-radius:8px;border:1px solid #eeeeee}.selected-files[_ngcontent-%COMP%]   .file-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;color:#616161}.selected-files[_ngcontent-%COMP%]   .file-info[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px;color:#3f51b5}.selected-files[_ngcontent-%COMP%]   .file-info[_ngcontent-%COMP%]   .file-name[_ngcontent-%COMP%]{font-size:.875rem;font-weight:500;word-break:break-all}.upload-action[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-bottom:1rem}.upload-action[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;min-width:200px}.upload-action[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px}@media(max-width:767px){.page-header[_ngcontent-%COMP%]{padding:.5rem 1rem}.page-content[_ngcontent-%COMP%]{padding:1rem}.dashboard-header[_ngcontent-%COMP%]{gap:.5rem}.dashboard-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1rem}.dashboard-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]{gap:0}.dashboard-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:36px;height:36px}.dashboard-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px}.settings-section[_ngcontent-%COMP%]{margin-bottom:1rem}.settings-section[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{padding:.5rem}.settings-section[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{font-size:1rem}.settings-section[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px}.settings-section[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{padding:.5rem}.settings-section[_ngcontent-%COMP%]   .add-button[_ngcontent-%COMP%]{font-size:.875rem;padding:.5rem}.settings-section[_ngcontent-%COMP%]   .add-button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px}.settings-section[_ngcontent-%COMP%]   .empty-message[_ngcontent-%COMP%]{padding:1rem;font-size:.875rem}.settings-section[_ngcontent-%COMP%]   .settings-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .settings-section[_ngcontent-%COMP%]   .settings-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:10px 12px;font-size:13px}.settings-section[_ngcontent-%COMP%]   .settings-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-size:11px}.settings-section[_ngcontent-%COMP%]   .settings-table[_ngcontent-%COMP%]   .actions-cell[_ngcontent-%COMP%]{width:100px}.settings-section[_ngcontent-%COMP%]   .settings-table[_ngcontent-%COMP%]   .action-button[_ngcontent-%COMP%]{width:32px!important;height:32px!important;min-width:32px!important;margin:0 2px!important}.settings-section[_ngcontent-%COMP%]   .settings-table[_ngcontent-%COMP%]   .action-button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:16px;width:16px;height:16px}.error-card[_ngcontent-%COMP%]{margin-bottom:1rem}.error-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{padding:.5rem}.error-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .error-content[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.75rem}.error-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .error-content[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px}.section-description[_ngcontent-%COMP%]{font-size:.75rem;margin-bottom:.5rem}.action-buttons[_ngcontent-%COMP%]{flex-direction:column;gap:.5rem}.action-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;min-width:unset;font-size:.875rem}.action-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px}.selected-files[_ngcontent-%COMP%]{padding:.5rem}.selected-files[_ngcontent-%COMP%]   .file-info[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:16px;width:16px;height:16px}.selected-files[_ngcontent-%COMP%]   .file-info[_ngcontent-%COMP%]   .file-name[_ngcontent-%COMP%]{font-size:.75rem}.upload-action[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;min-width:unset;font-size:.875rem}.upload-action[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px}}@media(max-width:479px){.page-header[_ngcontent-%COMP%], .page-content[_ngcontent-%COMP%]{padding:.5rem}.dashboard-header[_ngcontent-%COMP%]{gap:.5rem}.dashboard-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1rem}.settings-section[_ngcontent-%COMP%]   mat-list[_ngcontent-%COMP%]   mat-list-item[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:.5rem}.settings-section[_ngcontent-%COMP%]   mat-list[_ngcontent-%COMP%]   mat-list-item[_ngcontent-%COMP%]   .item-name[_ngcontent-%COMP%]{width:100%}.settings-section[_ngcontent-%COMP%]   mat-list[_ngcontent-%COMP%]   mat-list-item[_ngcontent-%COMP%]   .item-actions[_ngcontent-%COMP%]{width:100%;justify-content:flex-end}.settings-section[_ngcontent-%COMP%]   .settings-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .settings-section[_ngcontent-%COMP%]   .settings-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:8px 10px;font-size:12px}.settings-section[_ngcontent-%COMP%]   .settings-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-size:10px}.settings-section[_ngcontent-%COMP%]   .settings-table[_ngcontent-%COMP%]   .actions-cell[_ngcontent-%COMP%]{width:90px}.settings-section[_ngcontent-%COMP%]   .settings-table[_ngcontent-%COMP%]   .action-button[_ngcontent-%COMP%]{width:30px!important;height:30px!important;min-width:30px!important}.settings-section[_ngcontent-%COMP%]   .settings-table[_ngcontent-%COMP%]   .action-button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:14px;width:14px;height:14px}}@media(min-width:768px){.page-header[_ngcontent-%COMP%], .page-content[_ngcontent-%COMP%]{padding:1.25rem}.dashboard-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.5rem}.dashboard-header[_ngcontent-%COMP%]   .header-controls[_ngcontent-%COMP%]{flex-direction:row;width:auto}.dashboard-header[_ngcontent-%COMP%]   .header-controls[_ngcontent-%COMP%]   .desktop-button[_ngcontent-%COMP%]{display:inline-flex}.dashboard-header[_ngcontent-%COMP%]   .header-controls[_ngcontent-%COMP%]   .mobile-button[_ngcontent-%COMP%]{display:none}.settings-section[_ngcontent-%COMP%]{margin-bottom:1.25rem}.settings-section[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{padding:1rem}.settings-section[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{font-size:1.125rem}.settings-section[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{padding:1rem}.settings-section[_ngcontent-%COMP%]   .add-button[_ngcontent-%COMP%]{max-width:300px}.settings-section[_ngcontent-%COMP%]   .empty-message[_ngcontent-%COMP%]{padding:1.5rem}.settings-section[_ngcontent-%COMP%]   .settings-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .settings-section[_ngcontent-%COMP%]   .settings-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:12px 16px}.settings-section[_ngcontent-%COMP%]   .settings-table[_ngcontent-%COMP%]   .actions-cell[_ngcontent-%COMP%]{width:120px}.error-card[_ngcontent-%COMP%]{margin-bottom:1.25rem}.action-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{min-width:220px}}@media(min-width:1024px){.page-header[_ngcontent-%COMP%], .page-content[_ngcontent-%COMP%]{padding:1.5rem}.dashboard-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.875rem}.settings-section[_ngcontent-%COMP%]{margin-bottom:1.5rem}.settings-section[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{padding:1.25rem}.settings-section[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{font-size:1.25rem}.settings-section[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{padding:1.25rem}.settings-section[_ngcontent-%COMP%]   .add-button[_ngcontent-%COMP%]{max-width:300px}.settings-section[_ngcontent-%COMP%]   .empty-message[_ngcontent-%COMP%]{padding:2rem}.settings-section[_ngcontent-%COMP%]   .settings-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .settings-section[_ngcontent-%COMP%]   .settings-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:14px 18px}.settings-section[_ngcontent-%COMP%]   .settings-table[_ngcontent-%COMP%]   .actions-cell[_ngcontent-%COMP%]{width:140px}.settings-section[_ngcontent-%COMP%]   .settings-table[_ngcontent-%COMP%]   .action-button[_ngcontent-%COMP%]{width:36px!important;height:36px!important}.settings-section[_ngcontent-%COMP%]   .settings-table[_ngcontent-%COMP%]   .action-button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px}.error-card[_ngcontent-%COMP%]{margin-bottom:1.5rem}.error-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{padding:1.25rem}.action-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{min-width:250px}}"]})};var Cd=(n,i)=>{let e=b(Bt),t=b(Ze);return e.isAuthenticated()?!0:(t.navigate(["/login"]),!1)};var vC=[{path:"",redirectTo:"/login",pathMatch:"full"},{path:"login",component:Uc},{path:"dashboard",component:yd,canActivate:[Cd]},{path:"expenses",component:bd,canActivate:[Cd]},{path:"settings",component:vd,canActivate:[Cd]},{path:"**",redirectTo:"/login"}];var rm="Service workers are disabled or not supported by this browser",jr=class{serviceWorker;worker;registration;events;constructor(i,e){if(this.serviceWorker=i,!i)this.worker=this.events=this.registration=new qi(t=>t.error(new U(5601,!1)));else{let t=null,a=new G;this.worker=new qi(c=>(t!==null&&c.next(t),a.subscribe(d=>c.next(d))));let r=()=>{let{controller:c}=i;c!==null&&(t=c,a.next(t))};i.addEventListener("controllerchange",r),r(),this.registration=this.worker.pipe(Oe(()=>i.getRegistration().then(c=>{if(!c)throw new U(5601,!1);return c})));let o=new G;this.events=o.asObservable();let s=c=>{let{data:d}=c;d?.type&&o.next(d)};i.addEventListener("message",s),e?.get(Yr,null,{optional:!0})?.onDestroy(()=>{i.removeEventListener("controllerchange",r),i.removeEventListener("message",s)})}}postMessage(i,e){return new Promise(t=>{this.worker.pipe(vt(1)).subscribe(a=>{a.postMessage(O({action:i},e)),t()})})}postMessageWithOperation(i,e,t){let a=this.waitForOperationCompleted(t),r=this.postMessage(i,e);return Promise.all([r,a]).then(([,o])=>o)}generateNonce(){return Math.round(Math.random()*1e7)}eventsOfType(i){let e;return typeof i=="string"?e=t=>t.type===i:e=t=>i.includes(t.type),this.events.pipe(yt(e))}nextEventOfType(i){return this.eventsOfType(i).pipe(vt(1))}waitForOperationCompleted(i){return new Promise((e,t)=>{this.eventsOfType("OPERATION_COMPLETED").pipe(yt(a=>a.nonce===i),vt(1),ee(a=>{if(a.result!==void 0)return a.result;throw new Error(a.error)})).subscribe({next:e,error:t})})}get isEnabled(){return!!this.serviceWorker}},YI=(()=>{class n{sw;messages;notificationClicks;notificationCloses;pushSubscriptionChanges;subscription;get isEnabled(){return this.sw.isEnabled}pushManager=null;subscriptionChanges=new G;constructor(e){if(this.sw=e,!e.isEnabled){this.messages=un,this.notificationClicks=un,this.notificationCloses=un,this.pushSubscriptionChanges=un,this.subscription=un;return}this.messages=this.sw.eventsOfType("PUSH").pipe(ee(a=>a.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(ee(a=>a.data)),this.notificationCloses=this.sw.eventsOfType("NOTIFICATION_CLOSE").pipe(ee(a=>a.data)),this.pushSubscriptionChanges=this.sw.eventsOfType("PUSH_SUBSCRIPTION_CHANGE").pipe(ee(a=>a.data)),this.pushManager=this.sw.registration.pipe(ee(a=>a.pushManager));let t=this.pushManager.pipe(Oe(a=>a.getSubscription()));this.subscription=new qi(a=>{let r=t.subscribe(a),o=this.subscriptionChanges.subscribe(a);return()=>{r.unsubscribe(),o.unsubscribe()}})}requestSubscription(e){if(!this.sw.isEnabled||this.pushManager===null)return Promise.reject(new Error(rm));let t={userVisibleOnly:!0},a=this.decodeBase64(e.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),r=new Uint8Array(new ArrayBuffer(a.length));for(let o=0;o<a.length;o++)r[o]=a.charCodeAt(o);return t.applicationServerKey=r,new Promise((o,s)=>{this.pushManager.pipe(Oe(l=>l.subscribe(t)),vt(1)).subscribe({next:l=>{this.subscriptionChanges.next(l),o(l)},error:s})})}unsubscribe(){if(!this.sw.isEnabled)return Promise.reject(new Error(rm));let e=t=>{if(t===null)throw new U(5602,!1);return t.unsubscribe().then(a=>{if(!a)throw new U(5603,!1);this.subscriptionChanges.next(null)})};return new Promise((t,a)=>{this.subscription.pipe(vt(1),Oe(e)).subscribe({next:t,error:a})})}decodeBase64(e){return atob(e)}static \u0275fac=function(t){return new(t||n)(it(jr))};static \u0275prov=ae({token:n,factory:n.\u0275fac})}return n})(),qI=(()=>{class n{sw;versionUpdates;unrecoverable;get isEnabled(){return this.sw.isEnabled}ongoingCheckForUpdate=null;constructor(e){if(this.sw=e,!e.isEnabled){this.versionUpdates=un,this.unrecoverable=un;return}this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(rm));if(this.ongoingCheckForUpdate)return this.ongoingCheckForUpdate;let e=this.sw.generateNonce();return this.ongoingCheckForUpdate=this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:e},e).finally(()=>{this.ongoingCheckForUpdate=null}),this.ongoingCheckForUpdate}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new U(5601,!1));let e=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:e},e)}static \u0275fac=function(t){return new(t||n)(it(jr))};static \u0275prov=ae({token:n,factory:n.\u0275fac})}return n})(),xC=new $("");function GI(){let n=b(ss);if(!("serviceWorker"in navigator&&n.enabled!==!1))return;let i=b(xC),e=b(dt),t=b(Yr);e.runOutsideAngular(()=>{let a=navigator.serviceWorker,r=()=>a.controller?.postMessage({action:"INITIALIZE"});a.addEventListener("controllerchange",r),t.onDestroy(()=>{a.removeEventListener("controllerchange",r)})}),e.runOutsideAngular(()=>{let a,{registrationStrategy:r}=n;if(typeof r=="function")a=new Promise(o=>r().subscribe(()=>o()));else{let[o,...s]=(r||"registerWhenStable:30000").split(":");switch(o){case"registerImmediately":a=Promise.resolve();break;case"registerWithDelay":a=CC(+s[0]||0);break;case"registerWhenStable":a=Promise.race([t.whenStable(),CC(+s[0])]);break;default:throw new U(5600,!1)}}a.then(()=>{t.destroyed||navigator.serviceWorker.register(i,{scope:n.scope,updateViaCache:n.updateViaCache,type:n.type}).catch(o=>console.error(cs(5604,!1)))})})}function CC(n){return new Promise(i=>setTimeout(i,n))}function KI(){let n=b(ss),i=b(Ue),e=!0;return new jr(e&&n.enabled!==!1?navigator.serviceWorker:void 0,i)}var ss=class{enabled;updateViaCache;type;scope;registrationStrategy};function wC(n,i={}){return hs([YI,qI,{provide:xC,useValue:n},{provide:ss,useValue:i},{provide:jr,useFactory:KI},$r(GI)])}var om={production:!0,apiUrl:"https://expense-tracker-api-deploy.vercel.app/api",apiSecret:"641136c1aa26735363f164708ee547d8c204581590af006936d240fefcdf8f30",storageConfig:"",github:{owner:"",repo:"",branch:"main",filePath:"expenses.json",settingsFilePath:"settings.json",token:""}};var xd=class n{algorithm="AES-GCM";keyLength=256;ivLength=12;async deriveKey(i){let e=new TextEncoder,t=e.encode(i),a=await crypto.subtle.importKey("raw",t,"PBKDF2",!1,["deriveBits","deriveKey"]),r=e.encode("expense-tracker-salt-v1");return crypto.subtle.deriveKey({name:"PBKDF2",salt:r,iterations:1e5,hash:"SHA-256"},a,{name:this.algorithm,length:this.keyLength},!1,["encrypt","decrypt"])}async encrypt(i,e){if(!e)throw new Error("Storage configuration is required");try{let t=JSON.stringify(i),r=new TextEncoder().encode(t),o=crypto.getRandomValues(new Uint8Array(this.ivLength)),s=await this.deriveKey(e),l=await crypto.subtle.encrypt({name:this.algorithm,iv:o},s,r),c=new Uint8Array(o.length+l.byteLength);return c.set(o,0),c.set(new Uint8Array(l),o.length),this.arrayBufferToBase64(c)}catch(t){throw console.error("Data transformation error:",t),new Error("Failed to transform data")}}async decrypt(i,e){if(!e)throw new Error("Storage configuration is required");try{let t=this.base64ToArrayBuffer(i),a=t.slice(0,this.ivLength),r=t.slice(this.ivLength),o=await this.deriveKey(e),s=await crypto.subtle.decrypt({name:this.algorithm,iv:a},o,r),c=new TextDecoder().decode(s);return JSON.parse(c)}catch(t){throw console.error("Data restoration error:",t),new Error("Failed to restore data. The configuration may be incorrect.")}}arrayBufferToBase64(i){let e="",t=new Uint8Array(i),a=t.byteLength;for(let r=0;r<a;r++)e+=String.fromCharCode(t[r]);return btoa(e)}base64ToArrayBuffer(i){let e=atob(i),t=e.length,a=new Uint8Array(t);for(let r=0;r<t;r++)a[r]=e.charCodeAt(r);return a}static generateKey(){let i=new Uint8Array(32);return crypto.getRandomValues(i),Array.from(i,e=>e.toString(16).padStart(2,"0")).join("")}static \u0275fac=function(e){return new(e||n)};static \u0275prov=ae({token:n,factory:n.\u0275fac,providedIn:"root"})};var wd=class n{http=b($m);encryptionService=b(xd);authService=b(Bt);apiUrl=om.apiUrl;apiSecret=om.apiSecret;defaultSettings={categories:["Subministraments","Lloguer/Hipoteca","Asseguran\xE7a","Subscripcions","Telecomunicacions","Salut","Oci","Educaci\xF3"],tags:["Hogar","Transporte","Entretenimiento","Salud","Formaci\xF3n","Personal"],lastUpdated:new Date};readExpenses(){return this.http.get(`${this.apiUrl}/expenses`,{headers:this.buildHeaders(),responseType:"text"}).pipe(Oe(i=>ot(this.parseContent(i))),ee(i=>this.transformDates(i)),At(i=>i.status===404||i.error&&i.error.includes("not found")?(console.log("Expense file not found, returning empty array"),B([])):this.handleError(i)))}readSettings(){return this.http.get(`${this.apiUrl}/settings`,{headers:this.buildHeaders(),responseType:"text"}).pipe(Oe(i=>ot(this.parseContent(i))),ee(i=>this.transformSettingsDates(i)),At(i=>i.status===404?(console.log("Settings file not found, returning default settings"),B(this.defaultSettings)):this.handleError(i)))}writeExpenses(i){return ot(this.prepareContent(i)).pipe(Oe(e=>this.http.put(`${this.apiUrl}/expenses`,{content:e},{headers:this.buildHeaders()})),ee(()=>{}),At(e=>this.handleError(e)))}writeSettings(i){let e=be(O({},i),{lastUpdated:new Date});return ot(this.prepareContent(e)).pipe(Oe(t=>this.http.put(`${this.apiUrl}/settings`,{content:t},{headers:this.buildHeaders()})),ee(()=>{}),At(t=>this.handleError(t)))}async prepareContent(i){let e=this.authService.getEncryptionKey();return e?await this.encryptionService.encrypt(i,e):JSON.stringify(i,null,2)}async parseContent(i){let e=i.trim(),t=this.authService.getEncryptionKey();if(e.startsWith("[")||e.startsWith("{")){console.log("Detected plain JSON format");try{return JSON.parse(e)}catch(a){throw console.error("Failed to parse as JSON:",a),new Error("Invalid JSON format")}}if(t){console.log("Detected encrypted format, attempting to decrypt");try{return await this.encryptionService.decrypt(e,t)}catch(a){console.error("Failed to decrypt:",a);try{return JSON.parse(e)}catch{throw new Error("Failed to decrypt data. The encryption key may be incorrect.")}}}else throw console.warn("Data appears to be encrypted but no encryption key provided"),new Error("Encryption key is required to read encrypted data")}buildHeaders(){return new Wm({Authorization:`Bearer ${this.apiSecret}`,"Content-Type":"application/json"})}transformDates(i){return i.map(e=>be(O({},e),{scheduledPaymentDate:new Date(e.scheduledPaymentDate),actualPaymentDate:e.actualPaymentDate?new Date(e.actualPaymentDate):null,createdAt:new Date(e.createdAt)}))}transformSettingsDates(i){return be(O({},i),{lastUpdated:new Date(i.lastUpdated)})}handleError(i){let e;if(i.error instanceof ErrorEvent)e="Unable to connect to the API. Please check your internet connection.";else switch(i.status){case 401:e="API authentication failed. Please check your configuration.";break;case 403:e="Access forbidden. Your API credentials may not have the required permissions.";break;case 404:e="Data file not found.";break;case 500:e="Server error occurred. Please try again later.";break;default:e=`An error occurred: ${i.message}`}return console.error("API Error:",e,i),ei(()=>new Error(e))}static \u0275fac=function(e){return new(e||n)};static \u0275prov=ae({token:n,factory:n.\u0275fac,providedIn:"root"})};jm(Pv);var QI={parse:{dateInput:"DD/MM/YYYY"},display:{dateInput:"DD/MM/YYYY",monthYearLabel:"MMM YYYY",dateA11yLabel:"DD/MM/YYYY",monthYearA11yLabel:"MMMM YYYY"}},MC={providers:[ym(),xh(vC),Ym(),F_(),Dp(),{provide:vs,useValue:"es-ES"},{provide:qo,useValue:"es-ES"},{provide:Ui,useValue:QI},{provide:Jn,useClass:wd},xv(Cv()),wC("ngsw-worker.js",{enabled:!Fm(),registrationStrategy:"registerWhenStable:30000"})]};var Md=class n{settingsService=b(ea);ngOnInit(){this.settingsService.loadSettings().subscribe({error:i=>{console.error("Error loading settings at startup:",i)}})}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=j({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(e,t){e&1&&q(0,"router-outlet")},dependencies:[ro],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;height:100vh;width:100%;overflow:hidden}"]})};Um(Md,MC).catch(n=>console.error(n));
